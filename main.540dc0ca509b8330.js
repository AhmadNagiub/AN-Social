"use strict";(self.webpackChunkANSocialApp=self.webpackChunkANSocialApp||[]).push([[179],{367:(qa,hi,Ft)=>{Ft.d(hi,{Z:()=>Qt});var Tt,pt,ge=Ft(655),I=Ft(492),Ge=Ft(461),it=Ft(3),eo=((Tt={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Tt["bad-app-name"]="Illegal App name: '{$appName}",Tt["duplicate-app"]="Firebase App named '{$appName}' already exists",Tt["app-deleted"]="Firebase App named '{$appName}' already deleted",Tt["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Tt["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Tt),Tr=new I.LL("app","Firebase",eo),Ei="@firebase/app",Ln="[DEFAULT]",et=((pt={})[Ei]="fire-core",pt["@firebase/analytics"]="fire-analytics",pt["@firebase/app-check"]="fire-app-check",pt["@firebase/auth"]="fire-auth",pt["@firebase/database"]="fire-rtdb",pt["@firebase/functions"]="fire-fn",pt["@firebase/installations"]="fire-iid",pt["@firebase/messaging"]="fire-fcm",pt["@firebase/performance"]="fire-perf",pt["@firebase/remote-config"]="fire-rc",pt["@firebase/storage"]="fire-gcs",pt["@firebase/firestore"]="fire-fst",pt["fire-js"]="fire-js",pt["firebase-wrapper"]="fire-js-all",pt),en=new it.Yd("@firebase/app"),Ci=function(){function Ue(Ee,Fe,vn){var ln=this;this.firebase_=vn,this.isDeleted_=!1,this.name_=Fe.name,this.automaticDataCollectionEnabled_=Fe.automaticDataCollectionEnabled||!1,this.options_=(0,I.p$)(Ee),this.container=new Ge.H0(Fe.name),this._addComponent(new Ge.wA("app",function(){return ln},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(Fi){return ln._addComponent(Fi)})}return Object.defineProperty(Ue.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Ee){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Ee},enumerable:!1,configurable:!0}),Object.defineProperty(Ue.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Ue.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Ue.prototype.delete=function(){var Ee=this;return new Promise(function(Fe){Ee.checkDestroyed_(),Fe()}).then(function(){return Ee.firebase_.INTERNAL.removeApp(Ee.name_),Promise.all(Ee.container.getProviders().map(function(Fe){return Fe.delete()}))}).then(function(){Ee.isDeleted_=!0})},Ue.prototype._getService=function(Ee,Fe){var vn;void 0===Fe&&(Fe=Ln),this.checkDestroyed_();var ln=this.container.getProvider(Ee);return!ln.isInitialized()&&"EXPLICIT"===(null===(vn=ln.getComponent())||void 0===vn?void 0:vn.instantiationMode)&&ln.initialize(),ln.getImmediate({identifier:Fe})},Ue.prototype._removeServiceInstance=function(Ee,Fe){void 0===Fe&&(Fe=Ln),this.container.getProvider(Ee).clearInstance(Fe)},Ue.prototype._addComponent=function(Ee){try{this.container.addComponent(Ee)}catch(Fe){en.debug("Component "+Ee.name+" failed to register with FirebaseApp "+this.name,Fe)}},Ue.prototype._addOrOverwriteComponent=function(Ee){this.container.addOrOverwriteComponent(Ee)},Ue.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Ue.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Tr.create("app-deleted",{appName:this.name_})},Ue}();Ci.prototype.name&&Ci.prototype.options||Ci.prototype.delete||console.log("dc");var he=function B(){var Ue=function ye(Ue){var Ee={},Fe=new Map,vn={__esModule:!0,initializeApp:function No(Pt,Wt){void 0===Wt&&(Wt={}),("object"!=typeof Wt||null===Wt)&&(Wt={name:Wt});var In=Wt;void 0===In.name&&(In.name=Ln);var jn=In.name;if("string"!=typeof jn||!jn)throw Tr.create("bad-app-name",{appName:String(jn)});if((0,I.r3)(Ee,jn))throw Tr.create("duplicate-app",{appName:jn});var Kn=new Ue(Pt,In,vn);return Ee[jn]=Kn,Kn},app:Fi,registerVersion:function yn(Pt,Wt,di){var In,jn=null!==(In=et[Pt])&&void 0!==In?In:Pt;di&&(jn+="-"+di);var Kn=jn.match(/\s|\//),jr=Wt.match(/\s|\//);if(Kn||jr){var on=['Unable to register library "'+jn+'" with version "'+Wt+'":'];return Kn&&on.push('library name "'+jn+'" contains illegal characters (whitespace or "/")'),Kn&&jr&&on.push("and"),jr&&on.push('version name "'+Wt+'" contains illegal characters (whitespace or "/")'),void en.warn(on.join(" "))}za(new Ge.wA(jn+"-version",function(){return{library:jn,version:Wt}},"VERSION"))},setLogLevel:it.Ub,onLog:function Ar(Pt,Wt){if(null!==Pt&&"function"!=typeof Pt)throw Tr.create("invalid-log-argument");(0,it.Am)(Pt,Wt)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:za,removeApp:function ln(Pt){delete Ee[Pt]},components:Fe,useAsService:function Ul(Pt,Wt){return"serverAuth"===Wt?null:Wt}}};function Fi(Pt){if(!(0,I.r3)(Ee,Pt=Pt||Ln))throw Tr.create("no-app",{appName:Pt});return Ee[Pt]}function za(Pt){var Wt=Pt.name;if(Fe.has(Wt))return en.debug("There were multiple attempts to register component "+Wt+"."),"PUBLIC"===Pt.type?vn[Wt]:null;if(Fe.set(Wt,Pt),"PUBLIC"===Pt.type){var di=function(jr){if(void 0===jr&&(jr=Fi()),"function"!=typeof jr[Wt])throw Tr.create("invalid-app-argument",{appName:Wt});return jr[Wt]()};void 0!==Pt.serviceProps&&(0,I.ZB)(di,Pt.serviceProps),vn[Wt]=di,Ue.prototype[Wt]=function(){for(var jr=[],on=0;on<arguments.length;on++)jr[on]=arguments[on];return this._getService.bind(this,Wt).apply(this,Pt.multipleInstances?jr:[])}}for(var In=0,jn=Object.keys(Ee);In<jn.length;In++)Ee[jn[In]]._addComponent(Pt);return"PUBLIC"===Pt.type?vn[Wt]:null}return vn.default=vn,Object.defineProperty(vn,"apps",{get:function Fo(){return Object.keys(Ee).map(function(Pt){return Ee[Pt]})}}),Fi.App=Ue,vn}(Ci);return Ue.INTERNAL=(0,ge.pi)((0,ge.pi)({},Ue.INTERNAL),{createFirebaseNamespace:B,extendNamespace:function Ee(Fe){(0,I.ZB)(Ue,Fe)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),Ue}(),Oe=function(){function Ue(Ee){this.container=Ee}return Ue.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(Fe){if(function ke(Ue){var Ee=Ue.getComponent();return"VERSION"===(null==Ee?void 0:Ee.type)}(Fe)){var vn=Fe.getImmediate();return vn.library+"/"+vn.version}return null}).filter(function(Fe){return Fe}).join(" ")},Ue}();if((0,I.jU)()&&void 0!==self.firebase){en.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Lt=self.firebase.SDK_VERSION;Lt&&Lt.indexOf("LITE")>=0&&en.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var We=he.initializeApp;he.initializeApp=function(){for(var Ue=[],Ee=0;Ee<arguments.length;Ee++)Ue[Ee]=arguments[Ee];return(0,I.UG)()&&en.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),We.apply(void 0,Ue)};var dt=he;!function Qe(Ue,Ee){Ue.INTERNAL.registerComponent(new Ge.wA("platform-logger",function(Fe){return new Oe(Fe)},"PRIVATE")),Ue.registerVersion(Ei,"0.6.30",Ee),Ue.registerVersion("fire-js","")}(dt);const Qt=dt},461:(qa,hi,Ft)=>{Ft.d(hi,{wA:()=>Ge,H0:()=>Ei});var ge=Ft(655),I=Ft(492),Ge=function(){function ce($,be,Re){this.name=$,this.instanceFactory=be,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ce.prototype.setInstantiationMode=function($){return this.instantiationMode=$,this},ce.prototype.setMultipleInstances=function($){return this.multipleInstances=$,this},ce.prototype.setServiceProps=function($){return this.serviceProps=$,this},ce.prototype.setInstanceCreatedCallback=function($){return this.onInstanceCreated=$,this},ce}(),it="[DEFAULT]",Tt=function(){function ce($,be){this.name=$,this.container=be,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ce.prototype.get=function($){var be=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(be)){var Re=new I.BH;if(this.instancesDeferred.set(be,Re),this.isInitialized(be)||this.shouldAutoInitialize())try{var Ae=this.getOrInitializeService({instanceIdentifier:be});Ae&&Re.resolve(Ae)}catch(Be){}}return this.instancesDeferred.get(be).promise},ce.prototype.getImmediate=function($){var be,Re=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),Ae=null!==(be=null==$?void 0:$.optional)&&void 0!==be&&be;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(Ae)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(Be){if(Ae)return null;throw Be}},ce.prototype.getComponent=function(){return this.component},ce.prototype.setComponent=function($){var be,Re;if($.name!==this.name)throw Error("Mismatching Component "+$.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=$,this.shouldAutoInitialize()){if(function Tr(ce){return"EAGER"===ce.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:it})}catch(Vt){}try{for(var Ae=(0,ge.XA)(this.instancesDeferred.entries()),Be=Ae.next();!Be.done;Be=Ae.next()){var Rt=(0,ge.CR)(Be.value,2),It=Rt[1],ft=this.normalizeInstanceIdentifier(Rt[0]);try{var pr=this.getOrInitializeService({instanceIdentifier:ft});It.resolve(pr)}catch(Vt){}}}catch(Vt){be={error:Vt}}finally{try{Be&&!Be.done&&(Re=Ae.return)&&Re.call(Ae)}finally{if(be)throw be.error}}}},ce.prototype.clearInstance=function($){void 0===$&&($=it),this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)},ce.prototype.delete=function(){return(0,ge.mG)(this,void 0,void 0,function(){var $;return(0,ge.Jh)(this,function(be){switch(be.label){case 0:return $=Array.from(this.instances.values()),[4,Promise.all((0,ge.ev)((0,ge.ev)([],(0,ge.CR)($.filter(function(Re){return"INTERNAL"in Re}).map(function(Re){return Re.INTERNAL.delete()}))),(0,ge.CR)($.filter(function(Re){return"_delete"in Re}).map(function(Re){return Re._delete()}))))];case 1:return be.sent(),[2]}})})},ce.prototype.isComponentSet=function(){return null!=this.component},ce.prototype.isInitialized=function($){return void 0===$&&($=it),this.instances.has($)},ce.prototype.getOptions=function($){return void 0===$&&($=it),this.instancesOptions.get($)||{}},ce.prototype.initialize=function($){var be,Re;void 0===$&&($={});var Ae=$.options,Be=void 0===Ae?{}:Ae,Rt=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(Rt))throw Error(this.name+"("+Rt+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var xt=this.getOrInitializeService({instanceIdentifier:Rt,options:Be});try{for(var It=(0,ge.XA)(this.instancesDeferred.entries()),ft=It.next();!ft.done;ft=It.next()){var pr=(0,ge.CR)(ft.value,2),ti=pr[1];Rt===this.normalizeInstanceIdentifier(pr[0])&&ti.resolve(xt)}}catch(Ln){be={error:Ln}}finally{try{ft&&!ft.done&&(Re=It.return)&&Re.call(It)}finally{if(be)throw be.error}}return xt},ce.prototype.onInit=function($,be){var Re,Ae=this.normalizeInstanceIdentifier(be),Be=null!==(Re=this.onInitCallbacks.get(Ae))&&void 0!==Re?Re:new Set;Be.add($),this.onInitCallbacks.set(Ae,Be);var Rt=this.instances.get(Ae);return Rt&&$(Rt,Ae),function(){Be.delete($)}},ce.prototype.invokeOnInitCallbacks=function($,be){var Re,Ae,Be=this.onInitCallbacks.get(be);if(Be)try{for(var Rt=(0,ge.XA)(Be),xt=Rt.next();!xt.done;xt=Rt.next()){var It=xt.value;try{It($,be)}catch(ft){}}}catch(ft){Re={error:ft}}finally{try{xt&&!xt.done&&(Ae=Rt.return)&&Ae.call(Rt)}finally{if(Re)throw Re.error}}},ce.prototype.getOrInitializeService=function($){var be=$.instanceIdentifier,Re=$.options,Ae=void 0===Re?{}:Re,Be=this.instances.get(be);if(!Be&&this.component&&(Be=this.component.instanceFactory(this.container,{instanceIdentifier:eo(be),options:Ae}),this.instances.set(be,Be),this.instancesOptions.set(be,Ae),this.invokeOnInitCallbacks(Be,be),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,be,Be)}catch(Rt){}return Be||null},ce.prototype.normalizeInstanceIdentifier=function($){return void 0===$&&($=it),this.component?this.component.multipleInstances?$:it:$},ce.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},ce}();function eo(ce){return ce===it?void 0:ce}var Ei=function(){function ce($){this.name=$,this.providers=new Map}return ce.prototype.addComponent=function($){var be=this.getProvider($.name);if(be.isComponentSet())throw new Error("Component "+$.name+" has already been registered with "+this.name);be.setComponent($)},ce.prototype.addOrOverwriteComponent=function($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)},ce.prototype.getProvider=function($){if(this.providers.has($))return this.providers.get($);var be=new Tt($,this);return this.providers.set($,be),be},ce.prototype.getProviders=function(){return Array.from(this.providers.values())},ce}()},3:(qa,hi,Ft)=>{function ge(){for(var Re=0,Ae=0,Be=arguments.length;Ae<Be;Ae++)Re+=arguments[Ae].length;var Rt=Array(Re),xt=0;for(Ae=0;Ae<Be;Ae++)for(var It=arguments[Ae],ft=0,pr=It.length;ft<pr;ft++,xt++)Rt[xt]=It[ft];return Rt}Ft.d(hi,{in:()=>it,Yd:()=>ce,Ub:()=>$,Am:()=>be});var I,Ge=[],it=(()=>{return(Re=it||(it={}))[Re.DEBUG=0]="DEBUG",Re[Re.VERBOSE=1]="VERBOSE",Re[Re.INFO=2]="INFO",Re[Re.WARN=3]="WARN",Re[Re.ERROR=4]="ERROR",Re[Re.SILENT=5]="SILENT",it;var Re})(),Tt={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},eo=it.INFO,Tr=((I={})[it.DEBUG]="log",I[it.VERBOSE]="log",I[it.INFO]="info",I[it.WARN]="warn",I[it.ERROR]="error",I),Ei=function(Re,Ae){for(var Be=[],Rt=2;Rt<arguments.length;Rt++)Be[Rt-2]=arguments[Rt];if(!(Ae<Re.logLevel)){var xt=(new Date).toISOString(),It=Tr[Ae];if(!It)throw new Error("Attempted to log a message with an invalid logType (value: "+Ae+")");console[It].apply(console,ge(["["+xt+"]  "+Re.name+":"],Be))}},ce=function(){function Re(Ae){this.name=Ae,this._logLevel=eo,this._logHandler=Ei,this._userLogHandler=null,Ge.push(this)}return Object.defineProperty(Re.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Ae){if(!(Ae in it))throw new TypeError('Invalid value "'+Ae+'" assigned to `logLevel`');this._logLevel=Ae},enumerable:!1,configurable:!0}),Re.prototype.setLogLevel=function(Ae){this._logLevel="string"==typeof Ae?Tt[Ae]:Ae},Object.defineProperty(Re.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Ae){if("function"!=typeof Ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ae},enumerable:!1,configurable:!0}),Object.defineProperty(Re.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Ae){this._userLogHandler=Ae},enumerable:!1,configurable:!0}),Re.prototype.debug=function(){for(var Ae=[],Be=0;Be<arguments.length;Be++)Ae[Be]=arguments[Be];this._userLogHandler&&this._userLogHandler.apply(this,ge([this,it.DEBUG],Ae)),this._logHandler.apply(this,ge([this,it.DEBUG],Ae))},Re.prototype.log=function(){for(var Ae=[],Be=0;Be<arguments.length;Be++)Ae[Be]=arguments[Be];this._userLogHandler&&this._userLogHandler.apply(this,ge([this,it.VERBOSE],Ae)),this._logHandler.apply(this,ge([this,it.VERBOSE],Ae))},Re.prototype.info=function(){for(var Ae=[],Be=0;Be<arguments.length;Be++)Ae[Be]=arguments[Be];this._userLogHandler&&this._userLogHandler.apply(this,ge([this,it.INFO],Ae)),this._logHandler.apply(this,ge([this,it.INFO],Ae))},Re.prototype.warn=function(){for(var Ae=[],Be=0;Be<arguments.length;Be++)Ae[Be]=arguments[Be];this._userLogHandler&&this._userLogHandler.apply(this,ge([this,it.WARN],Ae)),this._logHandler.apply(this,ge([this,it.WARN],Ae))},Re.prototype.error=function(){for(var Ae=[],Be=0;Be<arguments.length;Be++)Ae[Be]=arguments[Be];this._userLogHandler&&this._userLogHandler.apply(this,ge([this,it.ERROR],Ae)),this._logHandler.apply(this,ge([this,it.ERROR],Ae))},Re}();function $(Re){Ge.forEach(function(Ae){Ae.setLogLevel(Re)})}function be(Re,Ae){for(var Be=function(ft){var pr=null;Ae&&Ae.level&&(pr=Tt[Ae.level]),ft.userLogHandler=null===Re?null:function(Vt,ti){for(var pt=[],Ln=2;Ln<arguments.length;Ln++)pt[Ln-2]=arguments[Ln];var et=pt.map(function(en){if(null==en)return null;if("string"==typeof en)return en;if("number"==typeof en||"boolean"==typeof en)return en.toString();if(en instanceof Error)return en.message;try{return JSON.stringify(en)}catch(Ci){return null}}).filter(function(en){return en}).join(" ");ti>=(null!=pr?pr:Vt.logLevel)&&Re({level:it[ti].toLowerCase(),message:et,args:pt,type:Vt.name})}},Rt=0,xt=Ge;Rt<xt.length;Rt++)Be(xt[Rt])}},492:(qa,hi,Ft)=>{Ft.d(hi,{BH:()=>Be,LL:()=>Qe,ZR:()=>ke,r3:()=>Fi,Sg:()=>Rt,ne:()=>In,p$:()=>be,ZB:()=>Re,m9:()=>Ns,z$:()=>xt,jU:()=>pr,ru:()=>Vt,d:()=>pt,w1:()=>Ln,uI:()=>It,UG:()=>ft,b$:()=>ti,G6:()=>Ci,Mn:()=>et});var ge=Ft(655),Tt=function(W){for(var G=[],Q=0,ie=0;ie<W.length;ie++){var K=W.charCodeAt(ie);K<128?G[Q++]=K:K<2048?(G[Q++]=K>>6|192,G[Q++]=63&K|128):55296==(64512&K)&&ie+1<W.length&&56320==(64512&W.charCodeAt(ie+1))?(K=65536+((1023&K)<<10)+(1023&W.charCodeAt(++ie)),G[Q++]=K>>18|240,G[Q++]=K>>12&63|128,G[Q++]=K>>6&63|128,G[Q++]=63&K|128):(G[Q++]=K>>12|224,G[Q++]=K>>6&63|128,G[Q++]=63&K|128)}return G},Tr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(W,G){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Q=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,ie=[],K=0;K<W.length;K+=3){var Me=W[K],ut=K+1<W.length,Ut=ut?W[K+1]:0,tn=K+2<W.length,Kt=tn?W[K+2]:0,kt=(15&Ut)<<2|Kt>>6,no=63&Kt;tn||(no=64,ut||(kt=64)),ie.push(Q[Me>>2],Q[(3&Me)<<4|Ut>>4],Q[kt],Q[no])}return ie.join("")},encodeString:function(W,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(W):this.encodeByteArray(Tt(W),G)},decodeString:function(W,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(W):function(W){for(var G=[],Q=0,ie=0;Q<W.length;){var K=W[Q++];if(K<128)G[ie++]=String.fromCharCode(K);else if(K>191&&K<224){var Me=W[Q++];G[ie++]=String.fromCharCode((31&K)<<6|63&Me)}else if(K>239&&K<365){var tn=((7&K)<<18|(63&(Me=W[Q++]))<<12|(63&(ut=W[Q++]))<<6|63&W[Q++])-65536;G[ie++]=String.fromCharCode(55296+(tn>>10)),G[ie++]=String.fromCharCode(56320+(1023&tn))}else{Me=W[Q++];var ut=W[Q++];G[ie++]=String.fromCharCode((15&K)<<12|(63&Me)<<6|63&ut)}}return G.join("")}(this.decodeStringToByteArray(W,G))},decodeStringToByteArray:function(W,G){this.init_();for(var Q=G?this.charToByteMapWebSafe_:this.charToByteMap_,ie=[],K=0;K<W.length;){var Me=Q[W.charAt(K++)],Ut=K<W.length?Q[W.charAt(K)]:0,Kt=++K<W.length?Q[W.charAt(K)]:64,Ht=++K<W.length?Q[W.charAt(K)]:64;if(++K,null==Me||null==Ut||null==Kt||null==Ht)throw Error();ie.push(Me<<2|Ut>>4),64!==Kt&&(ie.push(Ut<<4&240|Kt>>2),64!==Ht&&ie.push(Kt<<6&192|Ht))}return ie},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},ce=function(W){return function(W){var G=Tt(W);return Tr.encodeByteArray(G,!0)}(W).replace(/\./g,"")};function be(W){return Re(void 0,W)}function Re(W,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return G}for(var ie in G)!G.hasOwnProperty(ie)||!Ae(ie)||(W[ie]=Re(W[ie],G[ie]));return W}function Ae(W){return"__proto__"!==W}var Be=function(){function W(){var G=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Q,ie){G.resolve=Q,G.reject=ie})}return W.prototype.wrapCallback=function(G){var Q=this;return function(ie,K){ie?Q.reject(ie):Q.resolve(K),"function"==typeof G&&(Q.promise.catch(function(){}),1===G.length?G(ie):G(ie,K))}},W}();function Rt(W,G){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ie=G||"demo-project",K=W.iat||0,Me=W.sub||W.user_id;if(!Me)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var ut=(0,ge.pi)({iss:"https://securetoken.google.com/"+ie,aud:ie,iat:K,exp:K+3600,auth_time:K,sub:Me,user_id:Me,firebase:{sign_in_provider:"custom",identities:{}}},W);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(ut)),""].join(".")}function xt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function It(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function ft(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function pr(){return"object"==typeof self&&self.self===self}function Vt(){var W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function ti(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function pt(){return xt().indexOf("Electron/")>=0}function Ln(){var W=xt();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function et(){return xt().indexOf("MSAppHost/")>=0}function Ci(){return!ft()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var ke=function(W){function G(Q,ie,K){var Me=W.call(this,ie)||this;return Me.code=Q,Me.customData=K,Me.name="FirebaseError",Object.setPrototypeOf(Me,G.prototype),Error.captureStackTrace&&Error.captureStackTrace(Me,Qe.prototype.create),Me}return(0,ge.ZT)(G,W),G}(Error),Qe=function(){function W(G,Q,ie){this.service=G,this.serviceName=Q,this.errors=ie}return W.prototype.create=function(G){for(var Q=[],ie=1;ie<arguments.length;ie++)Q[ie-1]=arguments[ie];var K=Q[0]||{},Me=this.service+"/"+G,ut=this.errors[G],Ut=ut?Lt(ut,K):"Error",tn=this.serviceName+": "+Ut+" ("+Me+").",Kt=new ke(Me,tn,K);return Kt},W}();function Lt(W,G){return W.replace(We,function(Q,ie){var K=G[ie];return null!=K?String(K):"<"+ie+"?>"})}var We=/\{\$([^}]+)}/g;function Fi(W,G){return Object.prototype.hasOwnProperty.call(W,G)}function In(W,G){var Q=new jn(W,G);return Q.subscribe.bind(Q)}!function(){function W(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}W.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},W.prototype.compress_=function(G,Q){Q||(Q=0);var ie=this.W_;if("string"==typeof G)for(var K=0;K<16;K++)ie[K]=G.charCodeAt(Q)<<24|G.charCodeAt(Q+1)<<16|G.charCodeAt(Q+2)<<8|G.charCodeAt(Q+3),Q+=4;else for(K=0;K<16;K++)ie[K]=G[Q]<<24|G[Q+1]<<16|G[Q+2]<<8|G[Q+3],Q+=4;for(K=16;K<80;K++)ie[K]=4294967295&((Me=ie[K-3]^ie[K-8]^ie[K-14]^ie[K-16])<<1|Me>>>31);var Ht,kt,ut=this.chain_[0],Ut=this.chain_[1],tn=this.chain_[2],Kt=this.chain_[3],Mr=this.chain_[4];for(K=0;K<80;K++){K<40?K<20?(Ht=Kt^Ut&(tn^Kt),kt=1518500249):(Ht=Ut^tn^Kt,kt=1859775393):K<60?(Ht=Ut&tn|Kt&(Ut|tn),kt=2400959708):(Ht=Ut^tn^Kt,kt=3395469782);var Me=(ut<<5|ut>>>27)+Ht+Mr+kt+ie[K]&4294967295;Mr=Kt,Kt=tn,tn=4294967295&(Ut<<30|Ut>>>2),Ut=ut,ut=Me}this.chain_[0]=this.chain_[0]+ut&4294967295,this.chain_[1]=this.chain_[1]+Ut&4294967295,this.chain_[2]=this.chain_[2]+tn&4294967295,this.chain_[3]=this.chain_[3]+Kt&4294967295,this.chain_[4]=this.chain_[4]+Mr&4294967295},W.prototype.update=function(G,Q){if(null!=G){void 0===Q&&(Q=G.length);for(var ie=Q-this.blockSize,K=0,Me=this.buf_,ut=this.inbuf_;K<Q;){if(0===ut)for(;K<=ie;)this.compress_(G,K),K+=this.blockSize;if("string"==typeof G){for(;K<Q;)if(Me[ut]=G.charCodeAt(K),++K,++ut===this.blockSize){this.compress_(Me),ut=0;break}}else for(;K<Q;)if(Me[ut]=G[K],++K,++ut===this.blockSize){this.compress_(Me),ut=0;break}}this.inbuf_=ut,this.total_+=Q}},W.prototype.digest=function(){var G=[],Q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ie=this.blockSize-1;ie>=56;ie--)this.buf_[ie]=255&Q,Q/=256;this.compress_(this.buf_);var K=0;for(ie=0;ie<5;ie++)for(var Me=24;Me>=0;Me-=8)G[K]=this.chain_[ie]>>Me&255,++K;return G}}();var jn=function(){function W(G,Q){var ie=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(function(){G(ie)}).catch(function(K){ie.error(K)})}return W.prototype.next=function(G){this.forEachObserver(function(Q){Q.next(G)})},W.prototype.error=function(G){this.forEachObserver(function(Q){Q.error(G)}),this.close(G)},W.prototype.complete=function(){this.forEachObserver(function(G){G.complete()}),this.close()},W.prototype.subscribe=function(G,Q,ie){var Me,K=this;if(void 0===G&&void 0===Q&&void 0===ie)throw new Error("Missing Observer.");Me=function jr(W,G){if("object"!=typeof W||null===W)return!1;for(var Q=0,ie=G;Q<ie.length;Q++){var K=ie[Q];if(K in W&&"function"==typeof W[K])return!0}return!1}(G,["next","error","complete"])?G:{next:G,error:Q,complete:ie},void 0===Me.next&&(Me.next=on),void 0===Me.error&&(Me.error=on),void 0===Me.complete&&(Me.complete=on);var ut=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{K.finalError?Me.error(K.finalError):Me.complete()}catch(Ut){}}),this.observers.push(Me),ut},W.prototype.unsubscribeOne=function(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},W.prototype.forEachObserver=function(G){if(!this.finalized)for(var Q=0;Q<this.observers.length;Q++)this.sendOne(Q,G)},W.prototype.sendOne=function(G,Q){var ie=this;this.task.then(function(){if(void 0!==ie.observers&&void 0!==ie.observers[G])try{Q(ie.observers[G])}catch(K){"undefined"!=typeof console&&console.error&&console.error(K)}})},W.prototype.close=function(G){var Q=this;this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(function(){Q.observers=void 0,Q.onNoObservers=void 0}))},W}();function on(){}function Ns(W){return W&&W._delegate?W._delegate:W}},400:(qa,hi,Ft)=>{function ge(i){return"function"==typeof i}function I(i){const t=i(o=>{Error.call(o),o.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ge=I(i=>function(t){i(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((o,c)=>`${c+1}) ${o.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function it(i,e){if(i){const t=i.indexOf(e);0<=t&&i.splice(t,1)}}class Tt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const h of t)h.remove(this);else t.remove(this);const{initialTeardown:o}=this;if(ge(o))try{o()}catch(h){e=h instanceof Ge?h.errors:[h]}const{_teardowns:c}=this;if(c){this._teardowns=null;for(const h of c)try{Ei(h)}catch(p){e=null!=e?e:[],p instanceof Ge?e=[...e,...p.errors]:e.push(p)}}if(e)throw new Ge(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Ei(e);else{if(e instanceof Tt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&it(t,e)}remove(e){const{_teardowns:t}=this;t&&it(t,e),e instanceof Tt&&e._removeParent(this)}}Tt.EMPTY=(()=>{const i=new Tt;return i.closed=!0,i})();const eo=Tt.EMPTY;function Tr(i){return i instanceof Tt||i&&"closed"in i&&ge(i.remove)&&ge(i.add)&&ge(i.unsubscribe)}function Ei(i){ge(i)?i():i.unsubscribe()}const ce={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$={setTimeout(...i){const{delegate:e}=$;return((null==e?void 0:e.setTimeout)||setTimeout)(...i)},clearTimeout(i){const{delegate:e}=$;return((null==e?void 0:e.clearTimeout)||clearTimeout)(i)},delegate:void 0};function be(i){$.setTimeout(()=>{const{onUnhandledError:e}=ce;if(!e)throw i;e(i)})}function Re(){}const Ae=xt("C",void 0,void 0);function xt(i,e,t){return{kind:i,value:e,error:t}}let It=null;function ft(i){if(ce.useDeprecatedSynchronousErrorHandling){const e=!It;if(e&&(It={errorThrown:!1,error:null}),i(),e){const{errorThrown:t,error:o}=It;if(It=null,t)throw o}}else i()}class Vt extends Tt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Tr(e)&&e.add(this)):this.destination=en}static create(e,t,o){return new ti(e,t,o)}next(e){this.isStopped?et(function Rt(i){return xt("N",i,void 0)}(e),this):this._next(e)}error(e){this.isStopped?et(function Be(i){return xt("E",void 0,i)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?et(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class ti extends Vt{constructor(e,t,o){let c;if(super(),ge(e))c=e;else if(e){let h;({next:c,error:t,complete:o}=e),this&&ce.useDeprecatedNextContext?(h=Object.create(e),h.unsubscribe=()=>this.unsubscribe()):h=e,c=null==c?void 0:c.bind(h),t=null==t?void 0:t.bind(h),o=null==o?void 0:o.bind(h)}this.destination={next:c?pt(c):Re,error:pt(null!=t?t:Ln),complete:o?pt(o):Re}}}function pt(i,e){return(...t)=>{try{i(...t)}catch(o){ce.useDeprecatedSynchronousErrorHandling?function pr(i){ce.useDeprecatedSynchronousErrorHandling&&It&&(It.errorThrown=!0,It.error=i)}(o):be(o)}}}function Ln(i){throw i}function et(i,e){const{onStoppedNotification:t}=ce;t&&$.setTimeout(()=>t(i,e))}const en={closed:!0,next:Re,error:Ln,complete:Re},Ci="function"==typeof Symbol&&Symbol.observable||"@@observable";function te(i){return i}let he=(()=>{class i{constructor(t){t&&(this._subscribe=t)}lift(t){const o=new i;return o.source=this,o.operator=t,o}subscribe(t,o,c){const h=function Qe(i){return i&&i instanceof Vt||function ke(i){return i&&ge(i.next)&&ge(i.error)&&ge(i.complete)}(i)&&Tr(i)}(t)?t:new ti(t,o,c);return ft(()=>{const{operator:p,source:m}=this;h.add(p?p.call(h,m):m?this._subscribe(h):this._trySubscribe(h))}),h}_trySubscribe(t){try{return this._subscribe(t)}catch(o){t.error(o)}}forEach(t,o){return new(o=Oe(o))((c,h)=>{let p;p=this.subscribe(m=>{try{t(m)}catch(_){h(_),null==p||p.unsubscribe()}},h,c)})}_subscribe(t){var o;return null===(o=this.source)||void 0===o?void 0:o.subscribe(t)}[Ci](){return this}pipe(...t){return function B(i){return 0===i.length?te:1===i.length?i[0]:function(t){return i.reduce((o,c)=>c(o),t)}}(t)(this)}toPromise(t){return new(t=Oe(t))((o,c)=>{let h;this.subscribe(p=>h=p,p=>c(p),()=>o(h))})}}return i.create=e=>new i(e),i})();function Oe(i){var e;return null!==(e=null!=i?i:ce.Promise)&&void 0!==e?e:Promise}const Lt=I(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let We=(()=>{class i extends he{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const o=new dt(this,this);return o.operator=t,o}_throwIfClosed(){if(this.closed)throw new Lt}next(t){ft(()=>{if(this._throwIfClosed(),!this.isStopped){const o=this.observers.slice();for(const c of o)c.next(t)}})}error(t){ft(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:o}=this;for(;o.length;)o.shift().error(t)}})}complete(){ft(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:o,isStopped:c,observers:h}=this;return o||c?eo:(h.push(t),new Tt(()=>it(h,t)))}_checkFinalizedStatuses(t){const{hasError:o,thrownError:c,isStopped:h}=this;o?t.error(c):h&&t.complete()}asObservable(){const t=new he;return t.source=this,t}}return i.create=(e,t)=>new dt(e,t),i})();class dt extends We{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===o||o.call(t,e)}error(e){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===o||o.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,o;return null!==(o=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==o?o:eo}}function Qt(i){return ge(null==i?void 0:i.lift)}function Ue(i){return e=>{if(Qt(e))return e.lift(function(t){try{return i(t,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}class Ee extends Vt{constructor(e,t,o,c,h){super(e),this.onFinalize=h,this._next=t?function(p){try{t(p)}catch(m){e.error(m)}}:super._next,this._error=c?function(p){try{c(p)}catch(m){e.error(m)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(p){e.error(p)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function Fe(i,e){return Ue((t,o)=>{let c=0;t.subscribe(new Ee(o,h=>{o.next(i.call(e,h,c++))}))})}function on(i){return this instanceof on?(this.v=i,this):new on(i)}function Ps(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,o=t.apply(i,e||[]),h=[];return c={},p("next"),p("throw"),p("return"),c[Symbol.asyncIterator]=function(){return this},c;function p(F){o[F]&&(c[F]=function(j){return new Promise(function(z,X){h.push([F,j,z,X])>1||m(F,j)})})}function m(F,j){try{!function _(F){F.value instanceof on?Promise.resolve(F.value.v).then(E,S):R(h[0][2],F)}(o[F](j))}catch(z){R(h[0][3],z)}}function E(F){m("next",F)}function S(F){m("throw",F)}function R(F,j){F(j),h.shift(),h.length&&m(h[0][0],h[0][1])}}function Hl(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=i[Symbol.asyncIterator];return e?e.call(i):(i=function di(i){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&i[e],o=0;if(t)return t.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(h){t[h]=i[h]&&function(p){return new Promise(function(m,_){!function c(h,p,m,_){Promise.resolve(_).then(function(E){h({value:E,done:m})},p)}(m,_,(p=i[h](p)).done,p.value)})}}}const Lo=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function to(i){return ge(null==i?void 0:i.then)}function $a(i){return ge(i[Ci])}function Ga(i){return Symbol.asyncIterator&&ge(null==i?void 0:i[Symbol.asyncIterator])}function Tn(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const W=function Ns(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function G(i){return ge(null==i?void 0:i[W])}function Q(i){return Ps(this,arguments,function*(){const t=i.getReader();try{for(;;){const{value:o,done:c}=yield on(t.read());if(c)return yield on(void 0);yield yield on(o)}}finally{t.releaseLock()}})}function ie(i){return ge(null==i?void 0:i.getReader)}function K(i){if(i instanceof he)return i;if(null!=i){if($a(i))return function Me(i){return new he(e=>{const t=i[Ci]();if(ge(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(Lo(i))return function ut(i){return new he(e=>{for(let t=0;t<i.length&&!e.closed;t++)e.next(i[t]);e.complete()})}(i);if(to(i))return function Ut(i){return new he(e=>{i.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,be)})}(i);if(Ga(i))return Kt(i);if(G(i))return function tn(i){return new he(e=>{for(const t of i)if(e.next(t),e.closed)return;e.complete()})}(i);if(ie(i))return function Mr(i){return Kt(Q(i))}(i)}throw Tn(i)}function Kt(i){return new he(e=>{(function Ht(i,e){var t,o,c,h;return function Ar(i,e,t,o){return new(t||(t=Promise))(function(h,p){function m(S){try{E(o.next(S))}catch(R){p(R)}}function _(S){try{E(o.throw(S))}catch(R){p(R)}}function E(S){S.done?h(S.value):function c(h){return h instanceof t?h:new t(function(p){p(h)})}(S.value).then(m,_)}E((o=o.apply(i,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Hl(i);!(o=yield t.next()).done;)if(e.next(o.value),e.closed)return}catch(p){c={error:p}}finally{try{o&&!o.done&&(h=t.return)&&(yield h.call(t))}finally{if(c)throw c.error}}e.complete()})})(i,e).catch(t=>e.error(t))})}function kt(i,e,t,o=0,c=!1){const h=e.schedule(function(){t(),c?i.add(this.schedule(null,o)):this.unsubscribe()},o);if(i.add(h),!c)return h}function Bn(i,e,t=1/0){return ge(e)?Bn((o,c)=>Fe((h,p)=>e(o,h,c,p))(K(i(o,c))),t):("number"==typeof e&&(t=e),Ue((o,c)=>function no(i,e,t,o,c,h,p,m){const _=[];let E=0,S=0,R=!1;const F=()=>{R&&!_.length&&!E&&e.complete()},j=X=>E<o?z(X):_.push(X),z=X=>{h&&e.next(X),E++;let ae=!1;K(t(X,S++)).subscribe(new Ee(e,pe=>{null==c||c(pe),h?j(pe):e.next(pe)},()=>{ae=!0},void 0,()=>{if(ae)try{for(E--;_.length&&E<o;){const pe=_.shift();p?kt(e,p,()=>z(pe)):z(pe)}F()}catch(pe){e.error(pe)}}))};return i.subscribe(new Ee(e,j,()=>{R=!0,F()})),()=>{null==m||m()}}(o,c,i,t)))}function qu(i=1/0){return Bn(te,i)}const jo=new he(i=>i.complete());function Fs(i){return i&&ge(i.schedule)}function zu(i){return i[i.length-1]}function Lc(i){return ge(zu(i))?i.pop():void 0}function yo(i){return Fs(zu(i))?i.pop():void 0}function $u(i,e=0){return Ue((t,o)=>{t.subscribe(new Ee(o,c=>kt(o,i,()=>o.next(c),e),()=>kt(o,i,()=>o.complete(),e),c=>kt(o,i,()=>o.error(c),e)))})}function Wa(i,e=0){return Ue((t,o)=>{o.add(i.schedule(()=>t.subscribe(o),e))})}function $l(i,e){if(!i)throw new Error("Iterable cannot be null");return new he(t=>{kt(t,e,()=>{const o=i[Symbol.asyncIterator]();kt(t,e,()=>{o.next().then(c=>{c.done?t.complete():t.next(c.value)})},0,!0)})})}function er(i,e){return e?function Ya(i,e){if(null!=i){if($a(i))return function Gu(i,e){return K(i).pipe(Wa(e),$u(e))}(i,e);if(Lo(i))return function ql(i,e){return new he(t=>{let o=0;return e.schedule(function(){o===i.length?t.complete():(t.next(i[o++]),t.closed||this.schedule())})})}(i,e);if(to(i))return function Ls(i,e){return K(i).pipe(Wa(e),$u(e))}(i,e);if(Ga(i))return $l(i,e);if(G(i))return function zl(i,e){return new he(t=>{let o;return kt(t,e,()=>{o=i[W](),kt(t,e,()=>{let c,h;try{({value:c,done:h}=o.next())}catch(p){return void t.error(p)}h?t.complete():t.next(c)},0,!0)}),()=>ge(null==o?void 0:o.return)&&o.return()})}(i,e);if(ie(i))return function Ka(i,e){return $l(Q(i),e)}(i,e)}throw Tn(i)}(i,e):K(i)}function Qa(...i){const e=yo(i),t=function ca(i,e){return"number"==typeof zu(i)?i.pop():e}(i,1/0),o=i;return o.length?1===o.length?K(o[0]):qu(t)(er(o,e)):jo}function Rr(i){return i<=0?()=>jo:Ue((e,t)=>{let o=0;e.subscribe(new Ee(t,c=>{++o<=i&&(t.next(c),i<=o&&t.complete())}))})}function Gl(i={}){const{connector:e=(()=>new We),resetOnError:t=!0,resetOnComplete:o=!0,resetOnRefCountZero:c=!0}=i;return h=>{let p=null,m=null,_=null,E=0,S=!1,R=!1;const F=()=>{null==m||m.unsubscribe(),m=null},j=()=>{F(),p=_=null,S=R=!1},z=()=>{const X=p;j(),null==X||X.unsubscribe()};return Ue((X,ae)=>{E++,!R&&!S&&F();const pe=_=null!=_?_:e();ae.add(()=>{E--,0===E&&!R&&!S&&(m=Li(z,c))}),pe.subscribe(ae),p||(p=new ti({next:oe=>pe.next(oe),error:oe=>{R=!0,F(),m=Li(j,t,oe),pe.error(oe)},complete:()=>{S=!0,F(),m=Li(j,o),pe.complete()}}),er(X).subscribe(p))})(h)}}function Li(i,e,...t){return!0===e?(i(),null):!1===e?null:e(...t).pipe(Rr(1)).subscribe(()=>i())}function Xt(i){for(let e in i)if(i[e]===Xt)return e;throw Error("Could not find renamed property on target object.")}function js(i,e){for(const t in e)e.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(i[t]=e[t])}function sn(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(sn).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const e=i.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function ro(i,e){return null==i||""===i?null===e?"":e:null==e||""===e?i:i+" "+e}const Wl=Xt({__forward_ref__:Xt});function ls(i){return i.__forward_ref__=ls,i.toString=function(){return sn(this())},i}function vt(i){return hs(i)?i():i}function hs(i){return"function"==typeof i&&i.hasOwnProperty(Wl)&&i.__forward_ref__===ls}class yt extends Error{constructor(e,t){super(function Wu(i,e){return`NG0${Math.abs(i)}${e?": "+e:""}`}(e,t)),this.code=e}}function ct(i){return"string"==typeof i?i:null==i?"":String(i)}function hr(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ct(i)}function Za(i,e){const t=e?` in ${e}`:"";throw new yt(-201,`No provider for ${hr(i)} found${t}`)}function ot(i,e){null==i&&function nn(i,e,t,o){throw new Error(`ASSERTION ERROR: ${i}`+(null==o?"":` [Expected=> ${t} ${o} ${e} <=Actual]`))}(e,i,null,"!=")}function He(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Le(i){return{providers:i.providers||[],imports:i.imports||[]}}function An(i){return Xu(i,H)||Xu(i,ne)}function Xu(i,e){return i.hasOwnProperty(e)?i[e]:null}function L(i){return i&&(i.hasOwnProperty(Y)||i.hasOwnProperty(_e))?i[Y]:null}const H=Xt({\u0275prov:Xt}),Y=Xt({\u0275inj:Xt}),ne=Xt({ngInjectableDef:Xt}),_e=Xt({ngInjectorDef:Xt});var de=(()=>((de=de||{})[de.Default=0]="Default",de[de.Host=1]="Host",de[de.Self=2]="Self",de[de.SkipSelf=4]="SkipSelf",de[de.Optional=8]="Optional",de))();let xe;function nt(i){const e=xe;return xe=i,e}function ht(i,e,t){const o=An(i);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:t&de.Optional?null:void 0!==e?e:void Za(sn(i),"Injector")}function Vn(i){return{toString:i}.toString()}var At=(()=>((At=At||{})[At.OnPush=0]="OnPush",At[At.Default=1]="Default",At))(),vr=(()=>{return(i=vr||(vr={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",vr;var i})();const fi="undefined"!=typeof globalThis&&globalThis,io="undefined"!=typeof window&&window,Bo="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Zt=fi||"undefined"!=typeof global&&global||io||Bo,Vr={},hn=[],Xl=Xt({\u0275cmp:Xt}),tu=Xt({\u0275dir:Xt}),Vc=Xt({\u0275pipe:Xt}),Zl=Xt({\u0275mod:Xt}),Vo=Xt({\u0275fac:Xt}),Ju=Xt({__NG_ELEMENT_ID__:Xt});let Cd=0;function ar(i){return Vn(()=>{const t={},o={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===At.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||hn,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||vr.Emulated,id:"c",styles:i.styles||hn,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,h=i.features,p=i.pipes;return o.id+=Cd++,o.inputs=vp(i.inputs,t),o.outputs=vp(i.outputs),h&&h.forEach(m=>m(o)),o.directiveDefs=c?()=>("function"==typeof c?c():c).map(Vi):null,o.pipeDefs=p?()=>("function"==typeof p?p():p).map(Dd):null,o})}function Vi(i){return _r(i)||function fs(i){return i[tu]||null}(i)}function Dd(i){return function Uo(i){return i[Vc]||null}(i)}const mp={};function Hn(i){return Vn(()=>{const e={type:i.type,bootstrap:i.bootstrap||hn,declarations:i.declarations||hn,imports:i.imports||hn,exports:i.exports||hn,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(mp[i.id]=i.type),e})}function vp(i,e){if(null==i)return Vr;const t={};for(const o in i)if(i.hasOwnProperty(o)){let c=i[o],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),t[c]=o,e&&(e[c]=h)}return t}const qn=ar;function _r(i){return i[Xl]||null}function Ui(i,e){const t=i[Zl]||null;if(!t&&!0===e)throw new Error(`Type ${sn(i)} does not have '\u0275mod' property.`);return t}function zo(i){return Array.isArray(i)&&"object"==typeof i[1]}function qr(i){return Array.isArray(i)&&!0===i[1]}function gs(i){return 0!=(8&i.flags)}function nu(i){return 2==(2&i.flags)}function oo(i){return 1==(1&i.flags)}function so(i){return null!==i.template}function ru(i){return 0!=(512&i[2])}function me(i,e){return i.hasOwnProperty(Vo)?i[Vo]:null}class Co{constructor(e,t,o){this.previousValue=e,this.currentValue=t,this.firstChange=o}isFirstChange(){return this.firstChange}}function zr(){return Ce}function Ce(i){return i.type.prototype.ngOnChanges&&(i.setInput=nh),wr}function wr(){const i=Ze(this),e=null==i?void 0:i.current;if(e){const t=i.previous;if(t===Vr)i.previous=e;else for(let o in e)t[o]=e[o];i.current=null,this.ngOnChanges(e)}}function nh(i,e,t,o){const c=Ze(i)||function at(i,e){return i[$c]=e}(i,{previous:Vr,current:null}),h=c.current||(c.current={}),p=c.previous,m=this.declaredInputs[t],_=p[m];h[m]=new Co(_&&_.currentValue,e,p===Vr),i[o]=e}zr.ngInherit=!0;const $c="__ngSimpleChanges__";function Ze(i){return i[$c]||null}let Hs;function dn(i){return!!i.listen}const Id={createRenderer:(i,e)=>function Et(){return void 0!==Hs?Hs:"undefined"!=typeof document?document:void 0}()};function rt(i){for(;Array.isArray(i);)i=i[0];return i}function Ii(i,e){return rt(e[i])}function Mn(i,e){return rt(e[i.index])}function uo(i,e){return i.data[e]}function oi(i,e){const t=e[i];return zo(t)?t:t[0]}function Td(i){return 4==(4&i[2])}function ih(i){return 128==(128&i[2])}function Ti(i,e){return null==e?null:i[e]}function ic(i){i[18]=0}function $e(i,e){i[5]+=e;let t=i,o=i[3];for(;null!==o&&(1===e&&1===t[5]||-1===e&&0===t[5]);)o[5]+=e,t=o,o=o[3]}const fe={lFrame:Go(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function sh(){return fe.bindingsEnabled}function ve(){return fe.lFrame.lView}function jt(){return fe.lFrame.tView}function Ai(i){return fe.lFrame.contextLView=i,i[8]}function tr(){let i=Ep();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ep(){return fe.lFrame.currentTNode}function gi(i,e){const t=fe.lFrame;t.currentTNode=i,t.isParent=e}function $r(){return fe.lFrame.isParent}function Md(){fe.lFrame.isParent=!1}function uh(){return fe.isInCheckNoChangesMode}function da(i){fe.isInCheckNoChangesMode=i}function Gr(){const i=fe.lFrame;let e=i.bindingRootIndex;return-1===e&&(e=i.bindingRootIndex=i.tView.bindingStartIndex),e}function Wc(){return fe.lFrame.bindingIndex++}function am(i,e){const t=fe.lFrame;t.bindingIndex=t.bindingRootIndex=i,Dp(e)}function Dp(i){fe.lFrame.currentDirectiveIndex=i}function kd(i){const e=fe.lFrame.currentDirectiveIndex;return-1===e?null:i[e]}function Kc(){return fe.lFrame.currentQueryIndex}function Yc(i){fe.lFrame.currentQueryIndex=i}function oc(i){const e=i[1];return 2===e.type?e.declTNode:1===e.type?i[6]:null}function ch(i,e,t){if(t&de.SkipSelf){let c=e,h=i;for(;!(c=c.parent,null!==c||t&de.Host||(c=oc(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;e=c,i=h}const o=fe.lFrame=Od();return o.currentTNode=e,o.lView=i,!0}function Qc(i){const e=Od(),t=i[1];fe.lFrame=e,e.currentTNode=t.firstChild,e.lView=i,e.tView=t,e.contextLView=i,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Od(){const i=fe.lFrame,e=null===i?null:i.child;return null===e?Go(i):e}function Go(i){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=e),e}function xd(){const i=fe.lFrame;return fe.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const sc=xd;function ou(){const i=xd();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function si(){return fe.lFrame.selectedIndex}function Do(i){fe.lFrame.selectedIndex=i}function Nn(){const i=fe.lFrame;return uo(i.tView,i.selectedIndex)}function Zc(i,e){for(let t=e.directiveStart,o=e.directiveEnd;t<o;t++){const h=i.data[t].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:m,ngAfterViewInit:_,ngAfterViewChecked:E,ngOnDestroy:S}=h;p&&(i.contentHooks||(i.contentHooks=[])).push(-t,p),m&&((i.contentHooks||(i.contentHooks=[])).push(t,m),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(t,m)),_&&(i.viewHooks||(i.viewHooks=[])).push(-t,_),E&&((i.viewHooks||(i.viewHooks=[])).push(t,E),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(t,E)),null!=S&&(i.destroyHooks||(i.destroyHooks=[])).push(t,S)}}function dh(i,e,t){fh(i,e,3,t)}function au(i,e,t,o){(3&i[2])===t&&fh(i,e,t,o)}function Jc(i,e){let t=i[2];(3&t)===e&&(t&=2047,t+=1,i[2]=t)}function fh(i,e,t,o){const h=null!=o?o:-1,p=e.length-1;let m=0;for(let _=void 0!==o?65535&i[18]:0;_<p;_++)if("number"==typeof e[_+1]){if(m=e[_],null!=o&&m>=o)break}else e[_]<0&&(i[18]+=65536),(m<h||-1==h)&&(ph(i,t,e,_),i[18]=(4294901760&i[18])+_+2),_++}function ph(i,e,t,o){const c=t[o]<0,h=t[o+1],m=i[c?-t[o]:t[o]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===e){i[2]+=2048;try{h.call(m)}finally{}}}else try{h.call(m)}finally{}}class el{constructor(e,t,o){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=o}}function pa(i,e,t){const o=dn(i);let c=0;for(;c<t.length;){const h=t[c];if("number"==typeof h){if(0!==h)break;c++;const p=t[c++],m=t[c++],_=t[c++];o?i.setAttribute(e,m,_,p):e.setAttributeNS(p,m,_)}else{const p=h,m=t[++c];cu(p)?o&&i.setProperty(e,p,m):o?i.setAttribute(e,p,m):e.setAttribute(p,m),c++}}return c}function ga(i){return 3===i||4===i||6===i}function cu(i){return 64===i.charCodeAt(0)}function nr(i,e){if(null!==e&&0!==e.length)if(null===i||0===i.length)i=e.slice();else{let t=-1;for(let o=0;o<e.length;o++){const c=e[o];"number"==typeof c?t=c:0===t||vs(i,t,c,null,-1===t||2===t?e[++o]:null)}}return i}function vs(i,e,t,o,c){let h=0,p=i.length;if(-1===e)p=-1;else for(;h<i.length;){const m=i[h++];if("number"==typeof m){if(m===e){p=-1;break}if(m>e){p=h-1;break}}}for(;h<i.length;){const m=i[h];if("number"==typeof m)break;if(m===t){if(null===o)return void(null!==c&&(i[h+1]=c));if(o===i[h+1])return void(i[h+2]=c)}h++,null!==o&&h++,null!==c&&h++}-1!==p&&(i.splice(p,0,e),h=p+1),i.splice(h++,0,t),null!==o&&i.splice(h++,0,o),null!==c&&i.splice(h++,0,c)}function ac(i){return-1!==i}function nl(i){return 32767&i}function lu(i,e){let t=function ys(i){return i>>16}(i),o=e;for(;t>0;)o=o[15],t--;return o}let Ld=!0;function _s(i){const e=Ld;return Ld=i,e}let Ip=0;function Zn(i,e){const t=du(i,e);if(-1!==t)return t;const o=e[1];o.firstCreatePass&&(i.injectorIndex=e.length,Mt(o.data,i),Mt(e,null),Mt(o.blueprint,null));const c=bs(i,e),h=i.injectorIndex;if(ac(c)){const p=nl(c),m=lu(c,e),_=m[1].data;for(let E=0;E<8;E++)e[h+E]=m[p+E]|_[p+E]}return e[h+8]=c,h}function Mt(i,e){i.push(0,0,0,0,0,0,0,0,e)}function du(i,e){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===e[i.injectorIndex+8]?-1:i.injectorIndex}function bs(i,e){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let t=0,o=null,c=e;for(;null!==c;){const h=c[1],p=h.type;if(o=2===p?h.declTNode:1===p?c[6]:null,null===o)return-1;if(t++,c=c[15],-1!==o.injectorIndex)return o.injectorIndex|t<<16}return-1}function vh(i,e,t){!function hu(i,e,t){let o;"string"==typeof t?o=t.charCodeAt(0)||0:t.hasOwnProperty(Ju)&&(o=t[Ju]),null==o&&(o=t[Ju]=Ip++);const c=255&o;e.data[i+(c>>5)]|=1<<c}(i,e,t)}function Tp(i,e,t){if(t&de.Optional)return i;Za(e,"NodeInjector")}function Rn(i,e,t,o){if(t&de.Optional&&void 0===o&&(o=null),0==(t&(de.Self|de.Host))){const c=i[9],h=nt(void 0);try{return c?c.get(e,o,t&de.Optional):ht(e,o,t&de.Optional)}finally{nt(h)}}return Tp(o,e,t)}function rl(i,e,t,o=de.Default,c){if(null!==i){const h=function hm(i){if("string"==typeof i)return i.charCodeAt(0)||0;const e=i.hasOwnProperty(Ju)?i[Ju]:void 0;return"number"==typeof e?e>=0?255&e:$n:e}(t);if("function"==typeof h){if(!ch(e,i,o))return o&de.Host?Tp(c,t,o):Rn(e,t,o,c);try{const p=h(o);if(null!=p||o&de.Optional)return p;Za(t)}finally{sc()}}else if("number"==typeof h){let p=null,m=du(i,e),_=-1,E=o&de.Host?e[16][6]:null;for((-1===m||o&de.SkipSelf)&&(_=-1===m?bs(i,e):e[m+8],-1!==_&&jd(o,!1)?(p=e[1],m=nl(_),e=lu(_,e)):m=-1);-1!==m;){const S=e[1];if(il(h,m,S.data)){const R=lm(m,e,t,p,o,E);if(R!==ws)return R}_=e[m+8],-1!==_&&jd(o,e[1].data[m+8]===E)&&il(h,m,e)?(p=S,m=nl(_),e=lu(_,e)):m=-1}}}return Rn(e,t,o,c)}const ws={};function $n(){return new mi(tr(),ve())}function lm(i,e,t,o,c,h){const p=e[1],m=p.data[i+8],S=fu(m,p,t,null==o?nu(m)&&Ld:o!=p&&0!=(3&m.type),c&de.Host&&h===m);return null!==S?rr(e,p,S,m):ws}function fu(i,e,t,o,c){const h=i.providerIndexes,p=e.data,m=1048575&h,_=i.directiveStart,S=h>>20,F=c?m+S:i.directiveEnd;for(let j=o?m:m+S;j<F;j++){const z=p[j];if(j<_&&t===z||j>=_&&z.type===t)return j}if(c){const j=p[_];if(j&&so(j)&&j.type===t)return _}return null}function rr(i,e,t,o){let c=i[t];const h=e.data;if(function Nd(i){return i instanceof el}(c)){const p=c;p.resolving&&function _o(i,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${i}`:"";throw new yt(-200,`Circular dependency in DI detected for ${i}${t}`)}(hr(h[t]));const m=_s(p.canSeeViewProviders);p.resolving=!0;const _=p.injectImpl?nt(p.injectImpl):null;ch(i,o,de.Default);try{c=i[t]=p.factory(void 0,h,i,o),e.firstCreatePass&&t>=o.directiveStart&&function su(i,e,t){const{ngOnChanges:o,ngOnInit:c,ngDoCheck:h}=e.type.prototype;if(o){const p=Ce(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(i,p),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,p)}c&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-i,c),h&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i,h),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,h))}(t,h[t],e)}finally{null!==_&&nt(_),_s(m),p.resolving=!1,sc()}}return c}function il(i,e,t){return!!(t[e+(i>>5)]&1<<i)}function jd(i,e){return!(i&de.Self||i&de.Host&&e)}class mi{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,o){return rl(this._tNode,this._lView,e,o,t)}}function mn(i){return hs(i)?()=>{const e=mn(vt(i));return e&&e()}:me(i)}function pu(i){return function va(i,e){if("class"===e)return i.classes;if("style"===e)return i.styles;const t=i.attrs;if(t){const o=t.length;let c=0;for(;c<o;){const h=t[c];if(ga(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<o&&"string"==typeof t[c];)c++;else{if(h===e)return t[c+1];c+=2}}}return null}(tr(),i)}const Gs="__parameters__";function vu(i,e,t){return Vn(()=>{const o=function mu(i){return function(...t){if(i){const o=i(...t);for(const c in o)this[c]=o[c]}}}(e);function c(...h){if(this instanceof c)return o.apply(this,h),this;const p=new c(...h);return m.annotation=p,m;function m(_,E,S){const R=_.hasOwnProperty(Gs)?_[Gs]:Object.defineProperty(_,Gs,{value:[]})[Gs];for(;R.length<=S;)R.push(null);return(R[S]=R[S]||[]).push(p),_}}return t&&(c.prototype=Object.create(t.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class tt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=He({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const yh=new tt("AnalyzeForEntryComponents");function ai(i,e){void 0===e&&(e=i);for(let t=0;t<i.length;t++){let o=i[t];Array.isArray(o)?(e===i&&(e=i.slice(0,t)),ai(o,e)):e!==i&&e.push(o)}return e}function dr(i,e){i.forEach(t=>Array.isArray(t)?dr(t,e):e(t))}function ol(i,e,t){e>=i.length?i.push(t):i.splice(e,0,t)}function yu(i,e){return e>=i.length-1?i.pop():i.splice(e,1)[0]}function Ws(i,e){const t=[];for(let o=0;o<i;o++)t.push(e);return t}function co(i,e,t){let o=ul(i,e);return o>=0?i[1|o]=t:(o=~o,function al(i,e,t,o){let c=i.length;if(c==e)i.push(t,o);else if(1===c)i.push(o,i[0]),i[0]=t;else{for(c--,i.push(i[c-1],i[c]);c>e;)i[c]=i[c-2],c--;i[e]=t,i[e+1]=o}}(i,o,e,t)),o}function Op(i,e){const t=ul(i,e);if(t>=0)return i[1|t]}function ul(i,e){return function _u(i,e,t){let o=0,c=i.length>>t;for(;c!==o;){const h=o+(c-o>>1),p=i[h<<t];if(e===p)return h<<t;p>e?c=h:o=h+1}return~(c<<t)}(i,e,1)}const Cr={},So="__NG_DI_FLAG__",kn="ngTempTokenPath",vm=/\n/gm,Gn="__source",lo=Xt({provide:String,useValue:Xt});let Wr;function Dr(i){const e=Wr;return Wr=i,e}function Yi(i,e=de.Default){if(void 0===Wr)throw new yt(203,"");return null===Wr?ht(i,void 0,e):Wr.get(i,e&de.Optional?null:void 0,e)}function ue(i,e=de.Default){return(function Xe(){return xe}()||Yi)(vt(i),e)}const Es=ue;function bu(i){const e=[];for(let t=0;t<i.length;t++){const o=vt(i[t]);if(Array.isArray(o)){if(0===o.length)throw new yt(900,"");let c,h=de.Default;for(let p=0;p<o.length;p++){const m=o[p],_=Wd(m);"number"==typeof _?-1===_?c=m.token:h|=_:c=m}e.push(ue(c,h))}else e.push(ue(o))}return e}function Ch(i,e){return i[So]=e,i.prototype[So]=e,i}function Wd(i){return i[So]}const we=Ch(vu("Inject",i=>({token:i})),-1),ir=Ch(vu("Optional"),8),lc=Ch(vu("SkipSelf"),4);let Cs;function Ys(i){var e;return(null===(e=function Cu(){if(void 0===Cs&&(Cs=null,Zt.trustedTypes))try{Cs=Zt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Cs}())||void 0===e?void 0:e.createHTML(i))||i}class Qs{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ef extends Qs{getTypeName(){return"HTML"}}class Yo extends Qs{getTypeName(){return"Style"}}class Em extends Qs{getTypeName(){return"Script"}}class tf extends Qs{getTypeName(){return"URL"}}class Qv extends Qs{getTypeName(){return"ResourceURL"}}function ho(i){return i instanceof Qs?i.changingThisBreaksApplicationSecurity:i}function vi(i,e){const t=hc(i);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function hc(i){return i instanceof Qs&&i.getTypeName()||null}class dc{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Ys(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Sm{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const o=this.inertDocument.createElement("body");t.appendChild(o)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Ys(e),t;const o=this.inertDocument.createElement("body");return o.innerHTML=Ys(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(o),o}stripCustomNsAttrs(e){const t=e.attributes;for(let c=t.length-1;0<c;c--){const p=t.item(c).name;("xmlns:ns1"===p||0===p.indexOf("ns1:"))&&e.removeAttribute(p)}let o=e.firstChild;for(;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}const Jv=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ey=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Du(i){return(i=String(i)).match(Jv)||i.match(ey)?i:"unsafe:"+i}function Qo(i){const e={};for(const t of i.split(","))e[t]=!0;return e}function Mh(...i){const e={};for(const t of i)for(const o in t)t.hasOwnProperty(o)&&(e[o]=!0);return e}const Im=Qo("area,br,col,hr,img,wbr"),Lp=Qo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wa=Qo("rp,rt"),dl=Mh(Im,Mh(Lp,Qo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mh(wa,Qo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Mh(wa,Lp)),Bp=Qo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fc=Qo("srcset"),qt=Mh(Bp,fc,Qo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Up=Qo("script,style,template");class Hp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,o=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?o=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,o&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let c=this.checkClobberedElement(t,t.nextSibling);if(c){t=c;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!dl.hasOwnProperty(t))return this.sanitizedSomething=!0,!Up.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const o=e.attributes;for(let c=0;c<o.length;c++){const h=o.item(c),p=h.name,m=p.toLowerCase();if(!qt.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let _=h.value;Bp[m]&&(_=Du(_)),fc[m]&&(i=_,_=(i=String(i)).split(",").map(e=>Du(e.trim())).join(", ")),this.buf.push(" ",p,'="',qp(_),'"')}var i;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();dl.hasOwnProperty(t)&&!Im.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(qp(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Am=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ny=/([^\#-~ |!])/g;function qp(i){return i.replace(/&/g,"&amp;").replace(Am,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(ny,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rh;function Mm(i,e){let t=null;try{Rh=Rh||function ba(i){const e=new Sm(i);return function Zv(){try{return!!(new window.DOMParser).parseFromString(Ys(""),"text/html")}catch(i){return!1}}()?new dc(e):e}(i);let o=e?String(e):"";t=Rh.getInertBodyElement(o);let c=5,h=o;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,o=h,h=t.innerHTML,t=Rh.getInertBodyElement(o)}while(o!==h);return Ys((new Hp).sanitizeChildren(rf(t)||t))}finally{if(t){const o=rf(t)||t;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function rf(i){return"content"in i&&function ry(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Jt=(()=>((Jt=Jt||{})[Jt.NONE=0]="NONE",Jt[Jt.HTML=1]="HTML",Jt[Jt.STYLE=2]="STYLE",Jt[Jt.SCRIPT=3]="SCRIPT",Jt[Jt.URL=4]="URL",Jt[Jt.RESOURCE_URL=5]="RESOURCE_URL",Jt))();function Ds(i){const e=function cr(){const i=ve();return i&&i[12]}();return e?e.sanitize(Jt.URL,i)||"":vi(i,"URL")?ho(i):Du(ct(i))}const Gp="__ngContext__";function yi(i,e){i[Gp]=e}function af(i){const e=function fl(i){return i[Gp]||null}(i);return e?Array.isArray(e)?e:e.lView:null}function Ph(i){return i.ngOriginalError}function Nm(i,...e){i.error(...e)}class Xs{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),o=function oy(i){return i&&i.ngErrorLogger||Nm}(e);o(this._console,"ERROR",e),t&&o(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Ph(e);for(;t&&Ph(t);)t=Ph(t);return t||null}}const vl=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Zt))();function Ss(i){return i instanceof Function?i():i}var ci=(()=>((ci=ci||{})[ci.Important=1]="Important",ci[ci.DashCase=2]="DashCase",ci))();function Iu(i,e){return undefined(i,e)}function Zs(i){const e=i[3];return qr(e)?e[3]:e}function tg(i){return jh(i[13])}function ng(i){return jh(i[4])}function jh(i){for(;null!==i&&!qr(i);)i=i[4];return i}function Ca(i,e,t,o,c){if(null!=o){let h,p=!1;qr(o)?h=o:zo(o)&&(p=!0,o=o[0]);const m=rt(o);0===i&&null!==t?null==c?Hh(e,t,m):Au(e,t,m,c||null,!0):1===i&&null!==t?Au(e,t,m,c||null,!0):2===i?function lg(i,e,t){const o=_f(i,e);o&&function yf(i,e,t,o){dn(i)?i.removeChild(e,t,o):e.removeChild(t)}(i,o,e,t)}(e,m,p):3===i&&e.destroyNode(m),null!=h&&function Wh(i,e,t,o,c){const h=t[7];h!==rt(t)&&Ca(e,i,o,h,c);for(let m=10;m<t.length;m++){const _=t[m];Sa(_[1],_,i,e,o,h)}}(e,i,h,t,c)}}function Da(i,e,t){return dn(i)?i.createElement(e,t):null===t?i.createElement(e):i.createElementNS(t,e)}function bc(i,e){const t=i[9],o=t.indexOf(e),c=e[3];1024&e[2]&&(e[2]&=-1025,$e(c,-1)),t.splice(o,1)}function og(i,e){if(i.length<=10)return;const t=10+e,o=i[t];if(o){const c=o[17];null!==c&&c!==i&&bc(c,o),e>0&&(i[t-1][4]=o[4]);const h=yu(i,10+e);!function pf(i,e){Sa(i,e,e[11],2,null,null),e[0]=null,e[6]=null}(o[1],o);const p=h[19];null!==p&&p.detachView(h[1]),o[3]=null,o[4]=null,o[2]&=-129}return o}function jm(i,e){if(!(256&e[2])){const t=e[11];dn(t)&&t.destroyNode&&Sa(i,e,t,3,null,null),function Lm(i){let e=i[13];if(!e)return Vh(i[1],i);for(;e;){let t=null;if(zo(e))t=e[13];else{const o=e[10];o&&(t=o)}if(!t){for(;e&&!e[4]&&e!==i;)zo(e)&&Vh(e[1],e),e=e[3];null===e&&(e=i),zo(e)&&Vh(e[1],e),t=e&&e[4]}e=t}}(e)}}function Vh(i,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function Bm(i,e){let t;if(null!=i&&null!=(t=i.destroyHooks))for(let o=0;o<t.length;o+=2){const c=e[t[o]];if(!(c instanceof el)){const h=t[o+1];if(Array.isArray(h))for(let p=0;p<h.length;p+=2){const m=c[h[p]],_=h[p+1];try{_.call(m)}finally{}}else try{h.call(c)}finally{}}}}(i,e),function vf(i,e){const t=i.cleanup,o=e[7];let c=-1;if(null!==t)for(let h=0;h<t.length-1;h+=2)if("string"==typeof t[h]){const p=t[h+1],m="function"==typeof p?p(e):rt(e[p]),_=o[c=t[h+2]],E=t[h+3];"boolean"==typeof E?m.removeEventListener(t[h],_,E):E>=0?o[c=E]():o[c=-E].unsubscribe(),h+=2}else{const p=o[c=t[h+1]];t[h].call(p)}if(null!==o){for(let h=c+1;h<o.length;h++)o[h]();e[7]=null}}(i,e),1===e[1].type&&dn(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&qr(e[3])){t!==e[3]&&bc(t,e);const o=e[19];null!==o&&o.detachView(i)}}}function Uh(i,e,t){return function Vm(i,e,t){let o=e;for(;null!==o&&40&o.type;)o=(e=o).parent;if(null===o)return t[0];if(2&o.flags){const c=i.data[o.directiveStart].encapsulation;if(c===vr.None||c===vr.Emulated)return null}return Mn(o,t)}(i,e.parent,t)}function Au(i,e,t,o,c){dn(i)?i.insertBefore(e,t,o,c):e.insertBefore(t,o,c)}function Hh(i,e,t){dn(i)?i.appendChild(e,t):e.appendChild(t)}function sg(i,e,t,o,c){null!==o?Au(i,e,t,o,c):Hh(i,e,t)}function _f(i,e){return dn(i)?i.parentNode(e):e.parentNode}function ag(i,e,t){return qh(i,e,t)}let qh=function ug(i,e,t){return 40&i.type?Mn(i,t):null};function zh(i,e,t,o){const c=Uh(i,o,e),h=e[11],m=ag(o.parent||e[6],o,e);if(null!=c)if(Array.isArray(t))for(let _=0;_<t.length;_++)sg(h,c,t[_],m,!1);else sg(h,c,t,m,!1)}function $h(i,e){if(null!==e){const t=e.type;if(3&t)return Mn(e,i);if(4&t)return Gh(-1,i[e.index]);if(8&t){const o=e.child;if(null!==o)return $h(i,o);{const c=i[e.index];return qr(c)?Gh(-1,c):rt(c)}}if(32&t)return Iu(e,i)()||rt(i[e.index]);{const o=cg(i,e);return null!==o?Array.isArray(o)?o[0]:$h(Zs(i[16]),o):$h(i,e.next)}}return null}function cg(i,e){return null!==e?i[16][6].projection[e.projection]:null}function Gh(i,e){const t=10+i+1;if(t<e.length){const o=e[t],c=o[1].firstChild;if(null!==c)return $h(o,c)}return e[7]}function Ef(i,e,t,o,c,h,p){for(;null!=t;){const m=o[t.index],_=t.type;if(p&&0===e&&(m&&yi(rt(m),o),t.flags|=4),64!=(64&t.flags))if(8&_)Ef(i,e,t.child,o,c,h,!1),Ca(e,i,c,m,h);else if(32&_){const E=Iu(t,o);let S;for(;S=E();)Ca(e,i,c,S,h);Ca(e,i,c,m,h)}else 16&_?Ia(i,e,o,t,c,h):Ca(e,i,c,m,h);t=p?t.projectionNext:t.next}}function Sa(i,e,t,o,c,h){Ef(t,o,i.firstChild,e,c,h,!1)}function Ia(i,e,t,o,c,h){const p=t[16],_=p[6].projection[o.projection];if(Array.isArray(_))for(let E=0;E<_.length;E++)Ca(e,i,c,_[E],h);else Ef(i,e,_,p[3],c,h,!0)}function Kh(i,e,t){dn(i)?i.setAttribute(e,"style",t):e.style.cssText=t}function Yh(i,e,t){dn(i)?""===t?i.removeAttribute(e,"class"):i.setAttribute(e,"class",t):e.className=t}function ea(i,e,t){let o=i.length;for(;;){const c=i.indexOf(e,t);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const h=e.length;if(c+h===o||i.charCodeAt(c+h)<=32)return c}t=c+1}}const Mu="ng-template";function ly(i,e,t){let o=0;for(;o<i.length;){let c=i[o++];if(t&&"class"===c){if(c=i[o],-1!==ea(c.toLowerCase(),e,0))return!0}else if(1===c){for(;o<i.length&&"string"==typeof(c=i[o++]);)if(c.toLowerCase()===e)return!0;return!1}}return!1}function hg(i){return 4===i.type&&i.value!==Mu}function hy(i,e,t){return e===(4!==i.type||t?i.value:Mu)}function Um(i,e,t){let o=4;const c=i.attrs||[],h=function qm(i){for(let e=0;e<i.length;e++)if(ga(i[e]))return e;return i.length}(c);let p=!1;for(let m=0;m<e.length;m++){const _=e[m];if("number"!=typeof _){if(!p)if(4&o){if(o=2|1&o,""!==_&&!hy(i,_,t)||""===_&&1===e.length){if(fo(o))return!1;p=!0}}else{const E=8&o?_:e[++m];if(8&o&&null!==i.attrs){if(!ly(i.attrs,E,t)){if(fo(o))return!1;p=!0}continue}const R=Sf(8&o?"class":_,c,hg(i),t);if(-1===R){if(fo(o))return!1;p=!0;continue}if(""!==E){let F;F=R>h?"":c[R+1].toLowerCase();const j=8&o?F:null;if(j&&-1!==ea(j,E,0)||2&o&&E!==F){if(fo(o))return!1;p=!0}}}}else{if(!p&&!fo(o)&&!fo(_))return!1;if(p&&fo(_))continue;p=!1,o=_|1&o}}return fo(o)||p}function fo(i){return 0==(1&i)}function Sf(i,e,t,o){if(null===e)return-1;let c=0;if(o||!t){let h=!1;for(;c<e.length;){const p=e[c];if(p===i)return c;if(3===p||6===p)h=!0;else{if(1===p||2===p){let m=e[++c];for(;"string"==typeof m;)m=e[++c];continue}if(4===p)break;if(0===p){c+=4;continue}}c+=h?1:2}return-1}return function If(i,e){let t=i.indexOf(4);if(t>-1)for(t++;t<i.length;){const o=i[t];if("number"==typeof o)return-1;if(o===e)return t;t++}return-1}(e,i)}function Hm(i,e,t=!1){for(let o=0;o<e.length;o++)if(Um(i,e[o],t))return!0;return!1}function Qh(i,e){e:for(let t=0;t<e.length;t++){const o=e[t];if(i.length===o.length){for(let c=0;c<i.length;c++)if(i[c]!==o[c])continue e;return!0}}return!1}function fg(i,e){return i?":not("+e.trim()+")":e}function pg(i){let e=i[0],t=1,o=2,c="",h=!1;for(;t<i.length;){let p=i[t];if("string"==typeof p)if(2&o){const m=i[++t];c+="["+p+(m.length>0?'="'+m+'"':"")+"]"}else 8&o?c+="."+p:4&o&&(c+=" "+p);else""!==c&&!fo(p)&&(e+=fg(h,c),c=""),o=p,h=h||!fo(o);t++}return""!==c&&(e+=fg(h,c)),e}const mt={};function an(i){ta(jt(),ve(),si()+i,uh())}function ta(i,e,t,o){if(!o)if(3==(3&e[2])){const h=i.preOrderCheckHooks;null!==h&&dh(e,h,t)}else{const h=i.preOrderHooks;null!==h&&au(e,h,0,t)}Do(t)}function Af(i,e){return i<<17|e<<2}function po(i){return i>>17&32767}function bl(i){return 2|i}function Mo(i){return(131068&i)>>2}function wc(i,e){return-131069&i|e<<2}function Xh(i){return 1|i}function Km(i,e){const t=i.contentQueries;if(null!==t)for(let o=0;o<t.length;o+=2){const c=t[o],h=t[o+1];if(-1!==h){const p=i.data[h];Yc(c),p.contentQueries(2,e[h],h)}}}function El(i,e,t,o,c,h,p,m,_,E){const S=e.blueprint.slice();return S[0]=c,S[2]=140|o,ic(S),S[3]=S[15]=i,S[8]=t,S[10]=p||i&&i[10],S[11]=m||i&&i[11],S[12]=_||i&&i[12]||null,S[9]=E||i&&i[9]||null,S[6]=h,S[16]=2==e.type?i[16]:S,S}function Ra(i,e,t,o,c){let h=i.data[e];if(null===h)h=function Zo(i,e,t,o,c){const h=Ep(),p=$r(),_=i.data[e]=function ku(i,e,t,o,c,h){return{type:t,index:o,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?h:h&&h.parent,t,e,o,c);return null===i.firstChild&&(i.firstChild=_),null!==h&&(p?null==h.child&&null!==_.parent&&(h.child=_):null===h.next&&(h.next=_)),_}(i,e,t,o,c),function Cp(){return fe.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=t,h.value=o,h.attrs=c;const p=function zs(){const i=fe.lFrame,e=i.currentTNode;return i.isParent?e:e.parent}();h.injectorIndex=null===p?-1:p.injectorIndex}return gi(h,!0),h}function Jo(i,e,t,o){if(0===t)return-1;const c=e.length;for(let h=0;h<t;h++)e.push(o),i.blueprint.push(o),i.data.push(null);return c}function ka(i,e,t){Qc(e);try{const o=i.viewQuery;null!==o&&Ms(1,o,t);const c=i.template;null!==c&&Ic(i,e,c,1,t),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Km(i,e),i.staticViewQueries&&Ms(2,i.viewQuery,t);const h=i.components;null!==h&&function Lf(i,e){for(let t=0;t<e.length;t++)Al(i,e[t])}(e,h)}catch(o){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),o}finally{e[2]&=-5,ou()}}function Oa(i,e,t,o){const c=e[2];if(256==(256&c))return;Qc(e);const h=uh();try{ic(e),function $i(i){return fe.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==t&&Ic(i,e,t,2,o);const p=3==(3&c);if(!h)if(p){const E=i.preOrderCheckHooks;null!==E&&dh(e,E,null)}else{const E=i.preOrderHooks;null!==E&&au(e,E,0,null),Jc(e,0)}if(function Kf(i){for(let e=tg(i);null!==e;e=ng(e)){if(!e[2])continue;const t=e[9];for(let o=0;o<t.length;o++){const c=t[o],h=c[3];0==(1024&c[2])&&$e(h,1),c[2]|=1024}}}(e),function Tc(i){for(let e=tg(i);null!==e;e=ng(e))for(let t=10;t<e.length;t++){const o=e[t],c=o[1];ih(o)&&Oa(c,o,c.template,o[8])}}(e),null!==i.contentQueries&&Km(i,e),!h)if(p){const E=i.contentCheckHooks;null!==E&&dh(e,E)}else{const E=i.contentHooks;null!==E&&au(e,E,1),Jc(e,1)}!function id(i,e){const t=i.hostBindingOpCodes;if(null!==t)try{for(let o=0;o<t.length;o++){const c=t[o];if(c<0)Do(~c);else{const h=c,p=t[++o],m=t[++o];am(p,h),m(2,e[h])}}}finally{Do(-1)}}(i,e);const m=i.components;null!==m&&function Eg(i,e){for(let t=0;t<e.length;t++)cd(i,e[t])}(e,m);const _=i.viewQuery;if(null!==_&&Ms(2,_,o),!h)if(p){const E=i.viewCheckHooks;null!==E&&dh(e,E)}else{const E=i.viewHooks;null!==E&&au(e,E,2),Jc(e,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),h||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,$e(e[3],-1))}finally{ou()}}function Cg(i,e,t,o){const c=e[10],h=!uh(),p=Td(e);try{h&&!p&&c.begin&&c.begin(),p&&ka(i,e,o),Oa(i,e,t,o)}finally{h&&!p&&c.end&&c.end()}}function Ic(i,e,t,o,c){const h=si(),p=2&o;try{Do(-1),p&&e.length>20&&ta(i,e,20,uh()),t(o,c)}finally{Do(h)}}function jf(i,e,t){!sh()||(function Sl(i,e,t,o){const c=t.directiveStart,h=t.directiveEnd;i.firstCreatePass||Zn(t,e),yi(o,e);const p=t.initialInputs;for(let m=c;m<h;m++){const _=i.data[m],E=so(_);E&&Wf(e,t,_);const S=rr(e,i,m,t);yi(S,e),null!==p&&ud(0,m-c,S,_,0,p),E&&(oi(t.index,e)[8]=S)}}(i,e,t,Mn(t,e)),128==(128&t.flags)&&function As(i,e,t){const o=t.directiveStart,c=t.directiveEnd,p=t.index,m=function Wv(){return fe.lFrame.currentDirectiveIndex}();try{Do(p);for(let _=o;_<c;_++){const E=i.data[_],S=e[_];Dp(_),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&zf(E,S)}}finally{Do(-1),Dp(m)}}(i,e,t))}function Bf(i,e,t=Mn){const o=e.localNames;if(null!==o){let c=e.index+1;for(let h=0;h<o.length;h+=2){const p=o[h+1],m=-1===p?t(e,i):i[p];i[c++]=m}}}function od(i){const e=i.tView;return null===e||e.incompleteFirstPass?i.tView=Cl(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):e}function Cl(i,e,t,o,c,h,p,m,_,E){const S=20+o,R=S+c,F=function Ym(i,e){const t=[];for(let o=0;o<e;o++)t.push(o<i?null:mt);return t}(S,R),j="function"==typeof E?E():E;return F[1]={type:i,blueprint:F,template:t,queries:null,viewQuery:m,declTNode:e,data:F.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:_,consts:j,incompleteFirstPass:!1}}function Uf(i,e,t,o){const c=aa(e);null===t?c.push(o):(c.push(t),i.firstCreatePass&&bi(i).push(o,c.length-1))}function Qm(i,e,t){for(let o in i)if(i.hasOwnProperty(o)){const c=i[o];(t=null===t?{}:t).hasOwnProperty(o)?t[o].push(e,c):t[o]=[e,c]}return t}function Nr(i,e,t,o,c,h,p,m){const _=Mn(e,t);let S,E=e.inputs;!m&&null!=E&&(S=E[o])?(On(i,t,S,o,c),nu(e)&&function fn(i,e){const t=oi(e,i);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(o=function Hf(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(o),c=null!=p?p(c,e.value||"",o):c,dn(h)?h.setProperty(_,o,c):cu(o)||(_.setProperty?_.setProperty(o,c):_[o]=c))}function Ou(i,e,t,o){let c=!1;if(sh()){const h=function Sg(i,e,t){const o=i.directiveRegistry;let c=null;if(o)for(let h=0;h<o.length;h++){const p=o[h];Hm(t,p.selectors,!1)&&(c||(c=[]),vh(Zn(t,e),i,p.type),so(p)?(ad(i,t),c.unshift(p)):c.push(p))}return c}(i,e,t),p=null===o?null:{"":-1};if(null!==h){c=!0,Ig(t,i.data.length,h.length);for(let S=0;S<h.length;S++){const R=h[S];R.providersResolver&&R.providersResolver(R)}let m=!1,_=!1,E=Jo(i,e,h.length,null);for(let S=0;S<h.length;S++){const R=h[S];t.mergedAttrs=nr(t.mergedAttrs,R.hostAttrs),Tg(i,t,e,E,R),Gf(E,R,p),null!==R.contentQueries&&(t.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(t.flags|=128);const F=R.type.prototype;!m&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t.index),m=!0),!_&&(F.ngOnChanges||F.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t.index),_=!0),E++}!function Dg(i,e){const o=e.directiveEnd,c=i.data,h=e.attrs,p=[];let m=null,_=null;for(let E=e.directiveStart;E<o;E++){const S=c[E],R=S.inputs,F=null===h||hg(e)?null:Xm(R,h);p.push(F),m=Qm(R,E,m),_=Qm(S.outputs,E,_)}null!==m&&(m.hasOwnProperty("class")&&(e.flags|=16),m.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=p,e.inputs=m,e.outputs=_}(i,t)}p&&function $f(i,e,t){if(e){const o=i.localNames=[];for(let c=0;c<e.length;c+=2){const h=t[e[c+1]];if(null==h)throw new yt(-301,`Export of name '${e[c+1]}' not found!`);o.push(e[c],h)}}}(t,o,p)}return t.mergedAttrs=nr(t.mergedAttrs,t.attrs),c}function sd(i,e,t,o,c,h){const p=h.hostBindings;if(p){let m=i.hostBindingOpCodes;null===m&&(m=i.hostBindingOpCodes=[]);const _=~e.index;(function qf(i){let e=i.length;for(;e>0;){const t=i[--e];if("number"==typeof t&&t<0)return t}return 0})(m)!=_&&m.push(_),m.push(o,c,p)}}function zf(i,e){null!==i.hostBindings&&i.hostBindings(1,e)}function ad(i,e){e.flags|=2,(i.components||(i.components=[])).push(e.index)}function Gf(i,e,t){if(t){if(e.exportAs)for(let o=0;o<e.exportAs.length;o++)t[e.exportAs[o]]=i;so(e)&&(t[""]=i)}}function Ig(i,e,t){i.flags|=1,i.directiveStart=e,i.directiveEnd=e+t,i.providerIndexes=e}function Tg(i,e,t,o,c){i.data[o]=c;const h=c.factory||(c.factory=me(c.type)),p=new el(h,so(c),null);i.blueprint[o]=p,t[o]=p,sd(i,e,0,o,Jo(i,t,c.hostVars,mt),c)}function Wf(i,e,t){const o=Mn(e,i),c=od(t),h=i[10],p=ze(i,El(i,c,null,t.onPush?64:16,o,e,h,h.createRenderer(o,t),null,null));i[e.index]=p}function Ro(i,e,t,o,c,h){const p=Mn(i,e);!function Il(i,e,t,o,c,h,p){if(null==h)dn(i)?i.removeAttribute(e,c,t):e.removeAttribute(c);else{const m=null==p?ct(h):p(h,o||"",c);dn(i)?i.setAttribute(e,c,m,t):t?e.setAttributeNS(t,c,m):e.setAttribute(c,m)}}(e[11],p,h,i.value,t,o,c)}function ud(i,e,t,o,c,h){const p=h[e];if(null!==p){const m=o.setInput;for(let _=0;_<p.length;){const E=p[_++],S=p[_++],R=p[_++];null!==m?o.setInput(t,R,E,S):t[S]=R}}}function Xm(i,e){let t=null,o=0;for(;o<e.length;){const c=e[o];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===t&&(t=[]),t.push(c,i[c],e[o+1])),o+=2}else o+=2;else o+=4}return t}function sa(i,e,t,o){return new Array(i,!0,!1,e,null,0,o,t,null,null)}function cd(i,e){const t=oi(e,i);if(ih(t)){const o=t[1];80&t[2]?Oa(o,t,o.template,t[8]):t[5]>0&&Tl(t)}}function Tl(i){for(let o=tg(i);null!==o;o=ng(o))for(let c=10;c<o.length;c++){const h=o[c];if(1024&h[2]){const p=h[1];Oa(p,h,p.template,h[8])}else h[5]>0&&Tl(h)}const t=i[1].components;if(null!==t)for(let o=0;o<t.length;o++){const c=oi(t[o],i);ih(c)&&c[5]>0&&Tl(c)}}function Al(i,e){const t=oi(e,i),o=t[1];(function Yf(i,e){for(let t=e.length;t<i.blueprint.length;t++)e.push(i.blueprint[t])})(o,t),ka(o,t,t[8])}function ze(i,e){return i[13]?i[14][4]=e:i[13]=e,i[14]=e,e}function Ml(i){for(;i;){i[2]|=64;const e=Zs(i);if(ru(i)&&!e)return i;i=e}return null}function ns(i,e,t){const o=e[10];o.begin&&o.begin();try{Oa(i,e,i.template,t)}catch(c){throw lr(e,c),c}finally{o.end&&o.end()}}function Ag(i){!function xa(i){for(let e=0;e<i.components.length;e++){const t=i.components[e],o=af(t),c=o[1];Cg(c,o,c.template,t)}}(i[8])}function Ms(i,e,t){Yc(0),e(i,t)}const Pa=(()=>Promise.resolve(null))();function aa(i){return i[7]||(i[7]=[])}function bi(i){return i.cleanup||(i.cleanup=[])}function Rl(i,e,t){return(null===i||so(i))&&(t=function sm(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(t[e.index])),t[11]}function lr(i,e){const t=i[9],o=t?t.get(Xs,null):null;o&&o.handleError(e)}function On(i,e,t,o,c){for(let h=0;h<t.length;){const p=t[h++],m=t[h++],_=e[p],E=i.data[p];null!==E.setInput?E.setInput(_,c,o,m):_[m]=c}}function go(i,e,t){const o=Ii(e,i);!function Js(i,e,t){dn(i)?i.setValue(e,t):e.textContent=t}(i[11],o,t)}function xn(i,e,t){let o=t?i.styles:null,c=t?i.classes:null,h=0;if(null!==e)for(let p=0;p<e.length;p++){const m=e[p];"number"==typeof m?h=m:1==h?c=ro(c,m):2==h&&(o=ro(o,m+": "+e[++p]+";"))}t?i.styles=o:i.stylesWithoutHost=o,t?i.classes=c:i.classesWithoutHost=c}const f=new tt("INJECTOR",-1);class v{get(e,t=Cr){if(t===Cr){const o=new Error(`NullInjectorError: No provider for ${sn(e)}!`);throw o.name="NullInjectorError",o}return t}}const w=new tt("Set Injector scope."),D={},O={};let P;function U(){return void 0===P&&(P=new v),P}function le(i,e=null,t=null,o){const c=a(i,e,t,o);return c._resolveInjectorDefTypes(),c}function a(i,e=null,t=null,o){return new s(i,t,e||U(),o)}class s{constructor(e,t,o,c=null){this.parent=o,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];t&&dr(t,m=>this.processProvider(m,e,t)),dr([e],m=>this.processInjectorType(m,[],h)),this.records.set(f,b(void 0,this));const p=this.records.get(w);this.scope=null!=p?p.value:null,this.source=c||("object"==typeof e?null:sn(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Cr,o=de.Default){this.assertNotDestroyed();const c=Dr(this),h=nt(void 0);try{if(!(o&de.SkipSelf)){let m=this.records.get(e);if(void 0===m){const _=function J(i){return"function"==typeof i||"object"==typeof i&&i instanceof tt}(e)&&An(e);m=_&&this.injectableDefInScope(_)?b(l(e),D):null,this.records.set(e,m)}if(null!=m)return this.hydrate(e,m)}return(o&de.Self?U():this.parent).get(e,t=o&de.Optional&&t===Cr?null:t)}catch(p){if("NullInjectorError"===p.name){if((p[kn]=p[kn]||[]).unshift(sn(e)),c)throw p;return function Dh(i,e,t,o){const c=i[kn];throw e[Gn]&&c.unshift(e[Gn]),i.message=function Wn(i,e,t,o=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=sn(e);if(Array.isArray(e))c=e.map(sn).join(" -> ");else if("object"==typeof e){let h=[];for(let p in e)if(e.hasOwnProperty(p)){let m=e[p];h.push(p+":"+("string"==typeof m?JSON.stringify(m):sn(m)))}c=`{${h.join(", ")}}`}return`${t}${o?"("+o+")":""}[${c}]: ${i.replace(vm,"\n  ")}`}("\n"+i.message,c,t,o),i.ngTokenPath=c,i[kn]=null,i}(p,e,"R3InjectorError",this.source)}throw p}finally{nt(h),Dr(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((o,c)=>e.push(sn(c))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new yt(205,"")}processInjectorType(e,t,o){if(!(e=vt(e)))return!1;let c=L(e);const h=null==c&&e.ngModule||void 0,p=void 0===h?e:h,m=-1!==o.indexOf(p);if(void 0!==h&&(c=L(h)),null==c)return!1;if(null!=c.imports&&!m){let S;o.push(p);try{dr(c.imports,R=>{this.processInjectorType(R,t,o)&&(void 0===S&&(S=[]),S.push(R))})}finally{}if(void 0!==S)for(let R=0;R<S.length;R++){const{ngModule:F,providers:j}=S[R];dr(j,z=>this.processProvider(z,F,j||hn))}}this.injectorDefTypes.add(p);const _=me(p)||(()=>new p);this.records.set(p,b(_,D));const E=c.providers;if(null!=E&&!m){const S=e;dr(E,R=>this.processProvider(R,S,E))}return void 0!==h&&void 0!==e.providers}processProvider(e,t,o){let c=N(e=vt(e))?e:vt(e&&e.provide);const h=function g(i,e,t){return C(i)?b(void 0,i.useValue):b(function y(i,e,t){let o;if(N(i)){const c=vt(i);return me(c)||l(c)}if(C(i))o=()=>vt(i.useValue);else if(function x(i){return!(!i||!i.useFactory)}(i))o=()=>i.useFactory(...bu(i.deps||[]));else if(function T(i){return!(!i||!i.useExisting)}(i))o=()=>ue(vt(i.useExisting));else{const c=vt(i&&(i.useClass||i.provide));if(!function q(i){return!!i.deps}(i))return me(c)||l(c);o=()=>new c(...bu(i.deps))}return o}(i),D)}(e);if(N(e)||!0!==e.multi)this.records.get(c);else{let p=this.records.get(c);p||(p=b(void 0,D,!0),p.factory=()=>bu(p.multi),this.records.set(c,p)),c=e,p.multi.push(e)}this.records.set(c,h)}hydrate(e,t){return t.value===D&&(t.value=O,t.value=t.factory()),"object"==typeof t.value&&t.value&&function ee(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=vt(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function l(i){const e=An(i),t=null!==e?e.factory:me(i);if(null!==t)return t;if(i instanceof tt)throw new yt(204,"");if(i instanceof Function)return function d(i){const e=i.length;if(e>0)throw Ws(e,"?"),new yt(204,"");const t=function k(i){const e=i&&(i[H]||i[ne]);if(e){const t=function M(i){if(i.hasOwnProperty("name"))return i.name;const e=(""+i).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(i);return null!==t?()=>t.factory(i):()=>new i}(i);throw new yt(204,"")}function b(i,e,t=!1){return{factory:i,value:e,multi:t?[]:void 0}}function C(i){return null!==i&&"object"==typeof i&&lo in i}function N(i){return"function"==typeof i}let re=(()=>{class i{static create(t,o){var c;if(Array.isArray(t))return le({name:""},o,t,"");{const h=null!==(c=t.name)&&void 0!==c?c:"";return le({name:h},t.parent,t.providers,h)}}}return i.THROW_IF_NOT_FOUND=Cr,i.NULL=new v,i.\u0275prov=He({token:i,providedIn:"any",factory:()=>ue(f)}),i.__NG_ELEMENT_ID__=-1,i})();function aR(i,e){Zc(af(i)[1],tr())}function Zf(i){let e=function sC(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),t=!0;const o=[i];for(;e;){let c;if(so(i))c=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new yt(903,"");c=e.\u0275dir}if(c){if(t){o.push(c);const p=i;p.inputs=sw(i.inputs),p.declaredInputs=sw(i.declaredInputs),p.outputs=sw(i.outputs);const m=c.hostBindings;m&&hR(i,m);const _=c.viewQuery,E=c.contentQueries;if(_&&cR(i,_),E&&lR(i,E),js(i.inputs,c.inputs),js(i.declaredInputs,c.declaredInputs),js(i.outputs,c.outputs),so(c)&&c.data.animation){const S=i.data;S.animation=(S.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let p=0;p<h.length;p++){const m=h[p];m&&m.ngInherit&&m(i),m===Zf&&(t=!1)}}e=Object.getPrototypeOf(e)}!function uR(i){let e=0,t=null;for(let o=i.length-1;o>=0;o--){const c=i[o];c.hostVars=e+=c.hostVars,c.hostAttrs=nr(c.hostAttrs,t=nr(t,c.hostAttrs))}}(o)}function sw(i){return i===Vr?{}:i===hn?[]:i}function cR(i,e){const t=i.viewQuery;i.viewQuery=t?(o,c)=>{e(o,c),t(o,c)}:e}function lR(i,e){const t=i.contentQueries;i.contentQueries=t?(o,c,h)=>{e(o,c,h),t(o,c,h)}:e}function hR(i,e){const t=i.hostBindings;i.hostBindings=t?(o,c)=>{e(o,c),t(o,c)}:e}let m_=null;function ev(){if(!m_){const i=Zt.Symbol;if(i&&i.iterator)m_=i.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const o=e[t];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(m_=o)}}}return m_}function by(i){return!!aw(i)&&(Array.isArray(i)||!(i instanceof Map)&&ev()in i)}function aw(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function kl(i,e,t){return i[e]=t}function rs(i,e,t){return!Object.is(i[e],t)&&(i[e]=t,!0)}function kg(i,e,t,o){const c=ve();return rs(c,Wc(),e)&&(jt(),Ro(Nn(),c,i,e,t,o)),kg}function ko(i,e,t,o,c,h,p,m){const _=ve(),E=jt(),S=i+20,R=E.firstCreatePass?function yR(i,e,t,o,c,h,p,m,_){const E=e.consts,S=Ra(e,i,4,p||null,Ti(E,m));Ou(e,t,S,Ti(E,_)),Zc(e,S);const R=S.tViews=Cl(2,S,o,c,h,e.directiveRegistry,e.pipeRegistry,null,e.schemas,E);return null!==e.queries&&(e.queries.template(e,S),R.queries=e.queries.embeddedTView(S)),S}(S,E,_,e,t,o,c,h,p):E.data[S];gi(R,!1);const F=_[11].createComment("");zh(E,_,F,R),yi(F,_),ze(_,_[S]=sa(F,_,F,R)),oo(R)&&jf(E,_,R),null!=p&&Bf(_,R,m)}function Rs(i){return function zn(i,e){return i[e]}(function Gv(){return fe.lFrame.contextLView}(),20+i)}function Te(i,e=de.Default){const t=ve();return null===t?ue(i,e):rl(tr(),t,vt(i),e)}function __(){throw new Error("invalid")}function Fr(i,e,t){const o=ve();return rs(o,Wc(),e)&&Nr(jt(),Nn(),o,i,e,o[11],t,!1),Fr}function dw(i,e,t,o,c){const p=c?"class":"style";On(i,t,e.inputs[p],p,o)}function De(i,e,t,o){const c=ve(),h=jt(),p=20+i,m=c[11],_=c[p]=Da(m,e,function Xc(){return fe.lFrame.currentNamespace}()),E=h.firstCreatePass?function BR(i,e,t,o,c,h,p){const m=e.consts,E=Ra(e,i,2,c,Ti(m,h));return Ou(e,t,E,Ti(m,p)),null!==E.attrs&&xn(E,E.attrs,!1),null!==E.mergedAttrs&&xn(E,E.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,E),E}(p,h,c,0,e,t,o):h.data[p];gi(E,!0);const S=E.mergedAttrs;null!==S&&pa(m,_,S);const R=E.classes;null!==R&&Yh(m,_,R);const F=E.styles;null!==F&&Kh(m,_,F),64!=(64&E.flags)&&zh(h,c,_,E),0===function qs(){return fe.lFrame.elementDepthCount}()&&yi(_,c),function oh(){fe.lFrame.elementDepthCount++}(),oo(E)&&(jf(h,c,E),function es(i,e,t){if(gs(e)){const c=e.directiveEnd;for(let h=e.directiveStart;h<c;h++){const p=i.data[h];p.contentQueries&&p.contentQueries(1,t[h],h)}}}(h,E,c)),null!==o&&Bf(c,E)}function Se(){let i=tr();$r()?Md():(i=i.parent,gi(i,!1));const e=i;!function iu(){fe.lFrame.elementDepthCount--}();const t=jt();t.firstCreatePass&&(Zc(t,i),gs(i)&&t.queries.elementEnd(i)),null!=e.classesWithoutHost&&function uu(i){return 0!=(16&i.flags)}(e)&&dw(t,e,ve(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Sp(i){return 0!=(32&i.flags)}(e)&&dw(t,e,ve(),e.stylesWithoutHost,!1)}function Ir(i,e,t,o){De(i,e,t,o),Se()}function Ol(){return ve()}function b_(i){return!!i&&"function"==typeof i.then}const MC=function AC(i){return!!i&&"function"==typeof i.subscribe};function Xr(i,e,t,o){const c=ve(),h=jt(),p=tr();return RC(h,c,c[11],p,i,e,!!t,o),Xr}function w_(i,e){const t=tr(),o=ve(),c=jt();return RC(c,o,Rl(kd(c.data),t,o),t,i,e,!1),w_}function RC(i,e,t,o,c,h,p,m){const _=oo(o),S=i.firstCreatePass&&bi(i),R=e[8],F=aa(e);let j=!0;if(3&o.type||m){const ae=Mn(o,e),pe=m?m(ae):ae,oe=F.length,Ne=m?Ke=>m(rt(Ke[o.index])):o.index;if(dn(t)){let Ke=null;if(!m&&_&&(Ke=function HR(i,e,t,o){const c=i.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const p=c[h];if(p===t&&c[h+1]===o){const m=e[7],_=c[h+2];return m.length>_?m[_]:null}"string"==typeof p&&(h+=2)}return null}(i,e,c,o.index)),null!==Ke)(Ke.__ngLastListenerFn__||Ke).__ngNextListenerFn__=h,Ke.__ngLastListenerFn__=h,j=!1;else{h=fw(o,e,R,h,!1);const Bt=t.listen(pe,c,h);F.push(h,Bt),S&&S.push(c,Ne,oe,oe+1)}}else h=fw(o,e,R,h,!0),pe.addEventListener(c,h,p),F.push(h),S&&S.push(c,Ne,oe,p)}else h=fw(o,e,R,h,!1);const z=o.outputs;let X;if(j&&null!==z&&(X=z[c])){const ae=X.length;if(ae)for(let pe=0;pe<ae;pe+=2){const Lr=e[X[pe]][X[pe+1]].subscribe(h),Jr=F.length;F.push(h,Lr),S&&S.push(c,o.index,Jr,-(Jr+1))}}}function kC(i,e,t,o){try{return!1!==t(o)}catch(c){return lr(i,c),!1}}function fw(i,e,t,o,c){return function h(p){if(p===Function)return o;const m=2&i.flags?oi(i.index,e):e;0==(32&e[2])&&Ml(m);let _=kC(e,0,o,p),E=h.__ngNextListenerFn__;for(;E;)_=kC(e,0,E,p)&&_,E=E.__ngNextListenerFn__;return c&&!1===_&&(p.preventDefault(),p.returnValue=!1),_}}function xl(i=1){return function lh(i){return(fe.lFrame.contextLView=function Pd(i,e){for(;i>0;)e=e[15],i--;return e}(i,fe.lFrame.contextLView))[8]}(i)}function qR(i,e){let t=null;const o=function dg(i){const e=i.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(i);for(let c=0;c<e.length;c++){const h=e[c];if("*"!==h){if(null===o?Hm(i,h,!0):Qh(o,h))return c}else t=c}return t}function Ey(i){const e=ve()[16][6];if(!e.projection){const o=e.projection=Ws(i?i.length:1,null),c=o.slice();let h=e.child;for(;null!==h;){const p=i?qR(h,i):0;null!==p&&(c[p]?c[p].projectionNext=h:o[p]=h,c[p]=h),h=h.next}}}function Jf(i,e=0,t){const o=ve(),c=jt(),h=Ra(c,20+i,16,null,t||null);null===h.projection&&(h.projection=e),Md(),64!=(64&h.flags)&&function Cf(i,e,t){Ia(e[11],0,e,t,Uh(i,t,e),ag(t.parent||e[6],t,e))}(c,o,h)}function UC(i,e,t,o,c){const h=i[t+1],p=null===e;let m=o?po(h):Mo(h),_=!1;for(;0!==m&&(!1===_||p);){const S=i[m+1];GR(i[m],e)&&(_=!0,i[m+1]=o?Xh(S):bl(S)),m=o?po(S):Mo(S)}_&&(i[t+1]=o?bl(h):Xh(h))}function GR(i,e){return null===i||null==e||(Array.isArray(i)?i[1]:i)===e||!(!Array.isArray(i)||"string"!=typeof e)&&ul(i,e)>=0}function ep(i,e){return function Mc(i,e,t,o){const c=ve(),h=jt(),p=function fa(i){const e=fe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+i,t}(2);h.firstUpdatePass&&function QC(i,e,t,o){const c=i.data;if(null===c[t+1]){const h=c[si()],p=function YC(i,e){return e>=i.expandoStartIndex}(i,t);(function eD(i,e){return 0!=(i.flags&(e?16:32))})(h,o)&&null===e&&!p&&(e=!1),e=function tk(i,e,t,o){const c=kd(i);let h=o?e.residualClasses:e.residualStyles;if(null===c)0===(o?e.classBindings:e.styleBindings)&&(t=Cy(t=gw(null,i,e,t,o),e.attrs,o),h=null);else{const p=e.directiveStylingLast;if(-1===p||i[p]!==c)if(t=gw(c,i,e,t,o),null===h){let _=function nk(i,e,t){const o=t?e.classBindings:e.styleBindings;if(0!==Mo(o))return i[po(o)]}(i,e,o);void 0!==_&&Array.isArray(_)&&(_=gw(null,i,e,_[1],o),_=Cy(_,e.attrs,o),function rk(i,e,t,o){i[po(t?e.classBindings:e.styleBindings)]=o}(i,e,o,_))}else h=function ik(i,e,t){let o;const c=e.directiveEnd;for(let h=1+e.directiveStylingLast;h<c;h++)o=Cy(o,i[h].hostAttrs,t);return Cy(o,e.attrs,t)}(i,e,o)}return void 0!==h&&(o?e.residualClasses=h:e.residualStyles=h),t}(c,h,e,o),function zR(i,e,t,o,c,h){let p=h?e.classBindings:e.styleBindings,m=po(p),_=Mo(p);i[o]=t;let S,E=!1;if(Array.isArray(t)){const R=t;S=R[1],(null===S||ul(R,S)>0)&&(E=!0)}else S=t;if(c)if(0!==_){const F=po(i[m+1]);i[o+1]=Af(F,m),0!==F&&(i[F+1]=wc(i[F+1],o)),i[m+1]=function $m(i,e){return 131071&i|e<<17}(i[m+1],o)}else i[o+1]=Af(m,0),0!==m&&(i[m+1]=wc(i[m+1],o)),m=o;else i[o+1]=Af(_,0),0===m?m=o:i[_+1]=wc(i[_+1],o),_=o;E&&(i[o+1]=bl(i[o+1])),UC(i,S,o,!0),UC(i,S,o,!1),function $R(i,e,t,o,c){const h=c?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof e&&ul(h,e)>=0&&(t[o+1]=Xh(t[o+1]))}(e,S,i,o,h),p=Af(m,_),h?e.classBindings=p:e.styleBindings=p}(c,h,e,t,p,o)}}(h,i,p,o),e!==mt&&rs(c,p,e)&&function ZC(i,e,t,o,c,h,p,m){if(!(3&e.type))return;const _=i.data,E=_[m+1];E_(function Rf(i){return 1==(1&i)}(E)?JC(_,e,t,c,Mo(E),p):void 0)||(E_(h)||function Mf(i){return 2==(2&i)}(E)&&(h=JC(_,null,t,c,m,p)),function Df(i,e,t,o,c){const h=dn(i);if(e)c?h?i.addClass(t,o):t.classList.add(o):h?i.removeClass(t,o):t.classList.remove(o);else{let p=-1===o.indexOf("-")?void 0:ci.DashCase;if(null==c)h?i.removeStyle(t,o,p):t.style.removeProperty(o);else{const m="string"==typeof c&&c.endsWith("!important");m&&(c=c.slice(0,-10),p|=ci.Important),h?i.setStyle(t,o,c,p):t.style.setProperty(o,c,m?"important":"")}}}(o,p,Ii(si(),t),c,h))}(h,h.data[si()],c,c[11],i,c[p+1]=function ak(i,e){return null==i||("string"==typeof e?i+=e:"object"==typeof i&&(i=sn(ho(i)))),i}(e,t),o,p)}(i,e,null,!0),ep}function gw(i,e,t,o,c){let h=null;const p=t.directiveEnd;let m=t.directiveStylingLast;for(-1===m?m=t.directiveStart:m++;m<p&&(h=e[m],o=Cy(o,h.hostAttrs,c),h!==i);)m++;return null!==i&&(t.directiveStylingLast=m),o}function Cy(i,e,t){const o=t?1:2;let c=-1;if(null!==e)for(let h=0;h<e.length;h++){const p=e[h];"number"==typeof p?c=p:c===o&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),co(i,p,!!t||e[++h]))}return void 0===i?null:i}function JC(i,e,t,o,c,h){const p=null===e;let m;for(;c>0;){const _=i[c],E=Array.isArray(_),S=E?_[1]:_,R=null===S;let F=t[c+1];F===mt&&(F=R?hn:void 0);let j=R?Op(F,o):S===o?F:void 0;if(E&&!E_(j)&&(j=Op(_,o)),E_(j)&&(m=j,p))return m;const z=i[c+1];c=p?po(z):Mo(z)}if(null!==e){let _=h?e.residualClasses:e.residualStyles;null!=_&&(m=Op(_,o))}return m}function E_(i){return void 0!==i}function Ct(i,e=""){const t=ve(),o=jt(),c=i+20,h=o.firstCreatePass?Ra(o,c,1,e,null):o.data[c],p=t[c]=function Tu(i,e){return dn(i)?i.createText(e):i.createTextNode(e)}(t[11],e);zh(o,t,p,h),gi(h,!1)}function Og(i){return Fl("",i,""),Og}function Fl(i,e,t){const o=ve(),c=function nv(i,e,t,o){return rs(i,Wc(),t)?e+ct(t)+o:mt}(o,i,e,t);return c!==mt&&go(o,si(),c),Fl}function mw(i,e,t){const o=ve();return rs(o,Wc(),e)&&Nr(jt(),Nn(),o,i,e,o[11],t,!0),mw}function C_(i,e,t){const o=ve();if(rs(o,Wc(),e)){const h=jt(),p=Nn();Nr(h,p,o,i,e,Rl(kd(h.data),p,o),t,!0)}return C_}const xg=void 0;var Tk=["en",[["a","p"],["AM","PM"],xg],[["AM","PM"],xg,xg],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xg,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xg,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xg,"{1} 'at' {0}",xg],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ik(i){const t=Math.floor(Math.abs(i)),o=i.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===o?1:5}];let dv={};function _D(i){return i in dv||(dv[i]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[i]),dv[i]}var qe=(()=>((qe=qe||{})[qe.LocaleId=0]="LocaleId",qe[qe.DayPeriodsFormat=1]="DayPeriodsFormat",qe[qe.DayPeriodsStandalone=2]="DayPeriodsStandalone",qe[qe.DaysFormat=3]="DaysFormat",qe[qe.DaysStandalone=4]="DaysStandalone",qe[qe.MonthsFormat=5]="MonthsFormat",qe[qe.MonthsStandalone=6]="MonthsStandalone",qe[qe.Eras=7]="Eras",qe[qe.FirstDayOfWeek=8]="FirstDayOfWeek",qe[qe.WeekendRange=9]="WeekendRange",qe[qe.DateFormat=10]="DateFormat",qe[qe.TimeFormat=11]="TimeFormat",qe[qe.DateTimeFormat=12]="DateTimeFormat",qe[qe.NumberSymbols=13]="NumberSymbols",qe[qe.NumberFormats=14]="NumberFormats",qe[qe.CurrencyCode=15]="CurrencyCode",qe[qe.CurrencySymbol=16]="CurrencySymbol",qe[qe.CurrencyName=17]="CurrencyName",qe[qe.Currencies=18]="Currencies",qe[qe.Directionality=19]="Directionality",qe[qe.PluralCase=20]="PluralCase",qe[qe.ExtraData=21]="ExtraData",qe))();const D_="en-US";let bD=D_;class $D{}class RO{resolveComponentFactory(e){throw function MO(i){const e=Error(`No component factory found for ${sn(i)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=i,e}(e)}}let tp=(()=>{class i{}return i.NULL=new RO,i})();function kO(){return pv(tr(),ve())}function pv(i,e){return new is(Mn(i,e))}let is=(()=>{class i{constructor(t){this.nativeElement=t}}return i.__NG_ELEMENT_ID__=kO,i})();function OO(i){return i instanceof is?i.nativeElement:i}class Ay{}let M_=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function PO(){const i=ve(),t=oi(tr().index,i);return function xO(i){return i[11]}(zo(t)?t:i)}(),i})(),NO=(()=>{class i{}return i.\u0275prov=He({token:i,providedIn:"root",factory:()=>null}),i})();class gv{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const FO=new gv("13.1.3"),Cw={};function R_(i,e,t,o,c=!1){for(;null!==t;){const h=e[t.index];if(null!==h&&o.push(rt(h)),qr(h))for(let m=10;m<h.length;m++){const _=h[m],E=_[1].firstChild;null!==E&&R_(_[1],_,E,o)}const p=t.type;if(8&p)R_(i,e,t.child,o);else if(32&p){const m=Iu(t,e);let _;for(;_=m();)o.push(_)}else if(16&p){const m=cg(e,t);if(Array.isArray(m))o.push(...m);else{const _=Zs(e[16]);R_(_[1],_,m,o,!0)}}t=c?t.projectionNext:t.next}return o}class My{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return R_(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(qr(e)){const t=e[8],o=t?t.indexOf(this):-1;o>-1&&(og(e,o),yu(t,o))}this._attachedToViewContainer=!1}jm(this._lView[1],this._lView)}onDestroy(e){Uf(this._lView[1],this._lView,null,e)}markForCheck(){Ml(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ns(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Qf(i,e,t){da(!0);try{ns(i,e,t)}finally{da(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new yt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Bh(i,e){Sa(i,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new yt(902,"");this._appRef=e}}class LO extends My{constructor(e){super(e),this._view=e}detectChanges(){Ag(this._view)}checkNoChanges(){!function vy(i){da(!0);try{Ag(i)}finally{da(!1)}}(this._view)}get context(){return null}}class WD extends tp{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=_r(e);return new Dw(t,this.ngModule)}}function KD(i){const e=[];for(let t in i)i.hasOwnProperty(t)&&e.push({propName:i[t],templateName:t});return e}const BO=new tt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>vl});class Dw extends $D{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function zm(i){return i.map(pg).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return KD(this.componentDef.inputs)}get outputs(){return KD(this.componentDef.outputs)}create(e,t,o,c){const h=(c=c||this.ngModule)?function VO(i,e){return{get:(t,o,c)=>{const h=i.get(t,Cw,c);return h!==Cw||o===Cw?h:e.get(t,o,c)}}}(e,c.injector):e,p=h.get(Ay,Id),m=h.get(NO,null),_=p.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",S=o?function Vf(i,e,t){if(dn(i))return i.selectRootElement(e,t===vr.ShadowDom);let o="string"==typeof e?i.querySelector(e):e;return o.textContent="",o}(_,o,this.componentDef.encapsulation):Da(p.createRenderer(null,this.componentDef),E,function jO(i){const e=i.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(E)),R=this.componentDef.onPush?576:528,F=function oC(i,e){return{components:[],scheduler:i||vl,clean:Pa,playerHandler:e||null,flags:0}}(),j=Cl(0,null,null,1,0,null,null,null,null,null),z=El(null,j,F,R,null,null,p,_,m,h);let X,ae;Qc(z);try{const pe=function rC(i,e,t,o,c,h){const p=t[1];t[20]=i;const _=Ra(p,20,2,"#host",null),E=_.mergedAttrs=e.hostAttrs;null!==E&&(xn(_,E,!0),null!==i&&(pa(c,i,E),null!==_.classes&&Yh(c,i,_.classes),null!==_.styles&&Kh(c,i,_.styles)));const S=o.createRenderer(i,e),R=El(t,od(e),null,e.onPush?64:16,t[20],_,o,S,h||null,null);return p.firstCreatePass&&(vh(Zn(_,t),p,e.type),ad(p,_),Ig(_,t.length,1)),ze(t,R),t[20]=R}(S,this.componentDef,z,p,_);if(S)if(o)pa(_,S,["ng-version",FO.full]);else{const{attrs:oe,classes:Ne}=function dy(i){const e=[],t=[];let o=1,c=2;for(;o<i.length;){let h=i[o];if("string"==typeof h)2===c?""!==h&&e.push(h,i[++o]):8===c&&t.push(h);else{if(!fo(c))break;c=h}o++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);oe&&pa(_,S,oe),Ne&&Ne.length>0&&Yh(_,S,Ne.join(" "))}if(ae=uo(j,20),void 0!==t){const oe=ae.projection=[];for(let Ne=0;Ne<this.ngContentSelectors.length;Ne++){const Ke=t[Ne];oe.push(null!=Ke?Array.from(Ke):null)}}X=function iC(i,e,t,o,c){const h=t[1],p=function ts(i,e,t){const o=tr();i.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),Tg(i,o,e,Jo(i,e,1,null),t));const c=rr(e,i,o.directiveStart,o);yi(c,e);const h=Mn(o,e);return h&&yi(h,e),c}(h,t,e);if(o.components.push(p),i[8]=p,c&&c.forEach(_=>_(p,e)),e.contentQueries){const _=tr();e.contentQueries(1,p,_.directiveStart)}const m=tr();return!h.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Do(m.index),sd(t[1],m,0,m.directiveStart,m.directiveEnd,e),zf(e,p)),p}(pe,this.componentDef,z,F,[aR]),ka(j,z,null)}finally{ou()}return new HO(this.componentType,X,pv(ae,z),z,ae)}}class HO extends class AO{}{constructor(e,t,o,c,h){super(),this.location=o,this._rootLView=c,this._tNode=h,this.instance=t,this.hostView=this.changeDetectorRef=new LO(c),this.componentType=e}get injector(){return new mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class ld{}class YD{}const mv=new Map;class ZD extends ld{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new WD(this);const o=Ui(e);this._bootstrapComponents=Ss(o.bootstrap),this._r3Injector=a(e,t,[{provide:ld,useValue:this},{provide:tp,useValue:this.componentFactoryResolver}],sn(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=re.THROW_IF_NOT_FOUND,o=de.Default){return e===re||e===ld||e===f?this:this._r3Injector.get(e,t,o)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Sw extends YD{constructor(e){super(),this.moduleType=e,null!==Ui(e)&&function zO(i){const e=new Set;!function t(o){const c=Ui(o,!0),h=c.id;null!==h&&(function QD(i,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${i} - ${sn(e)} vs ${sn(e.name)}`)}(h,mv.get(h),o),mv.set(h,o));const p=Ss(c.imports);for(const m of p)e.has(m)||(e.add(m),t(m))}(i)}(e)}create(e){return new ZD(this.moduleType,e)}}function Iw(i,e,t,o){return function eS(i,e,t,o,c,h){const p=e+t;return rs(i,p,c)?kl(i,p+1,h?o.call(h,c):o(c)):Ry(i,p+1)}(ve(),Gr(),i,e,t,o)}function JD(i,e,t,o,c){return function tS(i,e,t,o,c,h,p){const m=e+t;return function Rg(i,e,t,o){const c=rs(i,e,t);return rs(i,e+1,o)||c}(i,m,c,h)?kl(i,m+2,p?o.call(p,c,h):o(c,h)):Ry(i,m+2)}(ve(),Gr(),i,e,t,o,c)}function Ry(i,e){const t=i[e];return t===mt?void 0:t}function Tw(i){return e=>{setTimeout(i,void 0,e)}}const Zi=class sx extends We{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,o){var c,h,p;let m=e,_=t||(()=>null),E=o;if(e&&"object"==typeof e){const R=e;m=null===(c=R.next)||void 0===c?void 0:c.bind(R),_=null===(h=R.error)||void 0===h?void 0:h.bind(R),E=null===(p=R.complete)||void 0===p?void 0:p.bind(R)}this.__isAsync&&(_=Tw(_),m&&(m=Tw(m)),E&&(E=Tw(E)));const S=super.subscribe({next:m,error:_,complete:E});return e instanceof Tt&&e.add(S),S}};function ax(){return this._results[ev()]()}class Aw{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ev(),o=Aw.prototype;o[t]||(o[t]=ax)}get changes(){return this._changes||(this._changes=new Zi)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const o=this;o.dirty=!1;const c=ai(e);(this._changesDetected=!function _h(i,e,t){if(i.length!==e.length)return!1;for(let o=0;o<i.length;o++){let c=i[o],h=e[o];if(t&&(c=t(c),h=t(h)),h!==c)return!1}return!0}(o._results,c,t))&&(o._results=c,o.length=c.length,o.last=c[this.length-1],o.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let kc=(()=>{class i{}return i.__NG_ELEMENT_ID__=lx,i})();const ux=kc,cx=class extends ux{constructor(e,t,o){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=o}createEmbeddedView(e){const t=this._declarationTContainer.tViews,o=El(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(o[19]=h.createEmbeddedView(t)),ka(t,o,e),new My(o)}};function lx(){return k_(tr(),ve())}function k_(i,e){return 4&i.type?new cx(e,i,pv(i,e)):null}let Pu=(()=>{class i{}return i.__NG_ELEMENT_ID__=hx,i})();function hx(){return aS(tr(),ve())}const dx=Pu,oS=class extends dx{constructor(e,t,o){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=o}get element(){return pv(this._hostTNode,this._hostLView)}get injector(){return new mi(this._hostTNode,this._hostLView)}get parentInjector(){const e=bs(this._hostTNode,this._hostLView);if(ac(e)){const t=lu(e,this._hostLView),o=nl(e);return new mi(t[1].data[o+8],t)}return new mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=sS(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,o){const c=e.createEmbeddedView(t||{});return this.insert(c,o),c}createComponent(e,t,o,c,h){const p=e&&!function Wi(i){return"function"==typeof i}(e);let m;if(p)m=t;else{const R=t||{};m=R.index,o=R.injector,c=R.projectableNodes,h=R.ngModuleRef}const _=p?e:new Dw(_r(e)),E=o||this.parentInjector;if(!h&&null==_.ngModule&&E){const R=E.get(ld,null);R&&(h=R)}const S=_.create(E,c,void 0,h);return this.insert(S.hostView,m),S}insert(e,t){const o=e._lView,c=o[1];if(function rc(i){return qr(i[3])}(o)){const S=this.indexOf(e);if(-1!==S)this.detach(S);else{const R=o[3],F=new oS(R,R[6],R[3]);F.detach(F.indexOf(e))}}const h=this._adjustIndex(t),p=this._lContainer;!function uy(i,e,t,o){const c=10+o,h=t.length;o>0&&(t[c-1][4]=e),o<h-10?(e[4]=t[c],ol(t,10+o,e)):(t.push(e),e[4]=null),e[3]=t;const p=e[17];null!==p&&t!==p&&function mf(i,e){const t=i[9];e[16]!==e[3][3][16]&&(i[2]=!0),null===t?i[9]=[e]:t.push(e)}(p,e);const m=e[19];null!==m&&m.insertView(i),e[2]|=128}(c,o,p,h);const m=Gh(h,p),_=o[11],E=_f(_,p[7]);return null!==E&&function gf(i,e,t,o,c,h){o[0]=c,o[6]=e,Sa(i,o,t,1,c,h)}(c,p[6],_,o,E,m),e.attachToViewContainerRef(),ol(Mw(p),h,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=sS(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),o=og(this._lContainer,t);o&&(yu(Mw(this._lContainer),t),jm(o[1],o))}detach(e){const t=this._adjustIndex(e,-1),o=og(this._lContainer,t);return o&&null!=yu(Mw(this._lContainer),t)?new My(o):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function sS(i){return i[8]}function Mw(i){return i[8]||(i[8]=[])}function aS(i,e){let t;const o=e[i.index];if(qr(o))t=o;else{let c;if(8&i.type)c=rt(o);else{const h=e[11];c=h.createComment("");const p=Mn(i,e);Au(h,_f(h,p),c,function bf(i,e){return dn(i)?i.nextSibling(e):e.nextSibling}(h,p),!1)}e[i.index]=t=sa(o,e,c,i),ze(e,t)}return new oS(t,i,e)}class Rw{constructor(e){this.queryList=e,this.matches=null}clone(){return new Rw(this.queryList)}setDirty(){this.queryList.setDirty()}}class kw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const o=null!==e.contentQueries?e.contentQueries[0]:t.length,c=[];for(let h=0;h<o;h++){const p=t.getByIndex(h);c.push(this.queries[p.indexInDeclarationView].clone())}return new kw(c)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==dS(e,t).matches&&this.queries[t].setDirty()}}class uS{constructor(e,t,o=null){this.predicate=e,this.flags=t,this.read=o}}class Ow{constructor(e=[]){this.queries=e}elementStart(e,t){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let o=0;o<this.length;o++){const c=null!==t?t.length:0,h=this.getByIndex(o).embeddedTView(e,c);h&&(h.indexInDeclarationView=o,null!==t?t.push(h):t=[h])}return null!==t?new Ow(t):null}template(e,t){for(let o=0;o<this.queries.length;o++)this.queries[o].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class xw{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new xw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let o=e.parent;for(;null!==o&&8&o.type&&o.index!==t;)o=o.parent;return t===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const o=this.metadata.predicate;if(Array.isArray(o))for(let c=0;c<o.length;c++){const h=o[c];this.matchTNodeWithReadOption(e,t,gx(t,h)),this.matchTNodeWithReadOption(e,t,fu(t,e,h,!1,!1))}else o===kc?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,fu(t,e,o,!1,!1))}matchTNodeWithReadOption(e,t,o){if(null!==o){const c=this.metadata.read;if(null!==c)if(c===is||c===Pu||c===kc&&4&t.type)this.addMatch(t.index,-2);else{const h=fu(t,e,c,!1,!1);null!==h&&this.addMatch(t.index,h)}else this.addMatch(t.index,o)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function gx(i,e){const t=i.localNames;if(null!==t)for(let o=0;o<t.length;o+=2)if(t[o]===e)return t[o+1];return null}function vx(i,e,t,o){return-1===t?function mx(i,e){return 11&i.type?pv(i,e):4&i.type?k_(i,e):null}(e,i):-2===t?function yx(i,e,t){return t===is?pv(e,i):t===kc?k_(e,i):t===Pu?aS(e,i):void 0}(i,e,o):rr(i,i[1],t,e)}function cS(i,e,t,o){const c=e[19].queries[o];if(null===c.matches){const h=i.data,p=t.matches,m=[];for(let _=0;_<p.length;_+=2){const E=p[_];m.push(E<0?null:vx(e,h[E],p[_+1],t.metadata.read))}c.matches=m}return c.matches}function Pw(i,e,t,o){const c=i.queries.getByIndex(t),h=c.matches;if(null!==h){const p=cS(i,e,c,t);for(let m=0;m<h.length;m+=2){const _=h[m];if(_>0)o.push(p[m/2]);else{const E=h[m+1],S=e[-_];for(let R=10;R<S.length;R++){const F=S[R];F[17]===F[3]&&Pw(F[1],F,E,o)}if(null!==S[9]){const R=S[9];for(let F=0;F<R.length;F++){const j=R[F];Pw(j[1],j,E,o)}}}}}return o}function vv(i){const e=ve(),t=jt(),o=Kc();Yc(o+1);const c=dS(t,o);if(i.dirty&&Td(e)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const h=c.crossesNgTemplate?Pw(t,e,o,[]):cS(t,e,c,o);i.reset(h,OO),i.notifyOnChanges()}return!0}return!1}function O_(i,e,t){const o=jt();o.firstCreatePass&&(function hS(i,e,t){null===i.queries&&(i.queries=new Ow),i.queries.track(new xw(e,t))}(o,new uS(i,e,t),-1),2==(2&e)&&(o.staticViewQueries=!0)),function lS(i,e,t){const o=new Aw(4==(4&t));Uf(i,e,o,o.destroy),null===e[19]&&(e[19]=new kw),e[19].queries.push(new Rw(o))}(o,ve(),e)}function yv(){return function _x(i,e){return i[19].queries[e].queryList}(ve(),Kc())}function dS(i,e){return i.queries.getByIndex(e)}function N_(...i){}const F_=new tt("Application Initializer");let bv=(()=>{class i{constructor(t){this.appInits=t,this.resolve=N_,this.reject=N_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,c)=>{this.resolve=o,this.reject=c})}runInitializers(){if(this.initialized)return;const t=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(b_(h))t.push(h);else if(MC(h)){const p=new Promise((m,_)=>{h.subscribe({complete:m,error:_})});t.push(p)}}Promise.all(t).then(()=>{o()}).catch(c=>{this.reject(c)}),0===t.length&&o(),this.initialized=!0}}return i.\u0275fac=function(t){return new(t||i)(ue(F_,8))},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})();const xy=new tt("AppId"),Bx={provide:xy,useFactory:function jx(){return`${Uw()}${Uw()}${Uw()}`},deps:[]};function Uw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const MS=new tt("Platform Initializer"),L_=new tt("Platform ID"),RS=new tt("appBootstrapListener");let kS=(()=>{class i{log(t){console.log(t)}warn(t){console.warn(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})();const hd=new tt("LocaleId"),OS=new tt("DefaultCurrencyCode");class Vx{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let j_=(()=>{class i{compileModuleSync(t){return new Sw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const o=this.compileModuleSync(t),h=Ss(Ui(t).declarations).reduce((p,m)=>{const _=_r(m);return _&&p.push(new Dw(_)),p},[]);return new Vx(o,h)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})();const Hx=(()=>Promise.resolve(0))();function Hw(i){"undefined"==typeof Zone?Hx.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Pn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zi(!1),this.onMicrotaskEmpty=new Zi(!1),this.onStable=new Zi(!1),this.onError=new Zi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!o&&t,c.shouldCoalesceRunChangeDetection=o,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function qx(){let i=Zt.requestAnimationFrame,e=Zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&e){const t=i[Zone.__symbol__("OriginalDelegate")];t&&(i=t);const o=e[Zone.__symbol__("OriginalDelegate")];o&&(e=o)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Gx(i){const e=()=>{!function $x(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Zt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,zw(i),i.isCheckStableRunning=!0,qw(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),zw(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,o,c,h,p,m)=>{try{return xS(i),t.invokeTask(c,h,p,m)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&e(),PS(i)}},onInvoke:(t,o,c,h,p,m,_)=>{try{return xS(i),t.invoke(c,h,p,m,_)}finally{i.shouldCoalesceRunChangeDetection&&e(),PS(i)}},onHasTask:(t,o,c,h)=>{t.hasTask(c,h),o===c&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,zw(i),qw(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(t,o,c,h)=>(t.handleError(c,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Pn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,o){return this._inner.run(e,t,o)}runTask(e,t,o,c){const h=this._inner,p=h.scheduleEventTask("NgZoneEvent: "+c,e,zx,N_,N_);try{return h.runTask(p,t,o)}finally{h.cancelTask(p)}}runGuarded(e,t,o){return this._inner.runGuarded(e,t,o)}runOutsideAngular(e){return this._outer.run(e)}}const zx={};function qw(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function zw(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function xS(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function PS(i){i._nesting--,qw(i)}class Wx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zi,this.onMicrotaskEmpty=new Zi,this.onStable=new Zi,this.onError=new Zi}run(e,t,o){return e.apply(t,o)}runGuarded(e,t,o){return e.apply(t,o)}runOutsideAngular(e){return e()}runTask(e,t,o,c){return e.apply(t,o)}}let $w=(()=>{class i{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pn.assertNotInAngularZone(),Hw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Hw(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(t)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,o,c){let h=-1;o&&o>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==h),t(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:t,timeoutId:h,updateCb:c})}whenStable(t,o,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,o,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,o,c){return[]}}return i.\u0275fac=function(t){return new(t||i)(ue(Pn))},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})(),NS=(()=>{class i{constructor(){this._applications=new Map,Gw.addToWindow(this)}registerApplication(t,o){this._applications.set(t,o)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,o=!0){return Gw.findTestabilityInTree(this,t,o)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})();class Kx{addToWindow(e){}findTestabilityInTree(e,t,o){return null}}let Oc,Gw=new Kx;const FS=new tt("AllowMultipleToken");class LS{constructor(e,t){this.name=e,this.token=t}}function jS(i,e,t=[]){const o=`Platform: ${e}`,c=new tt(o);return(h=[])=>{let p=BS();if(!p||p.injector.get(FS,!1))if(i)i(t.concat(h).concat({provide:c,useValue:!0}));else{const m=t.concat(h).concat({provide:c,useValue:!0},{provide:w,useValue:"platform"});!function Zx(i){if(Oc&&!Oc.destroyed&&!Oc.injector.get(FS,!1))throw new yt(400,"");Oc=i.get(VS);const e=i.get(MS,null);e&&e.forEach(t=>t())}(re.create({providers:m,name:o}))}return function Jx(i){const e=BS();if(!e)throw new yt(401,"");return e}()}}function BS(){return Oc&&!Oc.destroyed?Oc:null}let VS=(()=>{class i{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,o){const m=function eP(i,e){let t;return t="noop"===i?new Wx:("zone.js"===i?void 0:i)||new Pn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(o?o.ngZone:void 0,{ngZoneEventCoalescing:o&&o.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:o&&o.ngZoneRunCoalescing||!1}),_=[{provide:Pn,useValue:m}];return m.run(()=>{const E=re.create({providers:_,parent:this.injector,name:t.moduleType.name}),S=t.create(E),R=S.injector.get(Xs,null);if(!R)throw new yt(402,"");return m.runOutsideAngular(()=>{const F=m.onError.subscribe({next:j=>{R.handleError(j)}});S.onDestroy(()=>{Ww(this._modules,S),F.unsubscribe()})}),function tP(i,e,t){try{const o=t();return b_(o)?o.catch(c=>{throw e.runOutsideAngular(()=>i.handleError(c)),c}):o}catch(o){throw e.runOutsideAngular(()=>i.handleError(o)),o}}(R,m,()=>{const F=S.injector.get(bv);return F.runInitializers(),F.donePromise.then(()=>(function Ok(i){ot(i,"Expected localeId to be defined"),"string"==typeof i&&(bD=i.toLowerCase().replace(/_/g,"-"))}(S.injector.get(hd,D_)||D_),this._moduleDoBootstrap(S),S))})})}bootstrapModule(t,o=[]){const c=US({},o);return function Qx(i,e,t){const o=new Sw(t);return Promise.resolve(o)}(0,0,t).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(t){const o=t.injector.get(wv);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(c=>o.bootstrap(c));else{if(!t.instance.ngDoBootstrap)throw new yt(403,"");t.instance.ngDoBootstrap(o)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new yt(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(t){return new(t||i)(ue(re))},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})();function US(i,e){return Array.isArray(e)?e.reduce(US,i):Object.assign(Object.assign({},i),e)}let wv=(()=>{class i{constructor(t,o,c,h,p){this._zone=t,this._injector=o,this._exceptionHandler=c,this._componentFactoryResolver=h,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new he(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),_=new he(E=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Pn.assertNotInAngularZone(),Hw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{Pn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{S.unsubscribe(),R.unsubscribe()}});this.isStable=Qa(m,_.pipe(Gl()))}bootstrap(t,o){if(!this._initStatus.done)throw new yt(405,"");let c;c=t instanceof $D?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(c.componentType);const h=function Xx(i){return i.isBoundToModule}(c)?void 0:this._injector.get(ld),m=c.create(re.NULL,[],o||c.selector,h),_=m.location.nativeElement,E=m.injector.get($w,null),S=E&&m.injector.get(NS);return E&&S&&S.registerApplication(_,E),m.onDestroy(()=>{this.detachView(m.hostView),Ww(this.components,m),S&&S.unregisterApplication(_)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new yt(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const o=t;this._views.push(o),o.attachToAppRef(this)}detachView(t){const o=t;Ww(this._views,o),o.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(RS,[]).concat(this._bootstrapListeners).forEach(c=>c(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(t){return new(t||i)(ue(Pn),ue(re),ue(Xs),ue(tp),ue(bv))},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})();function Ww(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}let qS=!0,Py=(()=>{class i{}return i.__NG_ELEMENT_ID__=iP,i})();function iP(i){return function oP(i,e,t){if(nu(i)&&!t){const o=oi(i.index,e);return new My(o,o)}return 47&i.type?new My(e[16],e):null}(tr(),ve(),16==(16&i))}class QS{constructor(){}supports(e){return by(e)}create(e){return new hP(e)}}const lP=(i,e)=>e;class hP{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||lP}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,o=this._removalsHead,c=0,h=null;for(;t||o;){const p=!o||t&&t.currentIndex<ZS(o,c,h)?t:o,m=ZS(p,c,h),_=p.currentIndex;if(p===o)c--,o=o._nextRemoved;else if(t=t._next,null==p.previousIndex)c++;else{h||(h=[]);const E=m-c,S=_-c;if(E!=S){for(let F=0;F<E;F++){const j=F<h.length?h[F]:h[F]=0,z=j+F;S<=z&&z<E&&(h[F]=j+1)}h[p.previousIndex]=S-E}}m!==_&&e(p,m,_)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!by(e))throw new yt(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let c,h,p,t=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let m=0;m<this.length;m++)h=e[m],p=this._trackByFn(m,h),null!==t&&Object.is(t.trackById,p)?(o&&(t=this._verifyReinsertion(t,h,p,m)),Object.is(t.item,h)||this._addIdentityChange(t,h)):(t=this._mismatch(t,h,p,m),o=!0),t=t._next}else c=0,function vR(i,e){if(Array.isArray(i))for(let t=0;t<i.length;t++)e(i[t]);else{const t=i[ev()]();let o;for(;!(o=t.next()).done;)e(o.value)}}(e,m=>{p=this._trackByFn(c,m),null!==t&&Object.is(t.trackById,p)?(o&&(t=this._verifyReinsertion(t,m,p,c)),Object.is(t.item,m)||this._addIdentityChange(t,m)):(t=this._mismatch(t,m,p,c),o=!0),t=t._next,c++}),this.length=c;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,o,c){let h;return null===e?h=this._itTail:(h=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,h,c)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(o,c))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,h,c)):e=this._addAfter(new dP(t,o),h,c),e}_verifyReinsertion(e,t,o,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==h?e=this._reinsertAfter(h,e._prev,c):e.currentIndex!=c&&(e.currentIndex=c,this._addToMoves(e,c)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const c=e._prevRemoved,h=e._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(e,t,o),this._addToMoves(e,o),e}_moveAfter(e,t,o){return this._unlink(e),this._insertAfter(e,t,o),this._addToMoves(e,o),e}_addAfter(e,t,o){return this._insertAfter(e,t,o),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,o){const c=null===t?this._itHead:t._next;return e._next=c,e._prev=t,null===c?this._itTail=e:c._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new XS),this._linkedRecords.put(e),e.currentIndex=o,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,o=e._next;return null===t?this._itHead=o:t._next=o,null===o?this._itTail=t:o._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new XS),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class dP{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fP{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===t||t<=o.currentIndex)&&Object.is(o.trackById,e))return o;return null}remove(e){const t=e._prevDup,o=e._nextDup;return null===t?this._head=o:t._nextDup=o,null===o?this._tail=t:o._prevDup=t,null===this._head}}class XS{constructor(){this.map=new Map}put(e){const t=e.trackById;let o=this.map.get(t);o||(o=new fP,this.map.set(t,o)),o.add(e)}get(e,t){const c=this.map.get(e);return c?c.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ZS(i,e,t){const o=i.previousIndex;if(null===o)return o;let c=0;return t&&o<t.length&&(c=t[o]),o+e+c}class JS{constructor(){}supports(e){return e instanceof Map||aw(e)}create(){return new pP}}class pP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||aw(e)))throw new yt(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(o,c)=>{if(t&&t.key===c)this._maybeAddToChanges(t,o),this._appendAfter=t,t=t._next;else{const h=this._getOrCreateRecordForKey(c,o);t=this._insertBeforeOrAppend(t,h)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let o=t;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const o=e._prev;return t._next=e,t._prev=o,e._prev=t,o&&(o._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const c=this._records.get(e);this._maybeAddToChanges(c,t);const h=c._prev,p=c._next;return h&&(h._next=p),p&&(p._prev=h),c._next=null,c._prev=null,c}const o=new gP(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(o=>t(e[o],o))}}class gP{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eI(){return new Ny([new QS])}let Ny=(()=>{class i{constructor(t){this.factories=t}static create(t,o){if(null!=o){const c=o.factories.slice();t=t.concat(c)}return new i(t)}static extend(t){return{provide:i,useFactory:o=>i.create(t,o||eI()),deps:[[i,new lc,new ir]]}}find(t){const o=this.factories.find(c=>c.supports(t));if(null!=o)return o;throw new yt(901,"")}}return i.\u0275prov=He({token:i,providedIn:"root",factory:eI}),i})();function tI(){return new Ev([new JS])}let Ev=(()=>{class i{constructor(t){this.factories=t}static create(t,o){if(o){const c=o.factories.slice();t=t.concat(c)}return new i(t)}static extend(t){return{provide:i,useFactory:o=>i.create(t,o||tI()),deps:[[i,new lc,new ir]]}}find(t){const o=this.factories.find(h=>h.supports(t));if(o)return o;throw new yt(901,"")}}return i.\u0275prov=He({token:i,providedIn:"root",factory:tI}),i})();const mP=[new JS],yP=new Ny([new QS]),_P=new Ev(mP),bP=jS(null,"core",[{provide:L_,useValue:"unknown"},{provide:VS,deps:[re]},{provide:NS,deps:[]},{provide:kS,deps:[]}]),SP=[{provide:wv,useClass:wv,deps:[Pn,re,Xs,tp,bv]},{provide:BO,deps:[Pn],useFactory:function IP(i){let e=[];return i.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:bv,useClass:bv,deps:[[new ir,F_]]},{provide:j_,useClass:j_,deps:[]},Bx,{provide:Ny,useFactory:function wP(){return yP},deps:[]},{provide:Ev,useFactory:function EP(){return _P},deps:[]},{provide:hd,useFactory:function CP(i){return i||function DP(){return"undefined"!=typeof $localize&&$localize.locale||D_}()},deps:[[new we(hd),new ir,new lc]]},{provide:OS,useValue:"USD"}];let TP=(()=>{class i{constructor(t){}}return i.\u0275fac=function(t){return new(t||i)(ue(wv))},i.\u0275mod=Hn({type:i}),i.\u0275inj=Le({providers:SP}),i})(),V_=null;function np(){return V_}const un=new tt("DocumentToken");let Ng=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=He({token:i,factory:function(){return function kP(){return ue(nI)}()},providedIn:"platform"}),i})();const OP=new tt("Location Initialized");let nI=(()=>{class i extends Ng{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return np().getBaseHref(this._doc)}onPopState(t){const o=np().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=np().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,o,c){rI()?this._history.pushState(t,o,c):this.location.hash=c}replaceState(t,o,c){rI()?this._history.replaceState(t,o,c):this.location.hash=c}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return i.\u0275fac=function(t){return new(t||i)(ue(un))},i.\u0275prov=He({token:i,factory:function(){return function xP(){return new nI(ue(un))}()},providedIn:"platform"}),i})();function rI(){return!!window.history.pushState}function Zw(i,e){if(0==i.length)return e;if(0==e.length)return i;let t=0;return i.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?i+e.substring(1):1==t?i+e:i+"/"+e}function iI(i){const e=i.match(/#|\?|$/),t=e&&e.index||i.length;return i.slice(0,t-("/"===i[t-1]?1:0))+i.slice(t)}function dd(i){return i&&"?"!==i[0]?"?"+i:i}let Cv=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=He({token:i,factory:function(){return function PP(i){const e=ue(un).location;return new oI(ue(Ng),e&&e.origin||"")}()},providedIn:"root"}),i})();const Jw=new tt("appBaseHref");let oI=(()=>{class i extends Cv{constructor(t,o){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Zw(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+dd(this._platformLocation.search),c=this._platformLocation.hash;return c&&t?`${o}${c}`:o}pushState(t,o,c,h){const p=this.prepareExternalUrl(c+dd(h));this._platformLocation.pushState(t,o,p)}replaceState(t,o,c,h){const p=this.prepareExternalUrl(c+dd(h));this._platformLocation.replaceState(t,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var o,c;null===(c=(o=this._platformLocation).historyGo)||void 0===c||c.call(o,t)}}return i.\u0275fac=function(t){return new(t||i)(ue(Ng),ue(Jw,8))},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})(),NP=(()=>{class i extends Cv{constructor(t,o){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(t){const o=Zw(this._baseHref,t);return o.length>0?"#"+o:o}pushState(t,o,c,h){let p=this.prepareExternalUrl(c+dd(h));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(t,o,p)}replaceState(t,o,c,h){let p=this.prepareExternalUrl(c+dd(h));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(t,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var o,c;null===(c=(o=this._platformLocation).historyGo)||void 0===c||c.call(o,t)}}return i.\u0275fac=function(t){return new(t||i)(ue(Ng),ue(Jw,8))},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})(),Fy=(()=>{class i{constructor(t,o){this._subject=new Zi,this._urlChangeListeners=[],this._platformStrategy=t;const c=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=iI(sI(c)),this._platformStrategy.onPopState(h=>{this._subject.emit({url:this.path(!0),pop:!0,state:h.state,type:h.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+dd(o))}normalize(t){return i.stripTrailingSlash(function LP(i,e){return i&&e.startsWith(i)?e.substring(i.length):e}(this._baseHref,sI(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,o="",c=null){this._platformStrategy.pushState(c,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+dd(o)),c)}replaceState(t,o="",c=null){this._platformStrategy.replaceState(c,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+dd(o)),c)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var o,c;null===(c=(o=this._platformStrategy).historyGo)||void 0===c||c.call(o,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(c=>c(t,o))}subscribe(t,o,c){return this._subject.subscribe({next:t,error:o,complete:c})}}return i.normalizeQueryParams=dd,i.joinWithSlash=Zw,i.stripTrailingSlash=iI,i.\u0275fac=function(t){return new(t||i)(ue(Cv),ue(Ng))},i.\u0275prov=He({token:i,factory:function(){return function FP(){return new Fy(ue(Cv),ue(Ng))}()},providedIn:"root"}),i})();function sI(i){return i.replace(/\/index.html$/,"")}var xi=(()=>((xi=xi||{})[xi.Zero=0]="Zero",xi[xi.One=1]="One",xi[xi.Two=2]="Two",xi[xi.Few=3]="Few",xi[xi.Many=4]="Many",xi[xi.Other=5]="Other",xi))();const zP=function yD(i){return function ks(i){const e=function Ak(i){return i.toLowerCase().replace(/_/g,"-")}(i);let t=_D(e);if(t)return t;const o=e.split("-")[0];if(t=_D(o),t)return t;if("en"===o)return Tk;throw new Error(`Missing locale data for the locale "${i}".`)}(i)[qe.PluralCase]};class Q_{}let b1=(()=>{class i extends Q_{constructor(t){super(),this.locale=t}getPluralCategory(t,o){switch(zP(o||this.locale)(t)){case xi.Zero:return"zero";case xi.One:return"one";case xi.Two:return"two";case xi.Few:return"few";case xi.Many:return"many";default:return"other"}}}return i.\u0275fac=function(t){return new(t||i)(ue(hd))},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})(),c0=(()=>{class i{constructor(t,o,c,h){this._iterableDiffers=t,this._keyValueDiffers=o,this._ngEl=c,this._renderer=h,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(by(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${sn(o.item)}`);this._toggleClass(o.item,!0)}),t.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!0)):Object.keys(t).forEach(o=>this._toggleClass(o,!!t[o])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!1)):Object.keys(t).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(t,o){(t=t.trim())&&t.split(/\s+/g).forEach(c=>{o?this._renderer.addClass(this._ngEl.nativeElement,c):this._renderer.removeClass(this._ngEl.nativeElement,c)})}}return i.\u0275fac=function(t){return new(t||i)(Te(Ny),Te(Ev),Te(is),Te(M_))},i.\u0275dir=qn({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})();class C1{constructor(e,t,o,c){this.$implicit=e,this.ngForOf=t,this.index=o,this.count=c}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let X_=(()=>{class i{constructor(t,o,c){this._viewContainer=t,this._template=o,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const o=this._viewContainer;t.forEachOperation((c,h,p)=>{if(null==c.previousIndex)o.createEmbeddedView(this._template,new C1(c.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)o.remove(null===h?void 0:h);else if(null!==h){const m=o.get(h);o.move(m,p),gI(m,c)}});for(let c=0,h=o.length;c<h;c++){const m=o.get(c).context;m.index=c,m.count=h,m.ngForOf=this._ngForOf}t.forEachIdentityChange(c=>{gI(o.get(c.currentIndex),c)})}static ngTemplateContextGuard(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(Te(Pu),Te(kc),Te(Ny))},i.\u0275dir=qn({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();function gI(i,e){i.context.$implicit=e.item}let Z_=(()=>{class i{constructor(t,o){this._viewContainer=t,this._context=new D1,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){mI("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){mI("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(Te(Pu),Te(kc))},i.\u0275dir=qn({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class D1{constructor(){this.$implicit=null,this.ngIf=null}}function mI(i,e){if(e&&!e.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${sn(e)}'.`)}let _I=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Hn({type:i}),i.\u0275inj=Le({providers:[{provide:Q_,useClass:b1}]}),i})();const bI="browser";let tN=(()=>{class i{}return i.\u0275prov=He({token:i,providedIn:"root",factory:()=>new nN(ue(un),window)}),i})();class nN{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function rN(i,e){const t=i.getElementById(e)||i.getElementsByName(e)[0];if(t)return t;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let c=o.currentNode;for(;c;){const h=c.shadowRoot;if(h){const p=h.getElementById(e)||h.querySelector(`[name="${e}"]`);if(p)return p}c=o.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),o=t.left+this.window.pageXOffset,c=t.top+this.window.pageYOffset,h=this.offset();this.window.scrollTo(o-h[0],c-h[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=wI(this.window.history)||wI(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function wI(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class p0 extends class oN extends class RP{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function MP(i){V_||(V_=i)}(new p0)}onAndCancel(e,t,o){return e.addEventListener(t,o,!1),()=>{e.removeEventListener(t,o,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function sN(){return By=By||document.querySelector("base"),By?By.getAttribute("href"):null}();return null==t?null:function aN(i){J_=J_||document.createElement("a"),J_.setAttribute("href",i);const e=J_.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){By=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function w1(i,e){e=encodeURIComponent(e);for(const t of i.split(";")){const o=t.indexOf("="),[c,h]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(c.trim()===e)return decodeURIComponent(h)}return null}(document.cookie,e)}}let J_,By=null;const EI=new tt("TRANSITION_ID"),cN=[{provide:F_,useFactory:function uN(i,e,t){return()=>{t.get(bv).donePromise.then(()=>{const o=np(),c=e.querySelectorAll(`style[ng-transition="${i}"]`);for(let h=0;h<c.length;h++)o.remove(c[h])})}},deps:[EI,un,re],multi:!0}];class g0{static init(){!function Yx(i){Gw=i}(new g0)}addToWindow(e){Zt.getAngularTestability=(o,c=!0)=>{const h=e.findTestabilityInTree(o,c);if(null==h)throw new Error("Could not find testability for element.");return h},Zt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Zt.getAllAngularRootElements=()=>e.getAllRootElements(),Zt.frameworkStabilizers||(Zt.frameworkStabilizers=[]),Zt.frameworkStabilizers.push(o=>{const c=Zt.getAllAngularTestabilities();let h=c.length,p=!1;const m=function(_){p=p||_,h--,0==h&&o(p)};c.forEach(function(_){_.whenStable(m)})})}findTestabilityInTree(e,t,o){if(null==t)return null;const c=e.getTestability(t);return null!=c?c:o?np().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let lN=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})();const eb=new tt("EventManagerPlugins");let tb=(()=>{class i{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(c=>c.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,o,c){return this._findPluginFor(o).addEventListener(t,o,c)}addGlobalEventListener(t,o,c){return this._findPluginFor(o).addGlobalEventListener(t,o,c)}getZone(){return this._zone}_findPluginFor(t){const o=this._eventNameToPlugin.get(t);if(o)return o;const c=this._plugins;for(let h=0;h<c.length;h++){const p=c[h];if(p.supports(t))return this._eventNameToPlugin.set(t,p),p}throw new Error(`No event manager plugin found for event ${t}`)}}return i.\u0275fac=function(t){return new(t||i)(ue(eb),ue(Pn))},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})();class CI{constructor(e){this._doc=e}addGlobalEventListener(e,t,o){const c=np().getGlobalEventTarget(this._doc,e);if(!c)throw new Error(`Unsupported event target ${c} for event ${t}`);return this.addEventListener(c,t,o)}}let DI=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(t){const o=new Set;t.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),o.add(c))}),this.onStylesAdded(o)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})(),Vy=(()=>{class i extends DI{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,o,c){t.forEach(h=>{const p=this._doc.createElement("style");p.textContent=h,c.push(o.appendChild(p))})}addHost(t){const o=[];this._addStylesToHost(this._stylesSet,t,o),this._hostNodes.set(t,o)}removeHost(t){const o=this._hostNodes.get(t);o&&o.forEach(SI),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((o,c)=>{this._addStylesToHost(t,c,o)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(SI))}}return i.\u0275fac=function(t){return new(t||i)(ue(un))},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})();function SI(i){np().remove(i)}const m0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},v0=/%COMP%/g;function nb(i,e,t){for(let o=0;o<e.length;o++){let c=e[o];Array.isArray(c)?nb(i,c,t):(c=c.replace(v0,i),t.push(c))}return t}function AI(i){return e=>{if("__ngUnwrap__"===e)return i;!1===i(e)&&(e.preventDefault(),e.returnValue=!1)}}let rb=(()=>{class i{constructor(t,o,c){this.eventManager=t,this.sharedStylesHost=o,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new y0(t)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;switch(o.encapsulation){case vr.Emulated:{let c=this.rendererByCompId.get(o.id);return c||(c=new mN(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,c)),c.applyToHost(t),c}case 1:case vr.ShadowDom:return new vN(this.eventManager,this.sharedStylesHost,t,o);default:if(!this.rendererByCompId.has(o.id)){const c=nb(o.id,o.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(t){return new(t||i)(ue(tb),ue(Vy),ue(xy))},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})();class y0{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(m0[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,o){e&&e.insertBefore(t,o)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let o="string"==typeof e?document.querySelector(e):e;if(!o)throw new Error(`The selector "${e}" did not match any elements`);return t||(o.textContent=""),o}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,o,c){if(c){t=c+":"+t;const h=m0[c];h?e.setAttributeNS(h,t,o):e.setAttribute(t,o)}else e.setAttribute(t,o)}removeAttribute(e,t,o){if(o){const c=m0[o];c?e.removeAttributeNS(c,t):e.removeAttribute(`${o}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,o,c){c&(ci.DashCase|ci.Important)?e.style.setProperty(t,o,c&ci.Important?"important":""):e.style[t]=o}removeStyle(e,t,o){o&ci.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,o){e[t]=o}setValue(e,t){e.nodeValue=t}listen(e,t,o){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,AI(o)):this.eventManager.addEventListener(e,t,AI(o))}}class mN extends y0{constructor(e,t,o,c){super(e),this.component=o;const h=nb(c+"-"+o.id,o.styles,[]);t.addStyles(h),this.contentAttr=function fN(i){return"_ngcontent-%COMP%".replace(v0,i)}(c+"-"+o.id),this.hostAttr=function pN(i){return"_nghost-%COMP%".replace(v0,i)}(c+"-"+o.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const o=super.createElement(e,t);return super.setAttribute(o,this.contentAttr,""),o}}class vN extends y0{constructor(e,t,o,c){super(e),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=nb(c.id,c.styles,[]);for(let p=0;p<h.length;p++){const m=document.createElement("style");m.textContent=h[p],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,o){return super.insertBefore(this.nodeOrShadowRoot(e),t,o)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let yN=(()=>{class i extends CI{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,c){return t.addEventListener(o,c,!1),()=>this.removeEventListener(t,o,c)}removeEventListener(t,o,c){return t.removeEventListener(o,c)}}return i.\u0275fac=function(t){return new(t||i)(ue(un))},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})();const RI=["alt","control","meta","shift"],bN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kI={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wN={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let EN=(()=>{class i extends CI{constructor(t){super(t)}supports(t){return null!=i.parseEventName(t)}addEventListener(t,o,c){const h=i.parseEventName(o),p=i.eventCallback(h.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>np().onAndCancel(t,h.domEventName,p))}static parseEventName(t){const o=t.toLowerCase().split("."),c=o.shift();if(0===o.length||"keydown"!==c&&"keyup"!==c)return null;const h=i._normalizeKey(o.pop());let p="";if(RI.forEach(_=>{const E=o.indexOf(_);E>-1&&(o.splice(E,1),p+=_+".")}),p+=h,0!=o.length||0===h.length)return null;const m={};return m.domEventName=c,m.fullKey=p,m}static getEventFullKey(t){let o="",c=function CN(i){let e=i.key;if(null==e){if(e=i.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===i.location&&kI.hasOwnProperty(e)&&(e=kI[e]))}return bN[e]||e}(t);return c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),RI.forEach(h=>{h!=c&&wN[h](t)&&(o+=h+".")}),o+=c,o}static eventCallback(t,o,c){return h=>{i.getEventFullKey(h)===t&&c.runGuarded(()=>o(h))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return i.\u0275fac=function(t){return new(t||i)(ue(un))},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})();const TN=jS(bP,"browser",[{provide:L_,useValue:bI},{provide:MS,useValue:function DN(){p0.makeCurrent(),g0.init()},multi:!0},{provide:un,useFactory:function IN(){return function pi(i){Hs=i}(document),document},deps:[]}]),AN=[{provide:w,useValue:"root"},{provide:Xs,useFactory:function SN(){return new Xs},deps:[]},{provide:eb,useClass:yN,multi:!0,deps:[un,Pn,L_]},{provide:eb,useClass:EN,multi:!0,deps:[un]},{provide:rb,useClass:rb,deps:[tb,Vy,xy]},{provide:Ay,useExisting:rb},{provide:DI,useExisting:Vy},{provide:Vy,useClass:Vy,deps:[un]},{provide:$w,useClass:$w,deps:[Pn]},{provide:tb,useClass:tb,deps:[eb,Pn]},{provide:class iN{},useClass:lN,deps:[]}];let OI=(()=>{class i{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:i,providers:[{provide:xy,useValue:t.appId},{provide:EI,useExisting:xy},cN]}}}return i.\u0275fac=function(t){return new(t||i)(ue(i,12))},i.\u0275mod=Hn({type:i}),i.\u0275inj=Le({providers:AN,imports:[_I,TP]}),i})();"undefined"!=typeof window&&window;let b0=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=He({token:i,factory:function(t){let o=null;return o=t?new(t||i):ue(NI),o},providedIn:"root"}),i})(),NI=(()=>{class i extends b0{constructor(t){super(),this._doc=t}sanitize(t,o){if(null==o)return null;switch(t){case Jt.NONE:return o;case Jt.HTML:return vi(o,"HTML")?ho(o):Mm(this._doc,String(o)).toString();case Jt.STYLE:return vi(o,"Style")?ho(o):o;case Jt.SCRIPT:if(vi(o,"Script"))return ho(o);throw new Error("unsafe value used in a script context");case Jt.URL:return hc(o),vi(o,"URL")?ho(o):Du(String(o));case Jt.RESOURCE_URL:if(vi(o,"ResourceURL"))return ho(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function Cm(i){return new ef(i)}(t)}bypassSecurityTrustStyle(t){return function nf(i){return new Yo(i)}(t)}bypassSecurityTrustScript(t){return function Xv(i){return new Em(i)}(t)}bypassSecurityTrustUrl(t){return function hl(i){return new tf(i)}(t)}bypassSecurityTrustResourceUrl(t){return function Dm(i){return new Qv(i)}(t)}}return i.\u0275fac=function(t){return new(t||i)(ue(un))},i.\u0275prov=He({token:i,factory:function(t){let o=null;return o=t?new t:function jN(i){return new NI(i.get(un))}(ue(re)),o},providedIn:"root"}),i})();function wt(...i){return er(i,yo(i))}class Lu extends We{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:o}=this;if(e)throw t;return this._throwIfClosed(),o}next(e){super.next(this._value=e)}}const{isArray:BN}=Array,{getPrototypeOf:VN,prototype:UN,keys:HN}=Object;function FI(i){if(1===i.length){const e=i[0];if(BN(e))return{args:e,keys:null};if(function qN(i){return i&&"object"==typeof i&&VN(i)===UN}(e)){const t=HN(e);return{args:t.map(o=>e[o]),keys:t}}}return{args:i,keys:null}}const{isArray:zN}=Array;function w0(i){return Fe(e=>function $N(i,e){return zN(e)?i(...e):i(e)}(i,e))}function LI(i,e){return i.reduce((t,o,c)=>(t[o]=e[c],t),{})}function jI(...i){const e=yo(i),t=Lc(i),{args:o,keys:c}=FI(i);if(0===o.length)return er([],e);const h=new he(function GN(i,e,t=te){return o=>{BI(e,()=>{const{length:c}=i,h=new Array(c);let p=c,m=c;for(let _=0;_<c;_++)BI(e,()=>{const E=er(i[_],e);let S=!1;E.subscribe(new Ee(o,R=>{h[_]=R,S||(S=!0,m--),m||o.next(t(h.slice()))},()=>{--p||o.complete()}))},o)},o)}}(o,e,c?p=>LI(c,p):te));return t?h.pipe(w0(t)):h}function BI(i,e,t){i?kt(t,i,e):e()}const ib=I(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function ob(...i){return function WN(){return qu(1)}()(er(i,yo(i)))}function E0(i){return new he(e=>{K(i()).subscribe(e)})}function VI(){return Ue((i,e)=>{let t=null;i._refCount++;const o=new Ee(e,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(t=null);const c=i._connection,h=t;t=null,c&&(!h||c===h)&&c.unsubscribe(),e.unsubscribe()});i.subscribe(o),o.closed||(t=i.connect())})}class KN extends he{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Qt(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tt;const t=this.getSubject();e.add(this.source.subscribe(new Ee(t,void 0,()=>{this._teardown(),t.complete()},o=>{this._teardown(),t.error(o)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tt.EMPTY)}return e}refCount(){return VI()(this)}}function Fg(i,e){return Ue((t,o)=>{let c=null,h=0,p=!1;const m=()=>p&&!c&&o.complete();t.subscribe(new Ee(o,_=>{null==c||c.unsubscribe();let E=0;const S=h++;K(i(_,S)).subscribe(c=new Ee(o,R=>o.next(e?e(_,R,S,E++):R),()=>{c=null,m()}))},()=>{p=!0,m()}))})}function C0(...i){const e=yo(i);return Ue((t,o)=>{(e?ob(i,t,e):ob(i,t)).subscribe(o)})}function YN(i,e,t,o,c){return(h,p)=>{let m=t,_=e,E=0;h.subscribe(new Ee(p,S=>{const R=E++;_=m?i(_,S,R):(m=!0,S),o&&p.next(_)},c&&(()=>{m&&p.next(_),p.complete()})))}}function UI(i,e){return Ue(YN(i,e,arguments.length>=2,!0))}function Oo(i,e){return Ue((t,o)=>{let c=0;t.subscribe(new Ee(o,h=>i.call(e,h,c++)&&o.next(h)))})}function pd(i){return Ue((e,t)=>{let h,o=null,c=!1;o=e.subscribe(new Ee(t,void 0,void 0,p=>{h=K(i(p,pd(i)(e))),o?(o.unsubscribe(),o=null,h.subscribe(t)):c=!0})),c&&(o.unsubscribe(),o=null,h.subscribe(t))})}function Dv(i,e){return ge(e)?Bn(i,e,1):Bn(i,1)}function D0(i){return i<=0?()=>jo:Ue((e,t)=>{let o=[];e.subscribe(new Ee(t,c=>{o.push(c),i<o.length&&o.shift()},()=>{for(const c of o)t.next(c);t.complete()},void 0,()=>{o=null}))})}function HI(i=QN){return Ue((e,t)=>{let o=!1;e.subscribe(new Ee(t,c=>{o=!0,t.next(c)},()=>o?t.complete():t.error(i())))})}function QN(){return new ib}function qI(i){return Ue((e,t)=>{let o=!1;e.subscribe(new Ee(t,c=>{o=!0,t.next(c)},()=>{o||t.next(i),t.complete()}))})}function Sv(i,e){const t=arguments.length>=2;return o=>o.pipe(i?Oo((c,h)=>i(c,h,o)):te,Rr(1),t?qI(e):HI(()=>new ib))}function os(i,e,t){const o=ge(i)||e||t?{next:i,error:e,complete:t}:i;return o?Ue((c,h)=>{var p;null===(p=o.subscribe)||void 0===p||p.call(o);let m=!0;c.subscribe(new Ee(h,_=>{var E;null===(E=o.next)||void 0===E||E.call(o,_),h.next(_)},()=>{var _;m=!1,null===(_=o.complete)||void 0===_||_.call(o),h.complete()},_=>{var E;m=!1,null===(E=o.error)||void 0===E||E.call(o,_),h.error(_)},()=>{var _,E;m&&(null===(_=o.unsubscribe)||void 0===_||_.call(o)),null===(E=o.finalize)||void 0===E||E.call(o)}))}):te}function zI(i){return Ue((e,t)=>{try{e.subscribe(t)}finally{t.add(i)}})}class gd{constructor(e,t){this.id=e,this.url=t}}class S0 extends gd{constructor(e,t,o="imperative",c=null){super(e,t),this.navigationTrigger=o,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Uy extends gd{constructor(e,t,o){super(e,t),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $I extends gd{constructor(e,t,o){super(e,t),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ZN extends gd{constructor(e,t,o){super(e,t),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class JN extends gd{constructor(e,t,o,c){super(e,t),this.urlAfterRedirects=o,this.state=c}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eF extends gd{constructor(e,t,o,c){super(e,t),this.urlAfterRedirects=o,this.state=c}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tF extends gd{constructor(e,t,o,c,h){super(e,t),this.urlAfterRedirects=o,this.state=c,this.shouldActivate=h}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nF extends gd{constructor(e,t,o,c){super(e,t),this.urlAfterRedirects=o,this.state=c}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rF extends gd{constructor(e,t,o,c){super(e,t),this.urlAfterRedirects=o,this.state=c}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GI{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class WI{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class iF{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oF{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sF{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aF{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KI{constructor(e,t,o){this.routerEvent=e,this.position=t,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const rn="primary";class uF{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Iv(i){return new uF(i)}const YI="ngNavigationCancelingError";function I0(i){const e=Error("NavigationCancelingError: "+i);return e[YI]=!0,e}function lF(i,e,t){const o=t.path.split("/");if(o.length>i.length||"full"===t.pathMatch&&(e.hasChildren()||o.length<i.length))return null;const c={};for(let h=0;h<o.length;h++){const p=o[h],m=i[h];if(p.startsWith(":"))c[p.substring(1)]=m;else if(p!==m.path)return null}return{consumed:i.slice(0,o.length),posParams:c}}function Ll(i,e){const t=i?Object.keys(i):void 0,o=e?Object.keys(e):void 0;if(!t||!o||t.length!=o.length)return!1;let c;for(let h=0;h<t.length;h++)if(c=t[h],!QI(i[c],e[c]))return!1;return!0}function QI(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;const t=[...i].sort(),o=[...e].sort();return t.every((c,h)=>o[h]===c)}return i===e}function XI(i){return Array.prototype.concat.apply([],i)}function ZI(i){return i.length>0?i[i.length-1]:null}function xo(i,e){for(const t in i)i.hasOwnProperty(t)&&e(i[t],t)}function jl(i){return MC(i)?i:b_(i)?er(Promise.resolve(i)):wt(i)}const fF={exact:function tT(i,e,t){if(!jg(i.segments,e.segments)||!sb(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(const o in e.children)if(!i.children[o]||!tT(i.children[o],e.children[o],t))return!1;return!0},subset:nT},JI={exact:function pF(i,e){return Ll(i,e)},subset:function gF(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>QI(i[t],e[t]))},ignored:()=>!0};function eT(i,e,t){return fF[t.paths](i.root,e.root,t.matrixParams)&&JI[t.queryParams](i.queryParams,e.queryParams)&&!("exact"===t.fragment&&i.fragment!==e.fragment)}function nT(i,e,t){return rT(i,e,e.segments,t)}function rT(i,e,t,o){if(i.segments.length>t.length){const c=i.segments.slice(0,t.length);return!(!jg(c,t)||e.hasChildren()||!sb(c,t,o))}if(i.segments.length===t.length){if(!jg(i.segments,t)||!sb(i.segments,t,o))return!1;for(const c in e.children)if(!i.children[c]||!nT(i.children[c],e.children[c],o))return!1;return!0}{const c=t.slice(0,i.segments.length),h=t.slice(i.segments.length);return!!(jg(i.segments,c)&&sb(i.segments,c,o)&&i.children[rn])&&rT(i.children[rn],e,h,o)}}function sb(i,e,t){return e.every((o,c)=>JI[t](i[c].parameters,o.parameters))}class Lg{constructor(e,t,o){this.root=e,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iv(this.queryParams)),this._queryParamMap}toString(){return yF.serialize(this)}}class gn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,xo(t,(o,c)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ab(this)}}class Hy{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Iv(this.parameters)),this._parameterMap}toString(){return uT(this)}}function jg(i,e){return i.length===e.length&&i.every((t,o)=>t.path===e[o].path)}class iT{}class oT{parse(e){const t=new TF(e);return new Lg(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${qy(e.root,!0)}`,o=function wF(i){const e=Object.keys(i).map(t=>{const o=i[t];return Array.isArray(o)?o.map(c=>`${ub(t)}=${ub(c)}`).join("&"):`${ub(t)}=${ub(o)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${o}${"string"==typeof e.fragment?`#${function _F(i){return encodeURI(i)}(e.fragment)}`:""}`}}const yF=new oT;function ab(i){return i.segments.map(e=>uT(e)).join("/")}function qy(i,e){if(!i.hasChildren())return ab(i);if(e){const t=i.children[rn]?qy(i.children[rn],!1):"",o=[];return xo(i.children,(c,h)=>{h!==rn&&o.push(`${h}:${qy(c,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function vF(i,e){let t=[];return xo(i.children,(o,c)=>{c===rn&&(t=t.concat(e(o,c)))}),xo(i.children,(o,c)=>{c!==rn&&(t=t.concat(e(o,c)))}),t}(i,(o,c)=>c===rn?[qy(i.children[rn],!1)]:[`${c}:${qy(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[rn]?`${ab(i)}/${t[0]}`:`${ab(i)}/(${t.join("//")})`}}function sT(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ub(i){return sT(i).replace(/%3B/gi,";")}function T0(i){return sT(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cb(i){return decodeURIComponent(i)}function aT(i){return cb(i.replace(/\+/g,"%20"))}function uT(i){return`${T0(i.path)}${function bF(i){return Object.keys(i).map(e=>`;${T0(e)}=${T0(i[e])}`).join("")}(i.parameters)}`}const EF=/^[^\/()?;=#]+/;function lb(i){const e=i.match(EF);return e?e[0]:""}const CF=/^[^=?&#]+/,SF=/^[^&#]+/;class TF{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gn([],{}):new gn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(o[rn]=new gn(e,t)),o}parseSegment(){const e=lb(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Hy(cb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=lb(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const c=lb(this.remaining);c&&(o=c,this.capture(o))}e[cb(t)]=cb(o)}parseQueryParam(e){const t=function DF(i){const e=i.match(CF);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const p=function IF(i){const e=i.match(SF);return e?e[0]:""}(this.remaining);p&&(o=p,this.capture(o))}const c=aT(t),h=aT(o);if(e.hasOwnProperty(c)){let p=e[c];Array.isArray(p)||(p=[p],e[c]=p),p.push(h)}else e[c]=h}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=lb(this.remaining),c=this.remaining[o.length];if("/"!==c&&")"!==c&&";"!==c)throw new Error(`Cannot parse url '${this.url}'`);let h;o.indexOf(":")>-1?(h=o.substr(0,o.indexOf(":")),this.capture(h),this.capture(":")):e&&(h=rn);const p=this.parseChildren();t[h]=1===Object.keys(p).length?p[rn]:new gn([],p),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class cT{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=A0(e,this._root);return t?t.children.map(o=>o.value):[]}firstChild(e){const t=A0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=M0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(c=>c.value).filter(c=>c!==e)}pathFromRoot(e){return M0(e,this._root).map(t=>t.value)}}function A0(i,e){if(i===e.value)return e;for(const t of e.children){const o=A0(i,t);if(o)return o}return null}function M0(i,e){if(i===e.value)return[e];for(const t of e.children){const o=M0(i,t);if(o.length)return o.unshift(e),o}return[]}class md{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Tv(i){const e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}class lT extends cT{constructor(e,t){super(e),this.snapshot=t,R0(this,e)}toString(){return this.snapshot.toString()}}function hT(i,e){const t=function AF(i,e){const p=new hb([],{},{},"",{},rn,e,null,i.root,-1,{});return new fT("",new md(p,[]))}(i,e),o=new Lu([new Hy("",{})]),c=new Lu({}),h=new Lu({}),p=new Lu({}),m=new Lu(""),_=new Av(o,c,p,m,h,rn,e,t.root);return _.snapshot=t.root,new lT(new md(_,[]),t)}class Av{constructor(e,t,o,c,h,p,m,_){this.url=e,this.params=t,this.queryParams=o,this.fragment=c,this.data=h,this.outlet=p,this.component=m,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Fe(e=>Iv(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Fe(e=>Iv(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dT(i,e="emptyOnly"){const t=i.pathFromRoot;let o=0;if("always"!==e)for(o=t.length-1;o>=1;){const c=t[o],h=t[o-1];if(c.routeConfig&&""===c.routeConfig.path)o--;else{if(h.component)break;o--}}return function MF(i){return i.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(o))}class hb{constructor(e,t,o,c,h,p,m,_,E,S,R){this.url=e,this.params=t,this.queryParams=o,this.fragment=c,this.data=h,this.outlet=p,this.component=m,this.routeConfig=_,this._urlSegment=E,this._lastPathIndex=S,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Iv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fT extends cT{constructor(e,t){super(t),this.url=e,R0(this,t)}toString(){return pT(this._root)}}function R0(i,e){e.value._routerState=i,e.children.forEach(t=>R0(i,t))}function pT(i){const e=i.children.length>0?` { ${i.children.map(pT).join(", ")} } `:"";return`${i.value}${e}`}function k0(i){if(i.snapshot){const e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,Ll(e.queryParams,t.queryParams)||i.queryParams.next(t.queryParams),e.fragment!==t.fragment&&i.fragment.next(t.fragment),Ll(e.params,t.params)||i.params.next(t.params),function hF(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!Ll(i[t],e[t]))return!1;return!0}(e.url,t.url)||i.url.next(t.url),Ll(e.data,t.data)||i.data.next(t.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function O0(i,e){const t=Ll(i.params,e.params)&&function mF(i,e){return jg(i,e)&&i.every((t,o)=>Ll(t.parameters,e[o].parameters))}(i.url,e.url);return t&&!(!i.parent!=!e.parent)&&(!i.parent||O0(i.parent,e.parent))}function zy(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){const o=t.value;o._futureSnapshot=e.value;const c=function kF(i,e,t){return e.children.map(o=>{for(const c of t.children)if(i.shouldReuseRoute(o.value,c.value.snapshot))return zy(i,o,c);return zy(i,o)})}(i,e,t);return new md(o,c)}{if(i.shouldAttach(e.value)){const h=i.retrieve(e.value);if(null!==h){const p=h.route;return p.value._futureSnapshot=e.value,p.children=e.children.map(m=>zy(i,m)),p}}const o=function OF(i){return new Av(new Lu(i.url),new Lu(i.params),new Lu(i.queryParams),new Lu(i.fragment),new Lu(i.data),i.outlet,i.component,i)}(e.value),c=e.children.map(h=>zy(i,h));return new md(o,c)}}function db(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function $y(i){return"object"==typeof i&&null!=i&&i.outlets}function x0(i,e,t,o,c){let h={};return o&&xo(o,(p,m)=>{h[m]=Array.isArray(p)?p.map(_=>`${_}`):`${p}`}),new Lg(t.root===i?e:gT(t.root,i,e),h,c)}function gT(i,e,t){const o={};return xo(i.children,(c,h)=>{o[h]=c===e?t:gT(c,e,t)}),new gn(i.segments,o)}class mT{constructor(e,t,o){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=o,e&&o.length>0&&db(o[0]))throw new Error("Root segment cannot have matrix parameters");const c=o.find($y);if(c&&c!==ZI(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class P0{constructor(e,t,o){this.segmentGroup=e,this.processChildren=t,this.index=o}}function vT(i,e,t){if(i||(i=new gn([],{})),0===i.segments.length&&i.hasChildren())return fb(i,e,t);const o=function jF(i,e,t){let o=0,c=e;const h={match:!1,pathIndex:0,commandIndex:0};for(;c<i.segments.length;){if(o>=t.length)return h;const p=i.segments[c],m=t[o];if($y(m))break;const _=`${m}`,E=o<t.length-1?t[o+1]:null;if(c>0&&void 0===_)break;if(_&&E&&"object"==typeof E&&void 0===E.outlets){if(!_T(_,E,p))return h;o+=2}else{if(!_T(_,{},p))return h;o++}c++}return{match:!0,pathIndex:c,commandIndex:o}}(i,e,t),c=t.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const h=new gn(i.segments.slice(0,o.pathIndex),{});return h.children[rn]=new gn(i.segments.slice(o.pathIndex),i.children),fb(h,0,c)}return o.match&&0===c.length?new gn(i.segments,{}):o.match&&!i.hasChildren()?N0(i,e,t):o.match?fb(i,0,c):N0(i,e,t)}function fb(i,e,t){if(0===t.length)return new gn(i.segments,{});{const o=function LF(i){return $y(i[0])?i[0].outlets:{[rn]:i}}(t),c={};return xo(o,(h,p)=>{"string"==typeof h&&(h=[h]),null!==h&&(c[p]=vT(i.children[p],e,h))}),xo(i.children,(h,p)=>{void 0===o[p]&&(c[p]=h)}),new gn(i.segments,c)}}function N0(i,e,t){const o=i.segments.slice(0,e);let c=0;for(;c<t.length;){const h=t[c];if($y(h)){const _=BF(h.outlets);return new gn(o,_)}if(0===c&&db(t[0])){o.push(new Hy(i.segments[e].path,yT(t[0]))),c++;continue}const p=$y(h)?h.outlets[rn]:`${h}`,m=c<t.length-1?t[c+1]:null;p&&m&&db(m)?(o.push(new Hy(p,yT(m))),c+=2):(o.push(new Hy(p,{})),c++)}return new gn(o,{})}function BF(i){const e={};return xo(i,(t,o)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[o]=N0(new gn([],{}),0,t))}),e}function yT(i){const e={};return xo(i,(t,o)=>e[o]=`${t}`),e}function _T(i,e,t){return i==t.path&&Ll(e,t.parameters)}class UF{constructor(e,t,o,c){this.routeReuseStrategy=e,this.futureState=t,this.currState=o,this.forwardEvent=c}activate(e){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,e),k0(this.futureState.root),this.activateChildRoutes(t,o,e)}deactivateChildRoutes(e,t,o){const c=Tv(t);e.children.forEach(h=>{const p=h.value.outlet;this.deactivateRoutes(h,c[p],o),delete c[p]}),xo(c,(h,p)=>{this.deactivateRouteAndItsChildren(h,o)})}deactivateRoutes(e,t,o){const c=e.value,h=t?t.value:null;if(c===h)if(c.component){const p=o.getContext(c.outlet);p&&this.deactivateChildRoutes(e,t,p.children)}else this.deactivateChildRoutes(e,t,o);else h&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const o=t.getContext(e.value.outlet),c=o&&e.value.component?o.children:t,h=Tv(e);for(const p of Object.keys(h))this.deactivateRouteAndItsChildren(h[p],c);if(o&&o.outlet){const p=o.outlet.detach(),m=o.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:p,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const o=t.getContext(e.value.outlet),c=o&&e.value.component?o.children:t,h=Tv(e);for(const p of Object.keys(h))this.deactivateRouteAndItsChildren(h[p],c);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(e,t,o){const c=Tv(t);e.children.forEach(h=>{this.activateRoutes(h,c[h.value.outlet],o),this.forwardEvent(new aF(h.value.snapshot))}),e.children.length&&this.forwardEvent(new oF(e.value.snapshot))}activateRoutes(e,t,o){const c=e.value,h=t?t.value:null;if(k0(c),c===h)if(c.component){const p=o.getOrCreateContext(c.outlet);this.activateChildRoutes(e,t,p.children)}else this.activateChildRoutes(e,t,o);else if(c.component){const p=o.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){const m=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),p.children.onOutletReAttached(m.contexts),p.attachRef=m.componentRef,p.route=m.route.value,p.outlet&&p.outlet.attach(m.componentRef,m.route.value),k0(m.route.value),this.activateChildRoutes(e,null,p.children)}else{const m=function HF(i){for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(c.snapshot),_=m?m.module.componentFactoryResolver:null;p.attachRef=null,p.route=c,p.resolver=_,p.outlet&&p.outlet.activateWith(c,_),this.activateChildRoutes(e,null,p.children)}}else this.activateChildRoutes(e,null,o)}}class F0{constructor(e,t){this.routes=e,this.module=t}}function ip(i){return"function"==typeof i}function Bg(i){return i instanceof Lg}const Gy=Symbol("INITIAL_VALUE");function Wy(){return Fg(i=>jI(i.map(e=>e.pipe(Rr(1),C0(Gy)))).pipe(UI((e,t)=>{let o=!1;return t.reduce((c,h,p)=>c!==Gy?c:(h===Gy&&(o=!0),o||!1!==h&&p!==t.length-1&&!Bg(h)?c:h),e)},Gy),Oo(e=>e!==Gy),Fe(e=>Bg(e)?e:!0===e),Rr(1)))}class KF{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ky,this.attachRef=null}}class Ky{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const o=this.getOrCreateContext(e);o.outlet=t,this.contexts.set(e,o)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new KF,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let L0=(()=>{class i{constructor(t,o,c,h,p){this.parentContexts=t,this.location=o,this.resolver=c,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new Zi,this.deactivateEvents=new Zi,this.attachEvents=new Zi,this.detachEvents=new Zi,this.name=h||rn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const p=(o=o||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,_=new YF(t,m,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(t){return new(t||i)(Te(Ky),Te(Pu),Te(tp),pu("name"),Te(Py))},i.\u0275dir=qn({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),i})();class YF{constructor(e,t,o){this.route=e,this.childContexts=t,this.parent=o}get(e,t){return e===Av?this.route:e===Ky?this.childContexts:this.parent.get(e,t)}}let bT=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=ar({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,o){1&t&&Ir(0,"router-outlet")},directives:[L0],encapsulation:2}),i})();function wT(i,e=""){for(let t=0;t<i.length;t++){const o=i[t];QF(o,XF(e,o))}}function QF(i,e){i.children&&wT(i.children,e)}function XF(i,e){return e?i||e.path?i&&!e.path?`${i}/`:!i&&e.path?e.path:`${i}/${e.path}`:"":i}function j0(i){const e=i.children&&i.children.map(j0),t=e?Object.assign(Object.assign({},i),{children:e}):Object.assign({},i);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==rn&&(t.component=bT),t}function ju(i){return i.outlet||rn}function ET(i,e){const t=i.filter(o=>ju(o)===e);return t.push(...i.filter(o=>ju(o)!==e)),t}const CT={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function pb(i,e,t){var o;if(""===e.path)return"full"===e.pathMatch&&(i.hasChildren()||t.length>0)?Object.assign({},CT):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const h=(e.matcher||lF)(t,i,e);if(!h)return Object.assign({},CT);const p={};xo(h.posParams,(_,E)=>{p[E]=_.path});const m=h.consumed.length>0?Object.assign(Object.assign({},p),h.consumed[h.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:h.consumed,lastChild:h.consumed.length,parameters:m,positionalParamSegments:null!==(o=h.posParams)&&void 0!==o?o:{}}}function gb(i,e,t,o,c="corrected"){if(t.length>0&&function eL(i,e,t){return t.some(o=>mb(i,e,o)&&ju(o)!==rn)}(i,t,o)){const p=new gn(e,function JF(i,e,t,o){const c={};c[rn]=o,o._sourceSegment=i,o._segmentIndexShift=e.length;for(const h of t)if(""===h.path&&ju(h)!==rn){const p=new gn([],{});p._sourceSegment=i,p._segmentIndexShift=e.length,c[ju(h)]=p}return c}(i,e,o,new gn(t,i.children)));return p._sourceSegment=i,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:[]}}if(0===t.length&&function tL(i,e,t){return t.some(o=>mb(i,e,o))}(i,t,o)){const p=new gn(i.segments,function ZF(i,e,t,o,c,h){const p={};for(const m of o)if(mb(i,t,m)&&!c[ju(m)]){const _=new gn([],{});_._sourceSegment=i,_._segmentIndexShift="legacy"===h?i.segments.length:e.length,p[ju(m)]=_}return Object.assign(Object.assign({},c),p)}(i,e,t,o,i.children,c));return p._sourceSegment=i,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:t}}const h=new gn(i.segments,i.children);return h._sourceSegment=i,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}function mb(i,e,t){return(!(i.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function DT(i,e,t,o){return!!(ju(i)===o||o!==rn&&mb(e,t,i))&&("**"===i.path||pb(e,i,t).matched)}function ST(i,e,t){return 0===e.length&&!i.children[t]}class Yy{constructor(e){this.segmentGroup=e||null}}class IT{constructor(e){this.urlTree=e}}function vb(i){return new he(e=>e.error(new Yy(i)))}function TT(i){return new he(e=>e.error(new IT(i)))}function nL(i){return new he(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class oL{constructor(e,t,o,c,h){this.configLoader=t,this.urlSerializer=o,this.urlTree=c,this.config=h,this.allowRedirects=!0,this.ngModule=e.get(ld)}apply(){const e=gb(this.urlTree.root,[],[],this.config).segmentGroup,t=new gn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,rn).pipe(Fe(h=>this.createUrlTree(B0(h),this.urlTree.queryParams,this.urlTree.fragment))).pipe(pd(h=>{if(h instanceof IT)return this.allowRedirects=!1,this.match(h.urlTree);throw h instanceof Yy?this.noMatchError(h):h}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,rn).pipe(Fe(c=>this.createUrlTree(B0(c),e.queryParams,e.fragment))).pipe(pd(c=>{throw c instanceof Yy?this.noMatchError(c):c}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,o){const c=e.segments.length>0?new gn([],{[rn]:e}):e;return new Lg(c,t,o)}expandSegmentGroup(e,t,o,c){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(e,t,o).pipe(Fe(h=>new gn([],h))):this.expandSegment(e,o,t,o.segments,c,!0)}expandChildren(e,t,o){const c=[];for(const h of Object.keys(o.children))"primary"===h?c.unshift(h):c.push(h);return er(c).pipe(Dv(h=>{const p=o.children[h],m=ET(t,h);return this.expandSegmentGroup(e,m,p,h).pipe(Fe(_=>({segment:_,outlet:h})))}),UI((h,p)=>(h[p.outlet]=p.segment,h),{}),function XN(i,e){const t=arguments.length>=2;return o=>o.pipe(i?Oo((c,h)=>i(c,h,o)):te,D0(1),t?qI(e):HI(()=>new ib))}())}expandSegment(e,t,o,c,h,p){return er(o).pipe(Dv(m=>this.expandSegmentAgainstRoute(e,t,o,m,c,h,p).pipe(pd(E=>{if(E instanceof Yy)return wt(null);throw E}))),Sv(m=>!!m),pd((m,_)=>{if(m instanceof ib||"EmptyError"===m.name){if(ST(t,c,h))return wt(new gn([],{}));throw new Yy(t)}throw m}))}expandSegmentAgainstRoute(e,t,o,c,h,p,m){return DT(c,t,h,p)?void 0===c.redirectTo?this.matchSegmentAgainstRoute(e,t,c,h,p):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,o,c,h,p):vb(t):vb(t)}expandSegmentAgainstRouteUsingRedirect(e,t,o,c,h,p){return"**"===c.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,o,c,p):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,c,h,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,o,c){const h=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?TT(h):this.lineralizeSegments(o,h).pipe(Bn(p=>{const m=new gn(p,{});return this.expandSegment(e,m,t,p,c,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,c,h,p){const{matched:m,consumedSegments:_,lastChild:E,positionalParamSegments:S}=pb(t,c,h);if(!m)return vb(t);const R=this.applyRedirectCommands(_,c.redirectTo,S);return c.redirectTo.startsWith("/")?TT(R):this.lineralizeSegments(c,R).pipe(Bn(F=>this.expandSegment(e,t,o,F.concat(h.slice(E)),p,!1)))}matchSegmentAgainstRoute(e,t,o,c,h){if("**"===o.path)return o.loadChildren?(o._loadedConfig?wt(o._loadedConfig):this.configLoader.load(e.injector,o)).pipe(Fe(F=>(o._loadedConfig=F,new gn(c,{})))):wt(new gn(c,{}));const{matched:p,consumedSegments:m,lastChild:_}=pb(t,o,c);if(!p)return vb(t);const E=c.slice(_);return this.getChildConfig(e,o,c).pipe(Bn(R=>{const F=R.module,j=R.routes,{segmentGroup:z,slicedSegments:X}=gb(t,m,E,j),ae=new gn(z.segments,z.children);if(0===X.length&&ae.hasChildren())return this.expandChildren(F,j,ae).pipe(Fe(Ke=>new gn(m,Ke)));if(0===j.length&&0===X.length)return wt(new gn(m,{}));const pe=ju(o)===h;return this.expandSegment(F,ae,j,X,pe?rn:h,!0).pipe(Fe(Ne=>new gn(m.concat(Ne.segments),Ne.children)))}))}getChildConfig(e,t,o){return t.children?wt(new F0(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?wt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,o).pipe(Bn(c=>c?this.configLoader.load(e.injector,t).pipe(Fe(h=>(t._loadedConfig=h,h))):function rL(i){return new he(e=>e.error(I0(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`)))}(t))):wt(new F0([],e))}runCanLoadGuards(e,t,o){const c=t.canLoad;return c&&0!==c.length?wt(c.map(p=>{const m=e.get(p);let _;if(function zF(i){return i&&ip(i.canLoad)}(m))_=m.canLoad(t,o);else{if(!ip(m))throw new Error("Invalid CanLoad guard");_=m(t,o)}return jl(_)})).pipe(Wy(),os(p=>{if(!Bg(p))return;const m=I0(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw m.url=p,m}),Fe(p=>!0===p)):wt(!0)}lineralizeSegments(e,t){let o=[],c=t.root;for(;;){if(o=o.concat(c.segments),0===c.numberOfChildren)return wt(o);if(c.numberOfChildren>1||!c.children[rn])return nL(e.redirectTo);c=c.children[rn]}}applyRedirectCommands(e,t,o){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,o)}applyRedirectCreatreUrlTree(e,t,o,c){const h=this.createSegmentGroup(e,t.root,o,c);return new Lg(h,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const o={};return xo(e,(c,h)=>{if("string"==typeof c&&c.startsWith(":")){const m=c.substring(1);o[h]=t[m]}else o[h]=c}),o}createSegmentGroup(e,t,o,c){const h=this.createSegments(e,t.segments,o,c);let p={};return xo(t.children,(m,_)=>{p[_]=this.createSegmentGroup(e,m,o,c)}),new gn(h,p)}createSegments(e,t,o,c){return t.map(h=>h.path.startsWith(":")?this.findPosParam(e,h,c):this.findOrReturn(h,o))}findPosParam(e,t,o){const c=o[t.path.substring(1)];if(!c)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return c}findOrReturn(e,t){let o=0;for(const c of t){if(c.path===e.path)return t.splice(o),c;o++}return e}}function B0(i){const e={};for(const o of Object.keys(i.children)){const h=B0(i.children[o]);(h.segments.length>0||h.hasChildren())&&(e[o]=h)}return function sL(i){if(1===i.numberOfChildren&&i.children[rn]){const e=i.children[rn];return new gn(i.segments.concat(e.segments),e.children)}return i}(new gn(i.segments,e))}class AT{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class yb{constructor(e,t){this.component=e,this.route=t}}function uL(i,e,t){const o=i._root;return Qy(o,e?e._root:null,t,[o.value])}function _b(i,e,t){const o=function lL(i){if(!i)return null;for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(o?o.module.injector:t).get(i)}function Qy(i,e,t,o,c={canDeactivateChecks:[],canActivateChecks:[]}){const h=Tv(e);return i.children.forEach(p=>{(function hL(i,e,t,o,c={canDeactivateChecks:[],canActivateChecks:[]}){const h=i.value,p=e?e.value:null,m=t?t.getContext(i.value.outlet):null;if(p&&h.routeConfig===p.routeConfig){const _=function dL(i,e,t){if("function"==typeof t)return t(i,e);switch(t){case"pathParamsChange":return!jg(i.url,e.url);case"pathParamsOrQueryParamsChange":return!jg(i.url,e.url)||!Ll(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!O0(i,e)||!Ll(i.queryParams,e.queryParams);default:return!O0(i,e)}}(p,h,h.routeConfig.runGuardsAndResolvers);_?c.canActivateChecks.push(new AT(o)):(h.data=p.data,h._resolvedData=p._resolvedData),Qy(i,e,h.component?m?m.children:null:t,o,c),_&&m&&m.outlet&&m.outlet.isActivated&&c.canDeactivateChecks.push(new yb(m.outlet.component,p))}else p&&Xy(e,m,c),c.canActivateChecks.push(new AT(o)),Qy(i,null,h.component?m?m.children:null:t,o,c)})(p,h[p.value.outlet],t,o.concat([p.value]),c),delete h[p.value.outlet]}),xo(h,(p,m)=>Xy(p,t.getContext(m),c)),c}function Xy(i,e,t){const o=Tv(i),c=i.value;xo(o,(h,p)=>{Xy(h,c.component?e?e.children.getContext(p):null:e,t)}),t.canDeactivateChecks.push(new yb(c.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,c))}class wL{}function MT(i){return new he(e=>e.error(i))}class CL{constructor(e,t,o,c,h,p){this.rootComponentType=e,this.config=t,this.urlTree=o,this.url=c,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=p}recognize(){const e=gb(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,rn);if(null===t)return null;const o=new hb([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},rn,this.rootComponentType,null,this.urlTree.root,-1,{}),c=new md(o,t),h=new fT(this.url,c);return this.inheritParamsAndData(h._root),h}inheritParamsAndData(e){const t=e.value,o=dT(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),e.children.forEach(c=>this.inheritParamsAndData(c))}processSegmentGroup(e,t,o){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,o)}processChildren(e,t){const o=[];for(const h of Object.keys(t.children)){const p=t.children[h],m=ET(e,h),_=this.processSegmentGroup(m,p,h);if(null===_)return null;o.push(..._)}const c=RT(o);return function DL(i){i.sort((e,t)=>e.value.outlet===rn?-1:t.value.outlet===rn?1:e.value.outlet.localeCompare(t.value.outlet))}(c),c}processSegment(e,t,o,c){for(const h of e){const p=this.processSegmentAgainstRoute(h,t,o,c);if(null!==p)return p}return ST(t,o,c)?[]:null}processSegmentAgainstRoute(e,t,o,c){if(e.redirectTo||!DT(e,t,o,c))return null;let h,p=[],m=[];if("**"===e.path){const j=o.length>0?ZI(o).parameters:{};h=new hb(o,j,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xT(e),ju(e),e.component,e,kT(t),OT(t)+o.length,PT(e))}else{const j=pb(t,e,o);if(!j.matched)return null;p=j.consumedSegments,m=o.slice(j.lastChild),h=new hb(p,j.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,xT(e),ju(e),e.component,e,kT(t),OT(t)+p.length,PT(e))}const _=function SL(i){return i.children?i.children:i.loadChildren?i._loadedConfig.routes:[]}(e),{segmentGroup:E,slicedSegments:S}=gb(t,p,m,_.filter(j=>void 0===j.redirectTo),this.relativeLinkResolution);if(0===S.length&&E.hasChildren()){const j=this.processChildren(_,E);return null===j?null:[new md(h,j)]}if(0===_.length&&0===S.length)return[new md(h,[])];const R=ju(e)===c,F=this.processSegment(_,E,S,R?rn:c);return null===F?null:[new md(h,F)]}}function IL(i){const e=i.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function RT(i){const e=[],t=new Set;for(const o of i){if(!IL(o)){e.push(o);continue}const c=e.find(h=>o.value.routeConfig===h.value.routeConfig);void 0!==c?(c.children.push(...o.children),t.add(c)):e.push(o)}for(const o of t){const c=RT(o.children);e.push(new md(o.value,c))}return e.filter(o=>!t.has(o))}function kT(i){let e=i;for(;e._sourceSegment;)e=e._sourceSegment;return e}function OT(i){let e=i,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function xT(i){return i.data||{}}function PT(i){return i.resolve||{}}function V0(i){return Fg(e=>{const t=i(e);return t?er(t).pipe(Fe(()=>e)):wt(e)})}class PL extends class xL{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const U0=new tt("ROUTES");class NT{constructor(e,t,o,c){this.injector=e,this.compiler=t,this.onLoadStartListener=o,this.onLoadEndListener=c}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const c=this.loadModuleFactory(t.loadChildren).pipe(Fe(h=>{this.onLoadEndListener&&this.onLoadEndListener(t);const p=h.create(e);return new F0(XI(p.injector.get(U0,void 0,de.Self|de.Optional)).map(j0),p)}),pd(h=>{throw t._loader$=void 0,h}));return t._loader$=new KN(c,()=>new We).pipe(VI()),t._loader$}loadModuleFactory(e){return jl(e()).pipe(Bn(t=>t instanceof YD?wt(t):er(this.compiler.compileModuleAsync(t))))}}class FL{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function LL(i){throw i}function jL(i,e,t){return e.parse("/")}function FT(i,e){return wt(null)}const BL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ss=(()=>{class i{constructor(t,o,c,h,p,m,_){this.rootComponentType=t,this.urlSerializer=o,this.rootContexts=c,this.location=h,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new We,this.errorHandler=LL,this.malformedUriErrorHandler=jL,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:FT,afterPreactivation:FT},this.urlHandlingStrategy=new FL,this.routeReuseStrategy=new PL,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(ld),this.console=p.get(kS);const R=p.get(Pn);this.isNgZoneEnabled=R instanceof Pn&&Pn.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function dF(){return new Lg(new gn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new NT(p,m,F=>this.triggerEvent(new GI(F)),F=>this.triggerEvent(new WI(F))),this.routerState=hT(this.currentUrlTree,this.rootComponentType),this.transitions=new Lu({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const o=this.events;return t.pipe(Oo(c=>0!==c.id),Fe(c=>Object.assign(Object.assign({},c),{extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),Fg(c=>{let h=!1,p=!1;return wt(c).pipe(os(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Fg(m=>{const _=this.browserUrlTree.toString(),E=!this.navigated||m.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return bb(m.source)&&(this.browserUrlTree=m.extractedUrl),wt(m).pipe(Fg(R=>{const F=this.transitions.getValue();return o.next(new S0(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),F!==this.transitions.getValue()?jo:Promise.resolve(R)}),function aL(i,e,t,o){return Fg(c=>function iL(i,e,t,o,c){return new oL(i,e,t,o,c).apply()}(i,e,t,c.extractedUrl,o).pipe(Fe(h=>Object.assign(Object.assign({},c),{urlAfterRedirects:h}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),os(R=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function TL(i,e,t,o,c){return Bn(h=>function EL(i,e,t,o,c="emptyOnly",h="legacy"){try{const p=new CL(i,e,t,o,c,h).recognize();return null===p?MT(new wL):wt(p)}catch(p){return MT(p)}}(i,e,h.urlAfterRedirects,t(h.urlAfterRedirects),o,c).pipe(Fe(p=>Object.assign(Object.assign({},h),{targetSnapshot:p}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),os(R=>{if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(j,R)}this.browserUrlTree=R.urlAfterRedirects}const F=new JN(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);o.next(F)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:j,source:z,restoredState:X,extras:ae}=m,pe=new S0(F,this.serializeUrl(j),z,X);o.next(pe);const oe=hT(j,this.rootComponentType).snapshot;return wt(Object.assign(Object.assign({},m),{targetSnapshot:oe,urlAfterRedirects:j,extras:Object.assign(Object.assign({},ae),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),jo}),V0(m=>{const{targetSnapshot:_,id:E,extractedUrl:S,rawUrl:R,extras:{skipLocationChange:F,replaceUrl:j}}=m;return this.hooks.beforePreactivation(_,{navigationId:E,appliedUrlTree:S,rawUrlTree:R,skipLocationChange:!!F,replaceUrl:!!j})}),os(m=>{const _=new eF(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(_)}),Fe(m=>Object.assign(Object.assign({},m),{guards:uL(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function fL(i,e){return Bn(t=>{const{targetSnapshot:o,currentSnapshot:c,guards:{canActivateChecks:h,canDeactivateChecks:p}}=t;return 0===p.length&&0===h.length?wt(Object.assign(Object.assign({},t),{guardsResult:!0})):function pL(i,e,t,o){return er(i).pipe(Bn(c=>function bL(i,e,t,o,c){const h=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return h&&0!==h.length?wt(h.map(m=>{const _=_b(m,e,c);let E;if(function WF(i){return i&&ip(i.canDeactivate)}(_))E=jl(_.canDeactivate(i,e,t,o));else{if(!ip(_))throw new Error("Invalid CanDeactivate guard");E=jl(_(i,e,t,o))}return E.pipe(Sv())})).pipe(Wy()):wt(!0)}(c.component,c.route,t,e,o)),Sv(c=>!0!==c,!0))}(p,o,c,i).pipe(Bn(m=>m&&function qF(i){return"boolean"==typeof i}(m)?function gL(i,e,t,o){return er(e).pipe(Dv(c=>ob(function vL(i,e){return null!==i&&e&&e(new iF(i)),wt(!0)}(c.route.parent,o),function mL(i,e){return null!==i&&e&&e(new sF(i)),wt(!0)}(c.route,o),function _L(i,e,t){const o=e[e.length-1],h=e.slice(0,e.length-1).reverse().map(p=>function cL(i){const e=i.routeConfig?i.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:i,guards:e}:null}(p)).filter(p=>null!==p).map(p=>E0(()=>wt(p.guards.map(_=>{const E=_b(_,p.node,t);let S;if(function GF(i){return i&&ip(i.canActivateChild)}(E))S=jl(E.canActivateChild(o,i));else{if(!ip(E))throw new Error("Invalid CanActivateChild guard");S=jl(E(o,i))}return S.pipe(Sv())})).pipe(Wy())));return wt(h).pipe(Wy())}(i,c.path,t),function yL(i,e,t){const o=e.routeConfig?e.routeConfig.canActivate:null;if(!o||0===o.length)return wt(!0);const c=o.map(h=>E0(()=>{const p=_b(h,e,t);let m;if(function $F(i){return i&&ip(i.canActivate)}(p))m=jl(p.canActivate(e,i));else{if(!ip(p))throw new Error("Invalid CanActivate guard");m=jl(p(e,i))}return m.pipe(Sv())}));return wt(c).pipe(Wy())}(i,c.route,t))),Sv(c=>!0!==c,!0))}(o,h,i,e):wt(m)),Fe(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),os(m=>{if(Bg(m.guardsResult)){const E=I0(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw E.url=m.guardsResult,E}const _=new tF(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(_)}),Oo(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),V0(m=>{if(m.guards.canActivateChecks.length)return wt(m).pipe(os(_=>{const E=new nF(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}),Fg(_=>{let E=!1;return wt(_).pipe(function AL(i,e){return Bn(t=>{const{targetSnapshot:o,guards:{canActivateChecks:c}}=t;if(!c.length)return wt(t);let h=0;return er(c).pipe(Dv(p=>function ML(i,e,t,o){return function RL(i,e,t,o){const c=Object.keys(i);if(0===c.length)return wt({});const h={};return er(c).pipe(Bn(p=>function kL(i,e,t,o){const c=_b(i,e,o);return jl(c.resolve?c.resolve(e,t):c(e,t))}(i[p],e,t,o).pipe(os(m=>{h[p]=m}))),D0(1),Bn(()=>Object.keys(h).length===c.length?wt(h):jo))}(i._resolve,i,e,o).pipe(Fe(h=>(i._resolvedData=h,i.data=Object.assign(Object.assign({},i.data),dT(i,t).resolve),null)))}(p.route,o,i,e)),os(()=>h++),D0(1),Bn(p=>h===c.length?wt(t):jo))})}(this.paramsInheritanceStrategy,this.ngModule.injector),os({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),os(_=>{const E=new rF(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}))}),V0(m=>{const{targetSnapshot:_,id:E,extractedUrl:S,rawUrl:R,extras:{skipLocationChange:F,replaceUrl:j}}=m;return this.hooks.afterPreactivation(_,{navigationId:E,appliedUrlTree:S,rawUrlTree:R,skipLocationChange:!!F,replaceUrl:!!j})}),Fe(m=>{const _=function RF(i,e,t){const o=zy(i,e._root,t?t._root:void 0);return new lT(o,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:_})}),os(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((i,e,t)=>Fe(o=>(new UF(e,o.targetRouterState,o.currentRouterState,t).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),os({next(){h=!0},complete(){h=!0}}),zI(()=>{var m;h||p||this.cancelNavigationTransition(c,`Navigation ID ${c.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===c.id&&(this.currentNavigation=null)}),pd(m=>{if(p=!0,function cF(i){return i&&i[YI]}(m)){const _=Bg(m.url);_||(this.navigated=!0,this.restoreHistory(c,!0));const E=new $I(c.id,this.serializeUrl(c.extractedUrl),m.message);o.next(E),_?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),R={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bb(c.source)};this.scheduleNavigation(S,"imperative",null,R,{resolve:c.resolve,reject:c.reject,promise:c.promise})},0):c.resolve(!1)}else{this.restoreHistory(c,!0);const _=new ZN(c.id,this.serializeUrl(c.extractedUrl),m);o.next(_);try{c.resolve(this.errorHandler(m))}catch(E){c.reject(E)}}return jo}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const o="popstate"===t.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{var c;const h={replaceUrl:!0},p=(null===(c=t.state)||void 0===c?void 0:c.navigationId)?t.state:null;if(p){const _=Object.assign({},p);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(h.state=_)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,o,p,h)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){wT(t),this.config=t.map(j0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,o={}){const{relativeTo:c,queryParams:h,fragment:p,queryParamsHandling:m,preserveFragment:_}=o,E=c||this.routerState.root,S=_?this.currentUrlTree.fragment:p;let R=null;switch(m){case"merge":R=Object.assign(Object.assign({},this.currentUrlTree.queryParams),h);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=h||null}return null!==R&&(R=this.removeEmptyProps(R)),function xF(i,e,t,o,c){if(0===t.length)return x0(e.root,e.root,e,o,c);const h=function PF(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new mT(!0,0,i);let e=0,t=!1;const o=i.reduce((c,h,p)=>{if("object"==typeof h&&null!=h){if(h.outlets){const m={};return xo(h.outlets,(_,E)=>{m[E]="string"==typeof _?_.split("/"):_}),[...c,{outlets:m}]}if(h.segmentPath)return[...c,h.segmentPath]}return"string"!=typeof h?[...c,h]:0===p?(h.split("/").forEach((m,_)=>{0==_&&"."===m||(0==_&&""===m?t=!0:".."===m?e++:""!=m&&c.push(m))}),c):[...c,h]},[]);return new mT(t,e,o)}(t);if(h.toRoot())return x0(e.root,new gn([],{}),e,o,c);const p=function NF(i,e,t){if(i.isAbsolute)return new P0(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const h=t.snapshot._urlSegment;return new P0(h,h===e.root,0)}const o=db(i.commands[0])?0:1;return function FF(i,e,t){let o=i,c=e,h=t;for(;h>c;){if(h-=c,o=o.parent,!o)throw new Error("Invalid number of '../'");c=o.segments.length}return new P0(o,!1,c-h)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(h,e,i),m=p.processChildren?fb(p.segmentGroup,p.index,h.commands):vT(p.segmentGroup,p.index,h.commands);return x0(p.segmentGroup,m,e,o,c)}(E,this.currentUrlTree,t,R,null!=S?S:null)}navigateByUrl(t,o={skipLocationChange:!1}){const c=Bg(t)?t:this.parseUrl(t),h=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(h,"imperative",null,o)}navigate(t,o={skipLocationChange:!1}){return function UL(i){for(let e=0;e<i.length;e++){const t=i[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let o;try{o=this.urlSerializer.parse(t)}catch(c){o=this.malformedUriErrorHandler(c,this.urlSerializer,t)}return o}isActive(t,o){let c;if(c=!0===o?Object.assign({},BL):!1===o?Object.assign({},VL):o,Bg(t))return eT(this.currentUrlTree,t,c);const h=this.parseUrl(t);return eT(this.currentUrlTree,h,c)}removeEmptyProps(t){return Object.keys(t).reduce((o,c)=>{const h=t[c];return null!=h&&(o[c]=h),o},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Uy(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,o,c,h,p){var m,_,E;if(this.disposed)return Promise.resolve(!1);const S=this.transitions.value,R=bb(o)&&S&&!bb(S.source),F=S.rawUrl.toString()===t.toString(),j=S.id===(null===(m=this.currentNavigation)||void 0===m?void 0:m.id);if(R&&F&&j)return Promise.resolve(!0);let X,ae,pe;p?(X=p.resolve,ae=p.reject,pe=p.promise):pe=new Promise((Ke,Bt)=>{X=Ke,ae=Bt});const oe=++this.navigationId;let Ne;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(c=this.location.getState()),Ne=c&&c.\u0275routerPageId?c.\u0275routerPageId:h.replaceUrl||h.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):Ne=0,this.setTransition({id:oe,targetPageId:Ne,source:o,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:h,resolve:X,reject:ae,promise:pe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),pe.catch(Ke=>Promise.reject(Ke))}setBrowserUrl(t,o){const c=this.urlSerializer.serialize(t),h=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(c)||o.extras.replaceUrl?this.location.replaceState(c,"",h):this.location.go(c,"",h)}restoreHistory(t,o=!1){var c,h;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)||0===p?this.currentUrlTree===(null===(h=this.currentNavigation)||void 0===h?void 0:h.finalUrl)&&0===p&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,o){const c=new $I(t.id,this.serializeUrl(t.extractedUrl),o);this.triggerEvent(c),t.resolve(!1)}generateNgRouterState(t,o){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}}return i.\u0275fac=function(t){__()},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})();function bb(i){return"imperative"!==i}let wb=(()=>{class i{constructor(t,o,c,h,p){this.router=t,this.route=o,this.tabIndexAttribute=c,this.renderer=h,this.el=p,this.commands=null,this.onChanges=new We,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const o=this.renderer,c=this.el.nativeElement;null!==t?o.setAttribute(c,"tabindex",t):o.removeAttribute(c,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Mv(this.skipLocationChange),replaceUrl:Mv(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Mv(this.preserveFragment)})}}return i.\u0275fac=function(t){return new(t||i)(Te(ss),Te(Av),pu("tabindex"),Te(M_),Te(is))},i.\u0275dir=qn({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,o){1&t&&Xr("click",function(){return o.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[zr]}),i})();function Mv(i){return""===i||!!i}class LT{}class jT{preload(e,t){return wt(null)}}let BT=(()=>{class i{constructor(t,o,c,h){this.router=t,this.injector=c,this.preloadingStrategy=h,this.loader=new NT(c,o,_=>t.triggerEvent(new GI(_)),_=>t.triggerEvent(new WI(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(Oo(t=>t instanceof Uy),Dv(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(ld);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,o){const c=[];for(const h of o)if(h.loadChildren&&!h.canLoad&&h._loadedConfig){const p=h._loadedConfig;c.push(this.processRoutes(p.module,p.routes))}else h.loadChildren&&!h.canLoad?c.push(this.preloadConfig(t,h)):h.children&&c.push(this.processRoutes(t,h.children));return er(c).pipe(qu(),Fe(h=>{}))}preloadConfig(t,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?wt(o._loadedConfig):this.loader.load(t.injector,o)).pipe(Bn(h=>(o._loadedConfig=h,this.processRoutes(h.module,h.routes)))))}}return i.\u0275fac=function(t){return new(t||i)(ue(ss),ue(j_),ue(re),ue(LT))},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})(),q0=(()=>{class i{constructor(t,o,c={}){this.router=t,this.viewportScroller=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof S0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Uy&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof KI&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,o){this.router.triggerEvent(new KI(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(t){__()},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})();const Vg=new tt("ROUTER_CONFIGURATION"),VT=new tt("ROUTER_FORROOT_GUARD"),$L=[Fy,{provide:iT,useClass:oT},{provide:ss,useFactory:function QL(i,e,t,o,c,h,p={},m,_){const E=new ss(null,i,e,t,o,c,XI(h));return m&&(E.urlHandlingStrategy=m),_&&(E.routeReuseStrategy=_),function XL(i,e){i.errorHandler&&(e.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(e.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(e.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(e.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(e.urlUpdateStrategy=i.urlUpdateStrategy),i.canceledNavigationResolution&&(e.canceledNavigationResolution=i.canceledNavigationResolution)}(p,E),p.enableTracing&&E.events.subscribe(S=>{var R,F;null===(R=console.group)||void 0===R||R.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(F=console.groupEnd)||void 0===F||F.call(console)}),E},deps:[iT,Ky,Fy,re,j_,U0,Vg,[class NL{},new ir],[class OL{},new ir]]},Ky,{provide:Av,useFactory:function ZL(i){return i.routerState.root},deps:[ss]},BT,jT,class zL{preload(e,t){return t().pipe(pd(()=>wt(null)))}},{provide:Vg,useValue:{enableTracing:!1}}];function GL(){return new LS("Router",ss)}let UT=(()=>{class i{constructor(t,o){}static forRoot(t,o){return{ngModule:i,providers:[$L,HT(t),{provide:VT,useFactory:YL,deps:[[ss,new ir,new lc]]},{provide:Vg,useValue:o||{}},{provide:Cv,useFactory:KL,deps:[Ng,[new we(Jw),new ir],Vg]},{provide:q0,useFactory:WL,deps:[ss,tN,Vg]},{provide:LT,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:jT},{provide:LS,multi:!0,useFactory:GL},[z0,{provide:F_,multi:!0,useFactory:JL,deps:[z0]},{provide:qT,useFactory:e2,deps:[z0]},{provide:RS,multi:!0,useExisting:qT}]]}}static forChild(t){return{ngModule:i,providers:[HT(t)]}}}return i.\u0275fac=function(t){return new(t||i)(ue(VT,8),ue(ss,8))},i.\u0275mod=Hn({type:i}),i.\u0275inj=Le({}),i})();function WL(i,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new q0(i,e,t)}function KL(i,e,t={}){return t.useHash?new NP(i,e):new oI(i,e)}function YL(i){return"guarded"}function HT(i){return[{provide:yh,multi:!0,useValue:i},{provide:U0,multi:!0,useValue:i}]}let z0=(()=>{class i{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new We}appInitializer(){return this.injector.get(OP,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const c=new Promise(m=>o=m),h=this.injector.get(ss),p=this.injector.get(Vg);return"disabled"===p.initialNavigation?(h.setUpLocationChangeListener(),o(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(h.hooks.afterPreactivation=()=>this.initNavigation?wt(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),h.initialNavigation()):o(!0),c})}bootstrapListener(t){const o=this.injector.get(Vg),c=this.injector.get(BT),h=this.injector.get(q0),p=this.injector.get(ss),m=this.injector.get(wv);t===m.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&p.initialNavigation(),c.setUpPreloading(),h.init(),p.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(t){return new(t||i)(ue(re))},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})();function JL(i){return i.appInitializer.bind(i)}function e2(i){return i.bootstrapListener.bind(i)}const qT=new tt("Router Initializer"),Na=Ft(867);class Fa{static init(e){return Na.default.initializeApp(e),[]}static getFirestore(){return Na.default.firestore()}static _getFirestore(){return Na.default.firestore}static getAuth(){return Na.default.auth()}static getStorage(){return Na.default.storage()}static getFirestoreTimestamp(){return Na.default.firestore.Timestamp.now()}}Ft(315);class op{constructor(){this.auth=Fa.getAuth()}createAccountWith(e){return new Promise((t,o)=>{this.auth.createUserWithEmailAndPassword(e.email,e.password).then(c=>{try{e.onComplete(c)}catch(h){}t(c)}).catch(c=>{try{e.onFail(c)}catch(h){}o(c)})})}signInAnonymously(e){return new Promise((t,o)=>{this.auth.signInAnonymously().then(c=>{try{e.onComplete(c)}catch(h){}t(c)}).catch(c=>{try{e.onFail(c)}catch(h){}o(c)})})}signInWith(e){return new Promise((t,o)=>{e.provider?this.auth.signInWithPopup(this.getProvider(e.provider)).then(c=>{try{e.onComplete(c)}catch(h){}t(c)}).catch(c=>{try{e.onFail(c)}catch(h){}o(c)}):this.auth.signInWithEmailAndPassword(e.email,e.password).then(c=>{try{e.onComplete(c)}catch(h){}t(c)}).catch(c=>{try{e.onFail(c)}catch(h){}o(c)})})}getProvider(e){switch(e.toLowerCase()){case"google":return new Na.default.auth.GoogleAuthProvider;case"apple":return new Na.default.auth.OAuthProvider("apple.com");case"facebook":return new Na.default.auth.FacebookAuthProvider;case"yahoo":return new Na.default.auth.OAuthProvider("yahoo.com");case"github":return new Na.default.auth.GithubAuthProvider;case"twitter":return new Na.default.auth.TwitterAuthProvider;case"microsoft":return new Na.default.auth.OAuthProvider("microsoft.com")}}signOut(e){return new Promise((t,o)=>{e?this.auth.signOut().then(()=>{try{e.onComplete()}catch(c){}t()}).catch(()=>{try{e.onFail()}catch(c){}o(new Error("Failed to signout."))}):this.auth.signOut()})}listenToSignInStateChanges(e){this.auth.onAuthStateChanged(t=>{e(t)})}sendVerificationEmail(){try{this.validateIsSignedIn(),this.auth.currentUser.sendEmailVerification()}catch(e){console.error(`${e} User must be signed in to use the sendVerificaitonEmail() function.`)}}sendPasswordResetEmail(e){e.onComplete?this.auth.sendPasswordResetEmail(e.email).then(()=>e.onComplete(`Instructions to reset password was sent to ${e.email}.`)).catch(()=>e.onComplete("Failed to send password reset email.")):this.auth.sendPasswordResetEmail(e.email)}isEmailVerified(){try{return this.validateIsSignedIn(),this.auth.currentUser.emailVerified}catch(e){console.error(`User must be signed in to use the isEmailVerified() function. \n${e}`)}return!1}isSignedIn(){return null!=this.auth.currentUser||null!=this.auth.currentUser}validateIsSignedIn(){if(!this.isSignedIn())throw new Error("No user was signed in.")}getAuth(){return this.auth}checkSignInState(e){let t=this.getAuth().currentUser;try{e.whenChanged(t)}catch(o){}if(this.isSignedIn()){try{e.whenSignedIn(t)}catch(o){}if(this.isEmailVerified())try{e.whenSignedInAndEmailVerified(t)}catch(o){}else try{e.whenSignedInAndEmailNotVerified(t)}catch(o){}}else try{e.whenSignedOut(t)}catch(o){}}}let Eb=(()=>{class i{constructor(t){this._Router=t,this.auth=new op}canActivate(t,o){return!!this.auth.isSignedIn()||this._Router.createUrlTree(["/login"])}}return i.\u0275fac=function(t){return new(t||i)(ue(ss))},i.\u0275prov=He({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const n2=new tt("cdk-dir-doc",{providedIn:"root",factory:function r2(){return Es(un)}}),o2=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let $0,Zy=(()=>{class i{constructor(t){if(this.value="ltr",this.change=new Zi,t){const c=t.documentElement?t.documentElement.dir:null;this.value=function s2(i){const e=(null==i?void 0:i.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?o2.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||c||"ltr")}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(t){return new(t||i)(ue(n2,8))},i.\u0275prov=He({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Jy=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Hn({type:i}),i.\u0275inj=Le({}),i})();try{$0="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){$0=!1}let e_,Ug,W0,Nc=(()=>{class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function eN(i){return i===bI}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$0)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(t){return new(t||i)(ue(L_))},i.\u0275prov=He({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),$T=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Hn({type:i}),i.\u0275inj=Le({}),i})();function G0(i){return function a2(){if(null==e_&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>e_=!0}))}finally{e_=e_||!1}return e_}()?i:!!i.capture}function u2(){if(null==Ug){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ug=!1,Ug;if("scrollBehavior"in document.documentElement.style)Ug=!0;else{const i=Element.prototype.scrollTo;Ug=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return Ug}function kv(){let i="undefined"!=typeof document&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const e=i.shadowRoot.activeElement;if(e===i)break;i=e}return i}function Hg(i){return i.composedPath?i.composedPath()[0]:i.target}function K0(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function KT(i,...e){return e.length?e.some(t=>i[t]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function YT(i){return Oo((e,t)=>i<=t)}function v2(i,e){return i===e}function Y0(i){return Ue((e,t)=>{K(i).subscribe(new Ee(t,()=>t.complete(),Re)),!t.closed&&e.subscribe(t)})}function Q0(i){return null!=i&&"false"!=`${i}`}function t_(i){return Array.isArray(i)?i:[i]}function Ni(i){return null==i?"":"string"==typeof i?i:`${i}px`}function Ov(i){return i instanceof is?i.nativeElement:i}let X0=(()=>{class i{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function E2(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const o=function w2(i){try{return i.frameElement}catch(e){return null}}(function R2(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(t));if(o&&(-1===JT(o)||!this.isVisible(o)))return!1;let c=t.nodeName.toLowerCase(),h=JT(t);return t.hasAttribute("contenteditable")?-1!==h:!("iframe"===c||"object"===c||this._platform.WEBKIT&&this._platform.IOS&&!function A2(i){let e=i.nodeName.toLowerCase(),t="input"===e&&i.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===c?!!t.hasAttribute("controls")&&-1!==h:"video"===c?-1!==h&&(null!==h||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,o){return function M2(i){return!function D2(i){return function I2(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function C2(i){let e=i.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(i)||function S2(i){return function T2(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||ZT(i))}(t)&&!this.isDisabled(t)&&((null==o?void 0:o.ignoreVisibility)||this.isVisible(t))}}return i.\u0275fac=function(t){return new(t||i)(ue(Nc))},i.\u0275prov=He({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ZT(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let e=i.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function JT(i){if(!ZT(i))return null;const e=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class k2{constructor(e,t,o,c,h=!1){this._element=e,this._checker=t,this._ngZone=o,this._document=c,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,h||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const o=this._getFirstTabbableElement(t);return null==o||o.focus(e),!!o}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let o=0;o<t.length;o++){const c=t[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[o]):null;if(c)return c}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let o=t.length-1;o>=0;o--){const c=t[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[o]):null;if(c)return c}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Rr(1)).subscribe(e)}}let eA=(()=>{class i{constructor(t,o,c){this._checker=t,this._ngZone=o,this._document=c}create(t,o=!1){return new k2(t,this._checker,this._ngZone,this._document,o)}}return i.\u0275fac=function(t){return new(t||i)(ue(X0),ue(Pn),ue(un))},i.\u0275prov=He({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function tA(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function nA(i){const e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const O2=new tt("cdk-input-modality-detector-options"),x2={ignoreKeys:[18,17,224,91,16]},xv=G0({passive:!0,capture:!0});let P2=(()=>{class i{constructor(t,o,c,h){this._platform=t,this._mostRecentTarget=null,this._modality=new Lu(null),this._lastTouchMs=0,this._onKeydown=p=>{var m,_;(null===(_=null===(m=this._options)||void 0===m?void 0:m.ignoreKeys)||void 0===_?void 0:_.some(E=>E===p.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Hg(p))},this._onMousedown=p=>{Date.now()-this._lastTouchMs<650||(this._modality.next(tA(p)?"keyboard":"mouse"),this._mostRecentTarget=Hg(p))},this._onTouchstart=p=>{nA(p)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Hg(p))},this._options=Object.assign(Object.assign({},x2),h),this.modalityDetected=this._modality.pipe(YT(1)),this.modalityChanged=this.modalityDetected.pipe(function m2(i,e=te){return i=null!=i?i:v2,Ue((t,o)=>{let c,h=!0;t.subscribe(new Ee(o,p=>{const m=e(p);(h||!i(c,m))&&(h=!1,c=m,o.next(p))}))})}()),t.isBrowser&&o.runOutsideAngular(()=>{c.addEventListener("keydown",this._onKeydown,xv),c.addEventListener("mousedown",this._onMousedown,xv),c.addEventListener("touchstart",this._onTouchstart,xv)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,xv),document.removeEventListener("mousedown",this._onMousedown,xv),document.removeEventListener("touchstart",this._onTouchstart,xv))}}return i.\u0275fac=function(t){return new(t||i)(ue(Nc),ue(Pn),ue(un),ue(O2,8))},i.\u0275prov=He({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const F2=new tt("cdk-focus-monitor-default-options"),Db=G0({passive:!0,capture:!0});let iA=(()=>{class i{constructor(t,o,c,h,p){this._ngZone=t,this._platform=o,this._inputModalityDetector=c,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new We,this._rootNodeFocusAndBlurListener=m=>{const _=Hg(m),E="focus"===m.type?this._onFocus:this._onBlur;for(let S=_;S;S=S.parentElement)E.call(this,m,S)},this._document=h,this._detectionMode=(null==p?void 0:p.detectionMode)||0}monitor(t,o=!1){const c=Ov(t);if(!this._platform.isBrowser||1!==c.nodeType)return wt(null);const h=function l2(i){if(function c2(){if(null==W0){const i="undefined"!=typeof document?document.head:null;W0=!(!i||!i.createShadowRoot&&!i.attachShadow)}return W0}()){const e=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(c)||this._getDocument(),p=this._elementInfo.get(c);if(p)return o&&(p.checkChildren=!0),p.subject;const m={checkChildren:o,subject:new We,rootNode:h};return this._elementInfo.set(c,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(t){const o=Ov(t),c=this._elementInfo.get(o);c&&(c.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(c))}focusVia(t,o,c){const h=Ov(t);h===this._getDocument().activeElement?this._getClosestElementsInfo(h).forEach(([m,_])=>this._originChanged(m,o,_)):(this._setOrigin(o),"function"==typeof h.focus&&h.focus(c))}ngOnDestroy(){this._elementInfo.forEach((t,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,o){t.classList.toggle("cdk-focused",!!o),t.classList.toggle("cdk-touch-focused","touch"===o),t.classList.toggle("cdk-keyboard-focused","keyboard"===o),t.classList.toggle("cdk-mouse-focused","mouse"===o),t.classList.toggle("cdk-program-focused","program"===o)}_setOrigin(t,o=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&o,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,o){const c=this._elementInfo.get(o),h=Hg(t);!c||!c.checkChildren&&o!==h||this._originChanged(o,this._getFocusOrigin(h),c)}_onBlur(t,o){const c=this._elementInfo.get(o);!c||c.checkChildren&&t.relatedTarget instanceof Node&&o.contains(t.relatedTarget)||(this._setClasses(o),this._emitOrigin(c.subject,null))}_emitOrigin(t,o){this._ngZone.run(()=>t.next(o))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const o=t.rootNode,c=this._rootNodeFocusListenerCount.get(o)||0;c||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,Db),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,Db)}),this._rootNodeFocusListenerCount.set(o,c+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Y0(this._stopInputModalityDetector)).subscribe(h=>{this._setOrigin(h,!0)}))}_removeGlobalListeners(t){const o=t.rootNode;if(this._rootNodeFocusListenerCount.has(o)){const c=this._rootNodeFocusListenerCount.get(o);c>1?this._rootNodeFocusListenerCount.set(o,c-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Db),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Db),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,o,c){this._setClasses(t,o),this._emitOrigin(c.subject,o),this._lastFocusOrigin=o}_getClosestElementsInfo(t){const o=[];return this._elementInfo.forEach((c,h)=>{(h===t||c.checkChildren&&h.contains(t))&&o.push([h,c])}),o}}return i.\u0275fac=function(t){return new(t||i)(ue(Pn),ue(Nc),ue(P2),ue(un,8),ue(F2,8))},i.\u0275prov=He({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const oA="cdk-high-contrast-black-on-white",sA="cdk-high-contrast-white-on-black",Z0="cdk-high-contrast-active";let L2=(()=>{class i{constructor(t,o){this._platform=t,this._document=o}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const o=this._document.defaultView||window,c=o&&o.getComputedStyle?o.getComputedStyle(t):null,h=(c&&c.backgroundColor||"").replace(/ /g,"");switch(t.remove(),h){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Z0),t.remove(oA),t.remove(sA),this._hasCheckedHighContrastMode=!0;const o=this.getHighContrastMode();1===o?(t.add(Z0),t.add(oA)):2===o&&(t.add(Z0),t.add(sA))}}}return i.\u0275fac=function(t){return new(t||i)(ue(Nc),ue(un))},i.\u0275prov=He({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class aA{}const vd="*";function uA(i,e){return{type:7,name:i,definitions:e,options:{}}}function Sb(i,e=null){return{type:4,styles:e,timings:i}}function cA(i,e=null){return{type:2,steps:i,options:e}}function sp(i){return{type:6,styles:i,offset:null}}function Ib(i,e,t){return{type:0,name:i,styles:e,options:t}}function Tb(i,e,t=null){return{type:1,expr:i,animation:e,options:t}}function lA(i){Promise.resolve(null).then(i)}class Pv{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){lA(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class hA{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,o=0,c=0;const h=this.players.length;0==h?lA(()=>this._onFinish()):this.players.forEach(p=>{p.onDone(()=>{++t==h&&this._onFinish()}),p.onDestroy(()=>{++o==h&&this._onDestroy()}),p.onStart(()=>{++c==h&&this._onStart()})}),this.totalTime=this.players.reduce((p,m)=>Math.max(p,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(o=>{const c=o.totalTime?Math.min(1,t/o.totalTime):1;o.setPosition(c)})}getPosition(){const e=this.players.reduce((t,o)=>null===t||o.totalTime>t.totalTime?o:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}function dA(){return"undefined"!=typeof window&&void 0!==window.document}function eE(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ap(i){switch(i.length){case 0:return new Pv;case 1:return i[0];default:return new hA(i)}}function fA(i,e,t,o,c={},h={}){const p=[],m=[];let _=-1,E=null;if(o.forEach(S=>{const R=S.offset,F=R==_,j=F&&E||{};Object.keys(S).forEach(z=>{let X=z,ae=S[z];if("offset"!==z)switch(X=e.normalizePropertyName(X,p),ae){case"!":ae=c[z];break;case vd:ae=h[z];break;default:ae=e.normalizeStyleValue(z,X,ae,p)}j[X]=ae}),F||m.push(j),E=j,_=R}),p.length){const S="\n - ";throw new Error(`Unable to animate due to the following errors:${S}${p.join(S)}`)}return m}function tE(i,e,t,o){switch(e){case"start":i.onStart(()=>o(t&&nE(t,"start",i)));break;case"done":i.onDone(()=>o(t&&nE(t,"done",i)));break;case"destroy":i.onDestroy(()=>o(t&&nE(t,"destroy",i)))}}function nE(i,e,t){const o=t.totalTime,h=rE(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,null==o?i.totalTime:o,!!t.disabled),p=i._data;return null!=p&&(h._data=p),h}function rE(i,e,t,o,c="",h=0,p){return{element:i,triggerName:e,fromState:t,toState:o,phaseName:c,totalTime:h,disabled:!!p}}function La(i,e,t){let o;return i instanceof Map?(o=i.get(e),o||i.set(e,o=t)):(o=i[e],o||(o=i[e]=t)),o}function pA(i){const e=i.indexOf(":");return[i.substring(1,e),i.substr(e+1)]}let iE=(i,e)=>!1,gA=(i,e,t)=>[];(eE()||"undefined"!=typeof Element)&&(iE=dA()?(i,e)=>{for(;e&&e!==document.documentElement;){if(e===i)return!0;e=e.parentNode||e.host}return!1}:(i,e)=>i.contains(e),gA=(i,e,t)=>{if(t)return Array.from(i.querySelectorAll(e));const o=i.querySelector(e);return o?[o]:[]});let qg=null,mA=!1;function oE(i){qg||(qg=function V2(){return"undefined"!=typeof document?document.body:null}()||{},mA=!!qg.style&&"WebkitAppearance"in qg.style);let e=!0;return qg.style&&!function B2(i){return"ebkit"==i.substring(1,6)}(i)&&(e=i in qg.style,!e&&mA&&(e="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in qg.style)),e}const sE=iE,aE=gA;function vA(i){const e={};return Object.keys(i).forEach(t=>{const o=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[o]=i[t]}),e}let yA=(()=>{class i{validateStyleProperty(t){return oE(t)}matchesElement(t,o){return!1}containsElement(t,o){return sE(t,o)}query(t,o,c){return aE(t,o,c)}computeStyle(t,o,c){return c||""}animate(t,o,c,h,p,m=[],_){return new Pv(c,h)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})(),uE=(()=>{class i{}return i.NOOP=new yA,i})();const cE="ng-enter",Ab="ng-leave",Mb="ng-trigger",Rb=".ng-trigger",bA="ng-animating",lE=".ng-animating";function zg(i){if("number"==typeof i)return i;const e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:hE(parseFloat(e[1]),e[2])}function hE(i,e){return"s"===e?1e3*i:i}function kb(i,e,t){return i.hasOwnProperty("duration")?i:function q2(i,e,t){let c,h=0,p="";if("string"==typeof i){const m=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};c=hE(parseFloat(m[1]),m[2]);const _=m[3];null!=_&&(h=hE(parseFloat(_),m[4]));const E=m[5];E&&(p=E)}else c=i;if(!t){let m=!1,_=e.length;c<0&&(e.push("Duration values below 0 are not allowed for this animation step."),m=!0),h<0&&(e.push("Delay values below 0 are not allowed for this animation step."),m=!0),m&&e.splice(_,0,`The provided timing value "${i}" is invalid.`)}return{duration:c,delay:h,easing:p}}(i,e,t)}function Nv(i,e={}){return Object.keys(i).forEach(t=>{e[t]=i[t]}),e}function up(i,e,t={}){if(e)for(let o in i)t[o]=i[o];else Nv(i,t);return t}function EA(i,e,t){return t?e+":"+t+";":""}function CA(i){let e="";for(let t=0;t<i.style.length;t++){const o=i.style.item(t);e+=EA(0,o,i.style.getPropertyValue(o))}for(const t in i.style)i.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=EA(0,G2(t),i.style[t]));i.setAttribute("style",e)}function Bl(i,e,t){i.style&&(Object.keys(e).forEach(o=>{const c=fE(o);t&&!t.hasOwnProperty(o)&&(t[o]=i.style[c]),i.style[c]=e[o]}),eE()&&CA(i))}function $g(i,e){i.style&&(Object.keys(e).forEach(t=>{const o=fE(t);i.style[o]=""}),eE()&&CA(i))}function n_(i){return Array.isArray(i)?1==i.length?i[0]:cA(i):i}const dE=new RegExp("{{\\s*(.+?)\\s*}}","g");function DA(i){let e=[];if("string"==typeof i){let t;for(;t=dE.exec(i);)e.push(t[1]);dE.lastIndex=0}return e}function Ob(i,e,t){const o=i.toString(),c=o.replace(dE,(h,p)=>{let m=e[p];return e.hasOwnProperty(p)||(t.push(`Please provide a value for the animation param ${p}`),m=""),m.toString()});return c==o?i:c}function xb(i){const e=[];let t=i.next();for(;!t.done;)e.push(t.value),t=i.next();return e}const $2=/-+([a-z0-9])/g;function fE(i){return i.replace($2,(...e)=>e[1].toUpperCase())}function G2(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function SA(i,e){return 0===i||0===e}function IA(i,e,t){const o=Object.keys(t);if(o.length&&e.length){let h=e[0],p=[];if(o.forEach(m=>{h.hasOwnProperty(m)||p.push(m),h[m]=t[m]}),p.length)for(var c=1;c<e.length;c++){let m=e[c];p.forEach(function(_){m[_]=pE(i,_)})}}return e}function ja(i,e,t){switch(e.type){case 7:return i.visitTrigger(e,t);case 0:return i.visitState(e,t);case 1:return i.visitTransition(e,t);case 2:return i.visitSequence(e,t);case 3:return i.visitGroup(e,t);case 4:return i.visitAnimate(e,t);case 5:return i.visitKeyframes(e,t);case 6:return i.visitStyle(e,t);case 8:return i.visitReference(e,t);case 9:return i.visitAnimateChild(e,t);case 10:return i.visitAnimateRef(e,t);case 11:return i.visitQuery(e,t);case 12:return i.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function pE(i,e){return window.getComputedStyle(i)[e]}function W2(i,e){const t=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(o=>function K2(i,e,t){if(":"==i[0]){const _=function Y2(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,o)=>parseFloat(o)>parseFloat(t);case":decrement":return(t,o)=>parseFloat(o)<parseFloat(t);default:return e.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,t);if("function"==typeof _)return void e.push(_);i=_}const o=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return t.push(`The provided transition expression "${i}" is not supported`),e;const c=o[1],h=o[2],p=o[3];e.push(TA(c,p));"<"==h[0]&&!("*"==c&&"*"==p)&&e.push(TA(p,c))}(o,t,e)):t.push(i),t}const Nb=new Set(["true","1"]),Fb=new Set(["false","0"]);function TA(i,e){const t=Nb.has(i)||Fb.has(i),o=Nb.has(e)||Fb.has(e);return(c,h)=>{let p="*"==i||i==c,m="*"==e||e==h;return!p&&t&&"boolean"==typeof c&&(p=c?Nb.has(i):Fb.has(i)),!m&&o&&"boolean"==typeof h&&(m=h?Nb.has(e):Fb.has(e)),p&&m}}const Q2=new RegExp("s*:selfs*,?","g");function gE(i,e,t){return new X2(i).build(e,t)}class X2{constructor(e){this._driver=e}build(e,t){const o=new ej(t);return this._resetContextStyleTimingState(o),ja(this,n_(e),o)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let o=t.queryCount=0,c=t.depCount=0;const h=[],p=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const _=m,E=_.name;E.toString().split(/\s*,\s*/).forEach(S=>{_.name=S,h.push(this.visitState(_,t))}),_.name=E}else if(1==m.type){const _=this.visitTransition(m,t);o+=_.queryCount,c+=_.depCount,p.push(_)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:h,transitions:p,queryCount:o,depCount:c,options:null}}visitState(e,t){const o=this.visitStyle(e.styles,t),c=e.options&&e.options.params||null;if(o.containsDynamicStyles){const h=new Set,p=c||{};if(o.styles.forEach(m=>{if(Lb(m)){const _=m;Object.keys(_).forEach(E=>{DA(_[E]).forEach(S=>{p.hasOwnProperty(S)||h.add(S)})})}}),h.size){const m=xb(h.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${m.join(", ")}`)}}return{type:0,name:e.name,style:o,options:c?{params:c}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const o=ja(this,n_(e.animation),t);return{type:1,matchers:W2(e.expr,t.errors),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:Gg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(o=>ja(this,o,t)),options:Gg(e.options)}}visitGroup(e,t){const o=t.currentTime;let c=0;const h=e.steps.map(p=>{t.currentTime=o;const m=ja(this,p,t);return c=Math.max(c,t.currentTime),m});return t.currentTime=c,{type:3,steps:h,options:Gg(e.options)}}visitAnimate(e,t){const o=function nj(i,e){let t=null;if(i.hasOwnProperty("duration"))t=i;else if("number"==typeof i)return mE(kb(i,e).duration,0,"");const o=i;if(o.split(/\s+/).some(h=>"{"==h.charAt(0)&&"{"==h.charAt(1))){const h=mE(0,0,"");return h.dynamic=!0,h.strValue=o,h}return t=t||kb(o,e),mE(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=o;let c,h=e.styles?e.styles:sp({});if(5==h.type)c=this.visitKeyframes(h,t);else{let p=e.styles,m=!1;if(!p){m=!0;const E={};o.easing&&(E.easing=o.easing),p=sp(E)}t.currentTime+=o.duration+o.delay;const _=this.visitStyle(p,t);_.isEmptyStep=m,c=_}return t.currentAnimateTimings=null,{type:4,timings:o,style:c,options:null}}visitStyle(e,t){const o=this._makeStyleAst(e,t);return this._validateStyleAst(o,t),o}_makeStyleAst(e,t){const o=[];Array.isArray(e.styles)?e.styles.forEach(p=>{"string"==typeof p?p==vd?o.push(p):t.errors.push(`The provided style string value ${p} is not allowed.`):o.push(p)}):o.push(e.styles);let c=!1,h=null;return o.forEach(p=>{if(Lb(p)){const m=p,_=m.easing;if(_&&(h=_,delete m.easing),!c)for(let E in m)if(m[E].toString().indexOf("{{")>=0){c=!0;break}}}),{type:6,styles:o,easing:h,offset:e.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(e,t){const o=t.currentAnimateTimings;let c=t.currentTime,h=t.currentTime;o&&h>0&&(h-=o.duration+o.delay),e.styles.forEach(p=>{"string"!=typeof p&&Object.keys(p).forEach(m=>{if(!this._driver.validateStyleProperty(m))return void t.errors.push(`The provided animation property "${m}" is not a supported CSS property for animations`);const _=t.collectedStyles[t.currentQuerySelector],E=_[m];let S=!0;E&&(h!=c&&h>=E.startTime&&c<=E.endTime&&(t.errors.push(`The CSS property "${m}" that exists between the times of "${E.startTime}ms" and "${E.endTime}ms" is also being animated in a parallel animation between the times of "${h}ms" and "${c}ms"`),S=!1),h=E.startTime),S&&(_[m]={startTime:h,endTime:c}),t.options&&function z2(i,e,t){const o=e.params||{},c=DA(i);c.length&&c.forEach(h=>{o.hasOwnProperty(h)||t.push(`Unable to resolve the local animation param ${h} in the given list of values`)})}(p[m],t.options,t.errors)})})}visitKeyframes(e,t){const o={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),o;let h=0;const p=[];let m=!1,_=!1,E=0;const S=e.steps.map(pe=>{const oe=this._makeStyleAst(pe,t);let Ne=null!=oe.offset?oe.offset:function tj(i){if("string"==typeof i)return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(Lb(t)&&t.hasOwnProperty("offset")){const o=t;e=parseFloat(o.offset),delete o.offset}});else if(Lb(i)&&i.hasOwnProperty("offset")){const t=i;e=parseFloat(t.offset),delete t.offset}return e}(oe.styles),Ke=0;return null!=Ne&&(h++,Ke=oe.offset=Ne),_=_||Ke<0||Ke>1,m=m||Ke<E,E=Ke,p.push(Ke),oe});_&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),m&&t.errors.push("Please ensure that all keyframe offsets are in order");const R=e.steps.length;let F=0;h>0&&h<R?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==h&&(F=1/(R-1));const j=R-1,z=t.currentTime,X=t.currentAnimateTimings,ae=X.duration;return S.forEach((pe,oe)=>{const Ne=F>0?oe==j?1:F*oe:p[oe],Ke=Ne*ae;t.currentTime=z+X.delay+Ke,X.duration=Ke,this._validateStyleAst(pe,t),pe.offset=Ne,o.styles.push(pe)}),o}visitReference(e,t){return{type:8,animation:ja(this,n_(e.animation),t),options:Gg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Gg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Gg(e.options)}}visitQuery(e,t){const o=t.currentQuerySelector,c=e.options||{};t.queryCount++,t.currentQuery=e;const[h,p]=function Z2(i){const e=!!i.split(/\s*,\s*/).find(t=>":self"==t);return e&&(i=i.replace(Q2,"")),i=i.replace(/@\*/g,Rb).replace(/@\w+/g,t=>Rb+"-"+t.substr(1)).replace(/:animating/g,lE),[i,e]}(e.selector);t.currentQuerySelector=o.length?o+" "+h:h,La(t.collectedStyles,t.currentQuerySelector,{});const m=ja(this,n_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=o,{type:11,selector:h,limit:c.limit||0,optional:!!c.optional,includeSelf:p,animation:m,originalSelector:e.selector,options:Gg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const o="full"===e.timings?{duration:0,delay:0,easing:"full"}:kb(e.timings,t.errors,!0);return{type:12,animation:ja(this,n_(e.animation),t),timings:o,options:null}}}class ej{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Lb(i){return!Array.isArray(i)&&"object"==typeof i}function Gg(i){return i?(i=Nv(i)).params&&(i.params=function J2(i){return i?Nv(i):null}(i.params)):i={},i}function mE(i,e,t){return{duration:i,delay:e,easing:t}}function vE(i,e,t,o,c,h,p=null,m=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:o,duration:c,delay:h,totalTime:c+h,easing:p,subTimeline:m}}class jb{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let o=this._map.get(e);o||this._map.set(e,o=[]),o.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const oj=new RegExp(":enter","g"),aj=new RegExp(":leave","g");function yE(i,e,t,o,c,h={},p={},m,_,E=[]){return(new uj).buildKeyframes(i,e,t,o,c,h,p,m,_,E)}class uj{buildKeyframes(e,t,o,c,h,p,m,_,E,S=[]){E=E||new jb;const R=new _E(e,t,E,c,h,S,[]);R.options=_,R.currentTimeline.setStyles([p],null,R.errors,_),ja(this,o,R);const F=R.timelines.filter(j=>j.containsAnimation());if(Object.keys(m).length){let j;for(let z=F.length-1;z>=0;z--){const X=F[z];if(X.element===t){j=X;break}}j&&!j.allowOnlyTimelineStyles()&&j.setStyles([m],null,R.errors,_)}return F.length?F.map(j=>j.buildKeyframes()):[vE(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const o=t.subInstructions.get(t.element);if(o){const c=t.createSubContext(e.options),h=t.currentTimeline.currentTime,p=this._visitSubInstructions(o,c,c.options);h!=p&&t.transformIntoNewTimeline(p)}t.previousNode=e}visitAnimateRef(e,t){const o=t.createSubContext(e.options);o.transformIntoNewTimeline(),this.visitReference(e.animation,o),t.transformIntoNewTimeline(o.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,o){let h=t.currentTimeline.currentTime;const p=null!=o.duration?zg(o.duration):null,m=null!=o.delay?zg(o.delay):null;return 0!==p&&e.forEach(_=>{const E=t.appendInstructionToTimeline(_,p,m);h=Math.max(h,E.duration+E.delay)}),h}visitReference(e,t){t.updateOptions(e.options,!0),ja(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const o=t.subContextCount;let c=t;const h=e.options;if(h&&(h.params||h.delay)&&(c=t.createSubContext(h),c.transformIntoNewTimeline(),null!=h.delay)){6==c.previousNode.type&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=Bb);const p=zg(h.delay);c.delayNextStep(p)}e.steps.length&&(e.steps.forEach(p=>ja(this,p,c)),c.currentTimeline.applyStylesToKeyframe(),c.subContextCount>o&&c.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const o=[];let c=t.currentTimeline.currentTime;const h=e.options&&e.options.delay?zg(e.options.delay):0;e.steps.forEach(p=>{const m=t.createSubContext(e.options);h&&m.delayNextStep(h),ja(this,p,m),c=Math.max(c,m.currentTimeline.currentTime),o.push(m.currentTimeline)}),o.forEach(p=>t.currentTimeline.mergeTimelineCollectedStyles(p)),t.transformIntoNewTimeline(c),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const o=e.strValue;return kb(t.params?Ob(o,t.params,t.errors):o,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const o=t.currentAnimateTimings=this._visitTiming(e.timings,t),c=t.currentTimeline;o.delay&&(t.incrementTime(o.delay),c.snapshotCurrentStyles());const h=e.style;5==h.type?this.visitKeyframes(h,t):(t.incrementTime(o.duration),this.visitStyle(h,t),c.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const o=t.currentTimeline,c=t.currentAnimateTimings;!c&&o.getCurrentStyleProperties().length&&o.forwardFrame();const h=c&&c.easing||e.easing;e.isEmptyStep?o.applyEmptyStep(h):o.setStyles(e.styles,h,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const o=t.currentAnimateTimings,c=t.currentTimeline.duration,h=o.duration,m=t.createSubContext().currentTimeline;m.easing=o.easing,e.styles.forEach(_=>{m.forwardTime((_.offset||0)*h),m.setStyles(_.styles,_.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(c+h),t.previousNode=e}visitQuery(e,t){const o=t.currentTimeline.currentTime,c=e.options||{},h=c.delay?zg(c.delay):0;h&&(6===t.previousNode.type||0==o&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Bb);let p=o;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!c.optional,t.errors);t.currentQueryTotal=m.length;let _=null;m.forEach((E,S)=>{t.currentQueryIndex=S;const R=t.createSubContext(e.options,E);h&&R.delayNextStep(h),E===t.element&&(_=R.currentTimeline),ja(this,e.animation,R),R.currentTimeline.applyStylesToKeyframe(),p=Math.max(p,R.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(p),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const o=t.parentContext,c=t.currentTimeline,h=e.timings,p=Math.abs(h.duration),m=p*(t.currentQueryTotal-1);let _=p*t.currentQueryIndex;switch(h.duration<0?"reverse":h.easing){case"reverse":_=m-_;break;case"full":_=o.currentStaggerTime}const S=t.currentTimeline;_&&S.delayNextStep(_);const R=S.currentTime;ja(this,e.animation,t),t.previousNode=e,o.currentStaggerTime=c.currentTime-R+(c.startTime-o.currentTimeline.startTime)}}const Bb={};class _E{constructor(e,t,o,c,h,p,m,_){this._driver=e,this.element=t,this.subInstructions=o,this._enterClassName=c,this._leaveClassName=h,this.errors=p,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Bb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new Vb(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const o=e;let c=this.options;null!=o.duration&&(c.duration=zg(o.duration)),null!=o.delay&&(c.delay=zg(o.delay));const h=o.params;if(h){let p=c.params;p||(p=this.options.params={}),Object.keys(h).forEach(m=>{(!t||!p.hasOwnProperty(m))&&(p[m]=Ob(h[m],p,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const o=e.params={};Object.keys(t).forEach(c=>{o[c]=t[c]})}}return e}createSubContext(e=null,t,o){const c=t||this.element,h=new _E(this._driver,c,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(c,o||0));return h.previousNode=this.previousNode,h.currentAnimateTimings=this.currentAnimateTimings,h.options=this._copyOptions(),h.updateOptions(e),h.currentQueryIndex=this.currentQueryIndex,h.currentQueryTotal=this.currentQueryTotal,h.parentContext=this,this.subContextCount++,h}transformIntoNewTimeline(e){return this.previousNode=Bb,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,o){const c={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+e.delay,easing:""},h=new cj(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,c,e.stretchStartingKeyframe);return this.timelines.push(h),c}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,o,c,h,p){let m=[];if(c&&m.push(this.element),e.length>0){e=(e=e.replace(oj,"."+this._enterClassName)).replace(aj,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=o);0!==o&&(E=o<0?E.slice(E.length+o,E.length):E.slice(0,o)),m.push(...E)}return!h&&0==m.length&&p.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),m}}class Vb{constructor(e,t,o,c){this._driver=e,this.element=t,this.startTime=o,this._elementTimelineStylesLookup=c,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Vb(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||vd,this._currentKeyframe[t]=vd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,o,c){t&&(this._previousKeyframe.easing=t);const h=c&&c.params||{},p=function lj(i,e){const t={};let o;return i.forEach(c=>{"*"===c?(o=o||Object.keys(e),o.forEach(h=>{t[h]=vd})):up(c,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(p).forEach(m=>{const _=Ob(p[m],h,o);this._pendingStyles[m]=_,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:vd),this._updateStyle(m,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(o=>{this._currentKeyframe[o]=e[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const o=this._styleSummary[t],c=e._styleSummary[t];(!o||c.time>o.time)&&this._updateStyle(t,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,o=1===this._keyframes.size&&0===this.duration;let c=[];this._keyframes.forEach((m,_)=>{const E=up(m,!0);Object.keys(E).forEach(S=>{const R=E[S];"!"==R?e.add(S):R==vd&&t.add(S)}),o||(E.offset=_/this.duration),c.push(E)});const h=e.size?xb(e.values()):[],p=t.size?xb(t.values()):[];if(o){const m=c[0],_=Nv(m);m.offset=0,_.offset=1,c=[m,_]}return vE(this.element,c,h,p,this.duration,this.startTime,this.easing,!1)}}class cj extends Vb{constructor(e,t,o,c,h,p,m=!1){super(e,t,p.delay),this.keyframes=o,this.preStyleProps=c,this.postStyleProps=h,this._stretchStartingKeyframe=m,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:o,easing:c}=this.timings;if(this._stretchStartingKeyframe&&t){const h=[],p=o+t,m=t/p,_=up(e[0],!1);_.offset=0,h.push(_);const E=up(e[0],!1);E.offset=RA(m),h.push(E);const S=e.length-1;for(let R=1;R<=S;R++){let F=up(e[R],!1);F.offset=RA((t+F.offset*o)/p),h.push(F)}o=p,t=0,c="",e=h}return vE(this.element,e,this.preStyleProps,this.postStyleProps,o,t,c,!0)}}function RA(i,e=3){const t=Math.pow(10,e-1);return Math.round(i*t)/t}class bE{}class hj extends bE{normalizePropertyName(e,t){return fE(e)}normalizeStyleValue(e,t,o,c){let h="";const p=o.toString().trim();if(dj[t]&&0!==o&&"0"!==o)if("number"==typeof o)h="px";else{const m=o.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&c.push(`Please provide a CSS unit value for ${e}:${o}`)}return p+h}}const dj=(()=>function fj(i){const e={};return i.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function kA(i,e,t,o,c,h,p,m,_,E,S,R,F){return{type:0,element:i,triggerName:e,isRemovalTransition:c,fromState:t,fromStyles:h,toState:o,toStyles:p,timelines:m,queriedElements:_,preStyleProps:E,postStyleProps:S,totalTime:R,errors:F}}const wE={};class OA{constructor(e,t,o){this._triggerName=e,this.ast=t,this._stateStyles=o}match(e,t,o,c){return function pj(i,e,t,o,c){return i.some(h=>h(e,t,o,c))}(this.ast.matchers,e,t,o,c)}buildStyles(e,t,o){const c=this._stateStyles["*"],h=this._stateStyles[e],p=c?c.buildStyles(t,o):{};return h?h.buildStyles(t,o):p}build(e,t,o,c,h,p,m,_,E,S){const R=[],F=this.ast.options&&this.ast.options.params||wE,z=this.buildStyles(o,m&&m.params||wE,R),X=_&&_.params||wE,ae=this.buildStyles(c,X,R),pe=new Set,oe=new Map,Ne=new Map,Ke="void"===c,Bt={params:Object.assign(Object.assign({},F),X)},Lr=S?[]:yE(e,t,this.ast.animation,h,p,z,ae,Bt,E,R);let Jr=0;if(Lr.forEach(Va=>{Jr=Math.max(Va.duration+Va.delay,Jr)}),R.length)return kA(t,this._triggerName,o,c,Ke,z,ae,[],[],oe,Ne,Jr,R);Lr.forEach(Va=>{const Ua=Va.element,Vv=La(oe,Ua,{});Va.preStyleProps.forEach(Fc=>Vv[Fc]=!0);const yd=La(Ne,Ua,{});Va.postStyleProps.forEach(Fc=>yd[Fc]=!0),Ua!==t&&pe.add(Ua)});const Ba=xb(pe.values());return kA(t,this._triggerName,o,c,Ke,z,ae,Lr,Ba,oe,Ne,Jr)}}class gj{constructor(e,t,o){this.styles=e,this.defaultParams=t,this.normalizer=o}buildStyles(e,t){const o={},c=Nv(this.defaultParams);return Object.keys(e).forEach(h=>{const p=e[h];null!=p&&(c[h]=p)}),this.styles.styles.forEach(h=>{if("string"!=typeof h){const p=h;Object.keys(p).forEach(m=>{let _=p[m];_.length>1&&(_=Ob(_,c,t));const E=this.normalizer.normalizePropertyName(m,t);_=this.normalizer.normalizeStyleValue(m,E,_,t),o[E]=_})}}),o}}class vj{constructor(e,t,o){this.name=e,this.ast=t,this._normalizer=o,this.transitionFactories=[],this.states={},t.states.forEach(c=>{this.states[c.name]=new gj(c.style,c.options&&c.options.params||{},o)}),xA(this.states,"true","1"),xA(this.states,"false","0"),t.transitions.forEach(c=>{this.transitionFactories.push(new OA(e,c,this.states))}),this.fallbackTransition=function yj(i,e,t){return new OA(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(p,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,o,c){return this.transitionFactories.find(p=>p.match(e,t,o,c))||null}matchStyles(e,t,o){return this.fallbackTransition.buildStyles(e,t,o)}}function xA(i,e,t){i.hasOwnProperty(e)?i.hasOwnProperty(t)||(i[t]=i[e]):i.hasOwnProperty(t)&&(i[e]=i[t])}const _j=new jb;class bj{constructor(e,t,o){this.bodyNode=e,this._driver=t,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(e,t){const o=[],c=gE(this._driver,t,o);if(o.length)throw new Error(`Unable to build the animation due to the following errors: ${o.join("\n")}`);this._animations[e]=c}_buildPlayer(e,t,o){const c=e.element,h=fA(0,this._normalizer,0,e.keyframes,t,o);return this._driver.animate(c,h,e.duration,e.delay,e.easing,[],!0)}create(e,t,o={}){const c=[],h=this._animations[e];let p;const m=new Map;if(h?(p=yE(this._driver,t,h,cE,Ab,{},{},o,_j,c),p.forEach(S=>{const R=La(m,S.element,{});S.postStyleProps.forEach(F=>R[F]=null)})):(c.push("The requested animation doesn't exist or has already been destroyed"),p=[]),c.length)throw new Error(`Unable to create the animation due to the following errors: ${c.join("\n")}`);m.forEach((S,R)=>{Object.keys(S).forEach(F=>{S[F]=this._driver.computeStyle(R,F,vd)})});const E=ap(p.map(S=>{const R=m.get(S.element);return this._buildPlayer(S,{},R)}));return this._playersById[e]=E,E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const o=this.players.indexOf(t);o>=0&&this.players.splice(o,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,o,c){const h=rE(t,"","","");return tE(this._getPlayer(e),o,h,c),()=>{}}command(e,t,o,c){if("register"==o)return void this.register(e,c[0]);if("create"==o)return void this.create(e,t,c[0]||{});const h=this._getPlayer(e);switch(o){case"play":h.play();break;case"pause":h.pause();break;case"reset":h.reset();break;case"restart":h.restart();break;case"finish":h.finish();break;case"init":h.init();break;case"setPosition":h.setPosition(parseFloat(c[0]));break;case"destroy":this.destroy(e)}}}const PA="ng-animate-queued",EE="ng-animate-disabled",Sj=[],NA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ij={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bu="__ng_removed";class CE{constructor(e,t=""){this.namespaceId=t;const o=e&&e.hasOwnProperty("value");if(this.value=function Rj(i){return null!=i?i:null}(o?e.value:e),o){const h=Nv(e);delete h.value,this.options=h}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const o=this.options.params;Object.keys(t).forEach(c=>{null==o[c]&&(o[c]=t[c])})}}}const r_="void",DE=new CE(r_);class Tj{constructor(e,t,o){this.id=e,this.hostElement=t,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Vu(t,this._hostClassName)}listen(e,t,o,c){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${o}" because the animation trigger "${t}" doesn't exist!`);if(null==o||0==o.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function kj(i){return"start"==i||"done"==i}(o))throw new Error(`The provided animation trigger event "${o}" for the animation trigger "${t}" is not supported!`);const h=La(this._elementListeners,e,[]),p={name:t,phase:o,callback:c};h.push(p);const m=La(this._engine.statesByElement,e,{});return m.hasOwnProperty(t)||(Vu(e,Mb),Vu(e,Mb+"-"+t),m[t]=DE),()=>{this._engine.afterFlush(()=>{const _=h.indexOf(p);_>=0&&h.splice(_,1),this._triggers[t]||delete m[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,o,c=!0){const h=this._getTrigger(t),p=new SE(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(Vu(e,Mb),Vu(e,Mb+"-"+t),this._engine.statesByElement.set(e,m={}));let _=m[t];const E=new CE(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&_&&E.absorbOptions(_.options),m[t]=E,_||(_=DE),E.value!==r_&&_.value===E.value){if(!function Pj(i,e){const t=Object.keys(i),o=Object.keys(e);if(t.length!=o.length)return!1;for(let c=0;c<t.length;c++){const h=t[c];if(!e.hasOwnProperty(h)||i[h]!==e[h])return!1}return!0}(_.params,E.params)){const X=[],ae=h.matchStyles(_.value,_.params,X),pe=h.matchStyles(E.value,E.params,X);X.length?this._engine.reportError(X):this._engine.afterFlush(()=>{$g(e,ae),Bl(e,pe)})}return}const F=La(this._engine.playersByElement,e,[]);F.forEach(X=>{X.namespaceId==this.id&&X.triggerName==t&&X.queued&&X.destroy()});let j=h.matchTransition(_.value,E.value,e,E.params),z=!1;if(!j){if(!c)return;j=h.fallbackTransition,z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:j,fromState:_,toState:E,player:p,isFallbackTransition:z}),z||(Vu(e,PA),p.onStart(()=>{Fv(e,PA)})),p.onDone(()=>{let X=this.players.indexOf(p);X>=0&&this.players.splice(X,1);const ae=this._engine.playersByElement.get(e);if(ae){let pe=ae.indexOf(p);pe>=0&&ae.splice(pe,1)}}),this.players.push(p),F.push(p),p}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,o)=>{delete t[e]}),this._elementListeners.forEach((t,o)=>{this._elementListeners.set(o,t.filter(c=>c.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(o=>o.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const o=this._engine.driver.query(e,Rb,!0);o.forEach(c=>{if(c[Bu])return;const h=this._engine.fetchNamespacesByElement(c);h.size?h.forEach(p=>p.triggerLeaveAnimation(c,t,!1,!0)):this.clearElementCache(c)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(c=>this.clearElementCache(c)))}triggerLeaveAnimation(e,t,o,c){const h=this._engine.statesByElement.get(e),p=new Map;if(h){const m=[];if(Object.keys(h).forEach(_=>{if(p.set(_,h[_].value),this._triggers[_]){const E=this.trigger(e,_,r_,c);E&&m.push(E)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,p),o&&ap(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),o=this._engine.statesByElement.get(e);if(t&&o){const c=new Set;t.forEach(h=>{const p=h.name;if(c.has(p))return;c.add(p);const _=this._triggers[p].fallbackTransition,E=o[p]||DE,S=new CE(r_),R=new SE(this.id,p,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:p,transition:_,fromState:E,toState:S,player:R,isFallbackTransition:!0})})}}removeNode(e,t){const o=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let c=!1;if(o.totalAnimations){const h=o.players.length?o.playersByQueriedElement.get(e):[];if(h&&h.length)c=!0;else{let p=e;for(;p=p.parentNode;)if(o.statesByElement.get(p)){c=!0;break}}}if(this.prepareLeaveAnimationListeners(e),c)o.markElementAsRemoved(this.id,e,!1,t);else{const h=e[Bu];(!h||h===NA)&&(o.afterFlush(()=>this.clearElementCache(e)),o.destroyInnerAnimations(e),o._onRemovalComplete(e,t))}}insertNode(e,t){Vu(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(o=>{const c=o.player;if(c.destroyed)return;const h=o.element,p=this._elementListeners.get(h);p&&p.forEach(m=>{if(m.name==o.triggerName){const _=rE(h,o.triggerName,o.fromState.value,o.toState.value);_._data=e,tE(o.player,m.phase,_,m.callback)}}),c.markedForDestroy?this._engine.afterFlush(()=>{c.destroy()}):t.push(o)}),this._queue=[],t.sort((o,c)=>{const h=o.transition.ast.depCount,p=c.transition.ast.depCount;return 0==h||0==p?h-p:this._engine.driver.containsElement(o.element,c.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(o=>o.element===e)||t,t}}class Aj{constructor(e,t,o){this.bodyNode=e,this.driver=t,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(c,h)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(o=>{o.queued&&e.push(o)})}),e}createNamespace(e,t){const o=new Tj(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(o,t):(this.newHostElements.set(t,o),this.collectEnterElement(t)),this._namespaceLookup[e]=o}_balanceNamespaceList(e,t){const o=this._namespaceList.length-1;if(o>=0){let c=!1;for(let h=o;h>=0;h--)if(this.driver.containsElement(this._namespaceList[h].hostElement,t)){this._namespaceList.splice(h+1,0,e),c=!0;break}c||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let o=this._namespaceLookup[e];return o||(o=this.createNamespace(e,t)),o}registerTrigger(e,t,o){let c=this._namespaceLookup[e];c&&c.register(t,o)&&this.totalAnimations++}destroy(e,t){if(!e)return;const o=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[e];const c=this._namespaceList.indexOf(o);c>=0&&this._namespaceList.splice(c,1)}),this.afterFlushAnimationsDone(()=>o.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,o=this.statesByElement.get(e);if(o){const c=Object.keys(o);for(let h=0;h<c.length;h++){const p=o[c[h]].namespaceId;if(p){const m=this._fetchNamespace(p);m&&t.add(m)}}}return t}trigger(e,t,o,c){if(Ub(t)){const h=this._fetchNamespace(e);if(h)return h.trigger(t,o,c),!0}return!1}insertNode(e,t,o,c){if(!Ub(t))return;const h=t[Bu];if(h&&h.setForRemoval){h.setForRemoval=!1,h.setForMove=!0;const p=this.collectedLeaveElements.indexOf(t);p>=0&&this.collectedLeaveElements.splice(p,1)}if(e){const p=this._fetchNamespace(e);p&&p.insertNode(t,o)}c&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Vu(e,EE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Fv(e,EE))}removeNode(e,t,o,c){if(Ub(t)){const h=e?this._fetchNamespace(e):null;if(h?h.removeNode(t,c):this.markElementAsRemoved(e,t,!1,c),o){const p=this.namespacesByHostElement.get(t);p&&p.id!==e&&p.removeNode(t,c)}}else this._onRemovalComplete(t,c)}markElementAsRemoved(e,t,o,c,h){this.collectedLeaveElements.push(t),t[Bu]={namespaceId:e,setForRemoval:c,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:h}}listen(e,t,o,c,h){return Ub(t)?this._fetchNamespace(e).listen(t,o,c,h):()=>{}}_buildInstruction(e,t,o,c,h){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,o,c,e.fromState.options,e.toState.options,t,h)}destroyInnerAnimations(e){let t=this.driver.query(e,Rb,!0);t.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,lE,!0),t.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ap(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const o=e[Bu];if(o&&o.setForRemoval){if(e[Bu]=NA,o.namespaceId){this.destroyInnerAnimations(e);const c=this._fetchNamespace(o.namespaceId);c&&c.clearElementCache(e)}this._onRemovalComplete(e,o.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(EE))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(c=>{this.markElementAsDisabled(c,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,c)=>this._balanceNamespaceList(o,c)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)Vu(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{t=this._flushAnimations(o,e)}finally{for(let c=0;c<o.length;c++)o[c]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],t.length?ap(t).onDone(()=>{o.forEach(c=>c())}):o.forEach(c=>c())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const o=new jb,c=[],h=new Map,p=[],m=new Map,_=new Map,E=new Map,S=new Set;this.disabledNodes.forEach(Ye=>{S.add(Ye);const gt=this.driver.query(Ye,".ng-animate-queued",!0);for(let Dt=0;Dt<gt.length;Dt++)S.add(gt[Dt])});const R=this.bodyNode,F=Array.from(this.statesByElement.keys()),j=jA(F,this.collectedEnterElements),z=new Map;let X=0;j.forEach((Ye,gt)=>{const Dt=cE+X++;z.set(gt,Dt),Ye.forEach(Sn=>Vu(Sn,Dt))});const ae=[],pe=new Set,oe=new Set;for(let Ye=0;Ye<this.collectedLeaveElements.length;Ye++){const gt=this.collectedLeaveElements[Ye],Dt=gt[Bu];Dt&&Dt.setForRemoval&&(ae.push(gt),pe.add(gt),Dt.hasAnimation?this.driver.query(gt,".ng-star-inserted",!0).forEach(Sn=>pe.add(Sn)):oe.add(gt))}const Ne=new Map,Ke=jA(F,Array.from(pe));Ke.forEach((Ye,gt)=>{const Dt=Ab+X++;Ne.set(gt,Dt),Ye.forEach(Sn=>Vu(Sn,Dt))}),e.push(()=>{j.forEach((Ye,gt)=>{const Dt=z.get(gt);Ye.forEach(Sn=>Fv(Sn,Dt))}),Ke.forEach((Ye,gt)=>{const Dt=Ne.get(gt);Ye.forEach(Sn=>Fv(Sn,Dt))}),ae.forEach(Ye=>{this.processLeaveNode(Ye)})});const Bt=[],Lr=[];for(let Ye=this._namespaceList.length-1;Ye>=0;Ye--)this._namespaceList[Ye].drainQueuedTransitions(t).forEach(Dt=>{const Sn=Dt.player,mo=Dt.element;if(Bt.push(Sn),this.collectedEnterElements.length){const xs=mo[Bu];if(xs&&xs.setForMove){if(xs.previousTriggersValues&&xs.previousTriggersValues.has(Dt.triggerName)){const Qg=xs.previousTriggersValues.get(Dt.triggerName),fp=this.statesByElement.get(Dt.element);fp&&fp[Dt.triggerName]&&(fp[Dt.triggerName].value=Qg)}return void Sn.destroy()}}const Vl=!R||!this.driver.containsElement(R,mo),Ha=Ne.get(mo),dp=z.get(mo),ei=this._buildInstruction(Dt,o,dp,Ha,Vl);if(ei.errors&&ei.errors.length)return void Lr.push(ei);if(Vl)return Sn.onStart(()=>$g(mo,ei.fromStyles)),Sn.onDestroy(()=>Bl(mo,ei.toStyles)),void c.push(Sn);if(Dt.isFallbackTransition)return Sn.onStart(()=>$g(mo,ei.fromStyles)),Sn.onDestroy(()=>Bl(mo,ei.toStyles)),void c.push(Sn);const rR=[];ei.timelines.forEach(xs=>{xs.stretchStartingKeyframe=!0,this.disabledNodes.has(xs.element)||rR.push(xs)}),ei.timelines=rR,o.append(mo,ei.timelines),p.push({instruction:ei,player:Sn,element:mo}),ei.queriedElements.forEach(xs=>La(m,xs,[]).push(Sn)),ei.preStyleProps.forEach((xs,Qg)=>{const fp=Object.keys(xs);if(fp.length){let Xg=_.get(Qg);Xg||_.set(Qg,Xg=new Set),fp.forEach(eC=>Xg.add(eC))}}),ei.postStyleProps.forEach((xs,Qg)=>{const fp=Object.keys(xs);let Xg=E.get(Qg);Xg||E.set(Qg,Xg=new Set),fp.forEach(eC=>Xg.add(eC))})});if(Lr.length){const Ye=[];Lr.forEach(gt=>{Ye.push(`@${gt.triggerName} has failed due to:\n`),gt.errors.forEach(Dt=>Ye.push(`- ${Dt}\n`))}),Bt.forEach(gt=>gt.destroy()),this.reportError(Ye)}const Jr=new Map,Ba=new Map;p.forEach(Ye=>{const gt=Ye.element;o.has(gt)&&(Ba.set(gt,gt),this._beforeAnimationBuild(Ye.player.namespaceId,Ye.instruction,Jr))}),c.forEach(Ye=>{const gt=Ye.element;this._getPreviousPlayers(gt,!1,Ye.namespaceId,Ye.triggerName,null).forEach(Sn=>{La(Jr,gt,[]).push(Sn),Sn.destroy()})});const Va=ae.filter(Ye=>VA(Ye,_,E)),Ua=new Map;LA(Ua,this.driver,oe,E,vd).forEach(Ye=>{VA(Ye,_,E)&&Va.push(Ye)});const yd=new Map;j.forEach((Ye,gt)=>{LA(yd,this.driver,new Set(Ye),_,"!")}),Va.forEach(Ye=>{const gt=Ua.get(Ye),Dt=yd.get(Ye);Ua.set(Ye,Object.assign(Object.assign({},gt),Dt))});const Fc=[],Uv=[],Hv={};p.forEach(Ye=>{const{element:gt,player:Dt,instruction:Sn}=Ye;if(o.has(gt)){if(S.has(gt))return Dt.onDestroy(()=>Bl(gt,Sn.toStyles)),Dt.disabled=!0,Dt.overrideTotalTime(Sn.totalTime),void c.push(Dt);let mo=Hv;if(Ba.size>1){let Ha=gt;const dp=[];for(;Ha=Ha.parentNode;){const ei=Ba.get(Ha);if(ei){mo=ei;break}dp.push(Ha)}dp.forEach(ei=>Ba.set(ei,mo))}const Vl=this._buildAnimation(Dt.namespaceId,Sn,Jr,h,yd,Ua);if(Dt.setRealPlayer(Vl),mo===Hv)Fc.push(Dt);else{const Ha=this.playersByElement.get(mo);Ha&&Ha.length&&(Dt.parentPlayer=ap(Ha)),c.push(Dt)}}else $g(gt,Sn.fromStyles),Dt.onDestroy(()=>Bl(gt,Sn.toStyles)),Uv.push(Dt),S.has(gt)&&c.push(Dt)}),Uv.forEach(Ye=>{const gt=h.get(Ye.element);if(gt&&gt.length){const Dt=ap(gt);Ye.setRealPlayer(Dt)}}),c.forEach(Ye=>{Ye.parentPlayer?Ye.syncPlayerEvents(Ye.parentPlayer):Ye.destroy()});for(let Ye=0;Ye<ae.length;Ye++){const gt=ae[Ye],Dt=gt[Bu];if(Fv(gt,Ab),Dt&&Dt.hasAnimation)continue;let Sn=[];if(m.size){let Vl=m.get(gt);Vl&&Vl.length&&Sn.push(...Vl);let Ha=this.driver.query(gt,lE,!0);for(let dp=0;dp<Ha.length;dp++){let ei=m.get(Ha[dp]);ei&&ei.length&&Sn.push(...ei)}}const mo=Sn.filter(Vl=>!Vl.destroyed);mo.length?Oj(this,gt,mo):this.processLeaveNode(gt)}return ae.length=0,Fc.forEach(Ye=>{this.players.push(Ye),Ye.onDone(()=>{Ye.destroy();const gt=this.players.indexOf(Ye);this.players.splice(gt,1)}),Ye.play()}),Fc}elementContainsData(e,t){let o=!1;const c=t[Bu];return c&&c.setForRemoval&&(o=!0),this.playersByElement.has(t)&&(o=!0),this.playersByQueriedElement.has(t)&&(o=!0),this.statesByElement.has(t)&&(o=!0),this._fetchNamespace(e).elementContainsData(t)||o}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,o,c,h){let p=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(p=m)}else{const m=this.playersByElement.get(e);if(m){const _=!h||h==r_;m.forEach(E=>{E.queued||!_&&E.triggerName!=c||p.push(E)})}}return(o||c)&&(p=p.filter(m=>!(o&&o!=m.namespaceId||c&&c!=m.triggerName))),p}_beforeAnimationBuild(e,t,o){const h=t.element,p=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const E=_.element,S=E!==h,R=La(o,E,[]);this._getPreviousPlayers(E,S,p,m,t.toState).forEach(j=>{const z=j.getRealPlayer();z.beforeDestroy&&z.beforeDestroy(),j.destroy(),R.push(j)})}$g(h,t.fromStyles)}_buildAnimation(e,t,o,c,h,p){const m=t.triggerName,_=t.element,E=[],S=new Set,R=new Set,F=t.timelines.map(z=>{const X=z.element;S.add(X);const ae=X[Bu];if(ae&&ae.removedBeforeQueried)return new Pv(z.duration,z.delay);const pe=X!==_,oe=function xj(i){const e=[];return BA(i,e),e}((o.get(X)||Sj).map(Jr=>Jr.getRealPlayer())).filter(Jr=>!!Jr.element&&Jr.element===X),Ne=h.get(X),Ke=p.get(X),Bt=fA(0,this._normalizer,0,z.keyframes,Ne,Ke),Lr=this._buildPlayer(z,Bt,oe);if(z.subTimeline&&c&&R.add(X),pe){const Jr=new SE(e,m,X);Jr.setRealPlayer(Lr),E.push(Jr)}return Lr});E.forEach(z=>{La(this.playersByQueriedElement,z.element,[]).push(z),z.onDone(()=>function Mj(i,e,t){let o;if(i instanceof Map){if(o=i.get(e),o){if(o.length){const c=o.indexOf(t);o.splice(c,1)}0==o.length&&i.delete(e)}}else if(o=i[e],o){if(o.length){const c=o.indexOf(t);o.splice(c,1)}0==o.length&&delete i[e]}return o}(this.playersByQueriedElement,z.element,z))}),S.forEach(z=>Vu(z,bA));const j=ap(F);return j.onDestroy(()=>{S.forEach(z=>Fv(z,bA)),Bl(_,t.toStyles)}),R.forEach(z=>{La(c,z,[]).push(j)}),j}_buildPlayer(e,t,o){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,o):new Pv(e.duration,e.delay)}}class SE{constructor(e,t,o){this.namespaceId=e,this.triggerName=t,this.element=o,this._player=new Pv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(o=>tE(e,t,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){La(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ub(i){return i&&1===i.nodeType}function FA(i,e){const t=i.style.display;return i.style.display=null!=e?e:"none",t}function LA(i,e,t,o,c){const h=[];t.forEach(_=>h.push(FA(_)));const p=[];o.forEach((_,E)=>{const S={};_.forEach(R=>{const F=S[R]=e.computeStyle(E,R,c);(!F||0==F.length)&&(E[Bu]=Ij,p.push(E))}),i.set(E,S)});let m=0;return t.forEach(_=>FA(_,h[m++])),p}function jA(i,e){const t=new Map;if(i.forEach(m=>t.set(m,[])),0==e.length)return t;const c=new Set(e),h=new Map;function p(m){if(!m)return 1;let _=h.get(m);if(_)return _;const E=m.parentNode;return _=t.has(E)?E:c.has(E)?1:p(E),h.set(m,_),_}return e.forEach(m=>{const _=p(m);1!==_&&t.get(_).push(m)}),t}function Vu(i,e){var t;null===(t=i.classList)||void 0===t||t.add(e)}function Fv(i,e){var t;null===(t=i.classList)||void 0===t||t.remove(e)}function Oj(i,e,t){ap(t).onDone(()=>i.processLeaveNode(e))}function BA(i,e){for(let t=0;t<i.length;t++){const o=i[t];o instanceof hA?BA(o.players,e):e.push(o)}}function VA(i,e,t){const o=t.get(i);if(!o)return!1;let c=e.get(i);return c?o.forEach(h=>c.add(h)):e.set(i,o),t.delete(i),!0}class Hb{constructor(e,t,o){this.bodyNode=e,this._driver=t,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(c,h)=>{},this._transitionEngine=new Aj(e,t,o),this._timelineEngine=new bj(e,t,o),this._transitionEngine.onRemovalComplete=(c,h)=>this.onRemovalComplete(c,h)}registerTrigger(e,t,o,c,h){const p=e+"-"+c;let m=this._triggerCache[p];if(!m){const _=[],E=gE(this._driver,h,_);if(_.length)throw new Error(`The animation trigger "${c}" has failed to build due to the following errors:\n - ${_.join("\n - ")}`);m=function mj(i,e,t){return new vj(i,e,t)}(c,E,this._normalizer),this._triggerCache[p]=m}this._transitionEngine.registerTrigger(t,c,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,o,c){this._transitionEngine.insertNode(e,t,o,c)}onRemove(e,t,o,c){this._transitionEngine.removeNode(e,t,c||!1,o)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,o,c){if("@"==o.charAt(0)){const[h,p]=pA(o);this._timelineEngine.command(h,t,p,c)}else this._transitionEngine.trigger(e,t,o,c)}listen(e,t,o,c,h){if("@"==o.charAt(0)){const[p,m]=pA(o);return this._timelineEngine.listen(p,t,m,h)}return this._transitionEngine.listen(e,t,o,c,h)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function UA(i,e){let t=null,o=null;return Array.isArray(e)&&e.length?(t=IE(e[0]),e.length>1&&(o=IE(e[e.length-1]))):e&&(t=IE(e)),t||o?new Nj(i,t,o):null}let Nj=(()=>{class i{constructor(t,o,c){this._element=t,this._startStyles=o,this._endStyles=c,this._state=0;let h=i.initialStylesByElement.get(t);h||i.initialStylesByElement.set(t,h={}),this._initialStyles=h}start(){this._state<1&&(this._startStyles&&Bl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bl(this._element,this._initialStyles),this._endStyles&&(Bl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&($g(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($g(this._element,this._endStyles),this._endStyles=null),Bl(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function IE(i){let e=null;const t=Object.keys(i);for(let o=0;o<t.length;o++){const c=t[o];Fj(c)&&(e=e||{},e[c]=i[c])}return e}function Fj(i){return"display"===i||"position"===i}const HA="animation",qA="animationend";class Bj{constructor(e,t,o,c,h,p,m){this._element=e,this._name=t,this._duration=o,this._delay=c,this._easing=h,this._fillMode=p,this._onDoneFn=m,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=_=>this._handleCallback(_)}apply(){(function Vj(i,e){const t=AE(i,"").trim();let o=0;t.length&&(o=function Hj(i,e){let t=0;for(let o=0;o<i.length;o++)i.charAt(o)===e&&t++;return t}(t,",")+1,e=`${t}, ${e}`),qb(i,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),GA(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){zA(this._element,this._name,"paused")}resume(){zA(this._element,this._name,"running")}setPosition(e){const t=$A(this._element,this._name);this._position=e*this._duration,qb(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),o=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&o>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),GA(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function Uj(i,e){const o=AE(i,"").split(","),c=TE(o,e);c>=0&&(o.splice(c,1),qb(i,"",o.join(",")))}(this._element,this._name))}}function zA(i,e,t){qb(i,"PlayState",t,$A(i,e))}function $A(i,e){const t=AE(i,"");return t.indexOf(",")>0?TE(t.split(","),e):TE([t],e)}function TE(i,e){for(let t=0;t<i.length;t++)if(i[t].indexOf(e)>=0)return t;return-1}function GA(i,e,t){t?i.removeEventListener(qA,e):i.addEventListener(qA,e)}function qb(i,e,t,o){const c=HA+e;if(null!=o){const h=i.style[c];if(h.length){const p=h.split(",");p[o]=t,t=p.join(",")}}i.style[c]=t}function AE(i,e){return i.style[HA+e]||""}class WA{constructor(e,t,o,c,h,p,m,_){this.element=e,this.keyframes=t,this.animationName=o,this._duration=c,this._delay=h,this._finalStyles=m,this._specialStyles=_,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=p||"linear",this.totalTime=c+h,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Bj(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(o=>{"offset"!=o&&(e[o]=t?this._finalStyles[o]:pE(this.element,o))})}this.currentSnapshot=e}}class $j extends Pv{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=vA(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class YA{constructor(){this._count=0}validateStyleProperty(e){return oE(e)}matchesElement(e,t){return!1}containsElement(e,t){return sE(e,t)}query(e,t,o){return aE(e,t,o)}computeStyle(e,t,o){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,o){o=o.map(m=>vA(m));let c=`@keyframes ${t} {\n`,h="";o.forEach(m=>{h=" ";const _=parseFloat(m.offset);c+=`${h}${100*_}% {\n`,h+=" ",Object.keys(m).forEach(E=>{const S=m[E];switch(E){case"offset":return;case"easing":return void(S&&(c+=`${h}animation-timing-function: ${S};\n`));default:return void(c+=`${h}${E}: ${S};\n`)}}),c+=`${h}}\n`}),c+="}\n";const p=document.createElement("style");return p.textContent=c,p}animate(e,t,o,c,h,p=[],m){const _=p.filter(ae=>ae instanceof WA),E={};SA(o,c)&&_.forEach(ae=>{let pe=ae.currentSnapshot;Object.keys(pe).forEach(oe=>E[oe]=pe[oe])});const S=function Kj(i){let e={};return i&&(Array.isArray(i)?i:[i]).forEach(o=>{Object.keys(o).forEach(c=>{"offset"==c||"easing"==c||(e[c]=o[c])})}),e}(t=IA(e,t,E));if(0==o)return new $j(e,S);const R="gen_css_kf_"+this._count++,F=this.buildKeyframeElement(e,R,t);(function Wj(i){var e;const t=null===(e=i.getRootNode)||void 0===e?void 0:e.call(i);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(F);const z=UA(e,t),X=new WA(e,t,R,o,c,h,S,z);return X.onDestroy(()=>function Yj(i){i.parentNode.removeChild(i)}(F)),X}}class XA{constructor(e,t,o,c){this.element=e,this.keyframes=t,this.options=o,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,o){return e.animate(t,o)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(o=>{"offset"!=o&&(e[o]=this._finished?t[o]:pE(this.element,o))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class Qj{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ZA().toString()),this._cssKeyframesDriver=new YA}validateStyleProperty(e){return oE(e)}matchesElement(e,t){return!1}containsElement(e,t){return sE(e,t)}query(e,t,o){return aE(e,t,o)}computeStyle(e,t,o){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,o,c,h,p=[],m){if(!m&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,o,c,h,p);const S={duration:o,delay:c,fill:0==c?"both":"forwards"};h&&(S.easing=h);const R={},F=p.filter(z=>z instanceof XA);SA(o,c)&&F.forEach(z=>{let X=z.currentSnapshot;Object.keys(X).forEach(ae=>R[ae]=X[ae])});const j=UA(e,t=IA(e,t=t.map(z=>up(z,!1)),R));return new XA(e,t,S,j)}}function ZA(){return dA()&&Element.prototype.animate||{}}let Zj=(()=>{class i extends aA{constructor(t,o){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(o.body,{id:"0",encapsulation:vr.None,styles:[],data:{animation:[]}})}build(t){const o=this._nextAnimationId.toString();this._nextAnimationId++;const c=Array.isArray(t)?cA(t):t;return JA(this._renderer,null,o,"register",[c]),new Jj(o,this._renderer)}}return i.\u0275fac=function(t){return new(t||i)(ue(Ay),ue(un))},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})();class Jj extends class j2{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new eB(this._id,e,t||{},this._renderer)}}class eB{constructor(e,t,o,c){this.id=e,this.element=t,this._renderer=c,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return JA(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function JA(i,e,t,o,c){return i.setProperty(e,`@@${t}:${o}`,c)}const eM="@.disabled";let tB=(()=>{class i{constructor(t,o,c){this.delegate=t,this.engine=o,this._zone=c,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(h,p)=>{const m=null==p?void 0:p.parentNode(h);m&&p.removeChild(m,h)}}createRenderer(t,o){const h=this.delegate.createRenderer(t,o);if(!(t&&o&&o.data&&o.data.animation)){let S=this._rendererCache.get(h);return S||(S=new tM("",h,this.engine),this._rendererCache.set(h,S)),S}const p=o.id,m=o.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const _=S=>{Array.isArray(S)?S.forEach(_):this.engine.registerTrigger(p,m,t,S.name,S)};return o.data.animation.forEach(_),new nB(this,m,h,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,o,c){t>=0&&t<this._microtaskId?this._zone.run(()=>o(c)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(h=>{const[p,m]=h;p(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,c]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(t){return new(t||i)(ue(Ay),ue(Hb),ue(Pn))},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})();class tM{constructor(e,t,o){this.namespaceId=e,this.delegate=t,this.engine=o,this.destroyNode=this.delegate.destroyNode?c=>t.destroyNode(c):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,o,c=!0){this.delegate.insertBefore(e,t,o),this.engine.onInsert(this.namespaceId,t,e,c)}removeChild(e,t,o){this.engine.onRemove(this.namespaceId,t,this.delegate,o)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,o,c){this.delegate.setAttribute(e,t,o,c)}removeAttribute(e,t,o){this.delegate.removeAttribute(e,t,o)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,o,c){this.delegate.setStyle(e,t,o,c)}removeStyle(e,t,o){this.delegate.removeStyle(e,t,o)}setProperty(e,t,o){"@"==t.charAt(0)&&t==eM?this.disableAnimations(e,!!o):this.delegate.setProperty(e,t,o)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,o){return this.delegate.listen(e,t,o)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class nB extends tM{constructor(e,t,o,c){super(t,o,c),this.factory=e,this.namespaceId=t}setProperty(e,t,o){"@"==t.charAt(0)?"."==t.charAt(1)&&t==eM?this.disableAnimations(e,o=void 0===o||!!o):this.engine.process(this.namespaceId,e,t.substr(1),o):this.delegate.setProperty(e,t,o)}listen(e,t,o){if("@"==t.charAt(0)){const c=function rB(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(e);let h=t.substr(1),p="";return"@"!=h.charAt(0)&&([h,p]=function iB(i){const e=i.indexOf(".");return[i.substring(0,e),i.substr(e+1)]}(h)),this.engine.listen(this.namespaceId,c,h,p,m=>{this.factory.scheduleListenerCallback(m._data||-1,o,m)})}return this.delegate.listen(e,t,o)}}let oB=(()=>{class i extends Hb{constructor(t,o,c){super(t.body,o,c)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(t){return new(t||i)(ue(un),ue(uE),ue(bE))},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})();const Lv=new tt("AnimationModuleType"),nM=[{provide:aA,useClass:Zj},{provide:bE,useFactory:function aB(){return new hj}},{provide:Hb,useClass:oB},{provide:Ay,useFactory:function uB(i,e,t){return new tB(i,e,t)},deps:[rb,Hb,Pn]}],rM=[{provide:uE,useFactory:function sB(){return function Xj(){return"function"==typeof ZA()}()?new Qj:new YA}},{provide:Lv,useValue:"BrowserAnimations"},...nM],cB=[{provide:uE,useClass:yA},{provide:Lv,useValue:"NoopAnimations"},...nM];let lB=(()=>{class i{static withConfig(t){return{ngModule:i,providers:t.disableAnimations?cB:rM}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Hn({type:i}),i.\u0275inj=Le({providers:rM,imports:[OI]}),i})(),oM=(()=>{class i{}return i.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",i.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",i.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",i.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",i})(),sM=(()=>{class i{}return i.COMPLEX="375ms",i.ENTERING="225ms",i.EXITING="195ms",i})();const dB=new tt("mat-sanity-checks",{providedIn:"root",factory:function hB(){return!0}});let Uu=(()=>{class i{constructor(t,o,c){this._sanityChecks=o,this._document=c,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!K0()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return i.\u0275fac=function(t){return new(t||i)(ue(L2),ue(dB,8),ue(un))},i.\u0275mod=Hn({type:i}),i.\u0275inj=Le({imports:[[Jy],Jy]}),i})();function fB(i){return class extends i{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Q0(e)}}}function aM(i,e){return class extends i{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const o=t||this.defaultColor;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),o&&this._elementRef.nativeElement.classList.add(`mat-${o}`),this._color=o)}}}function pB(i){return class extends i{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Q0(e)}}}class mB{constructor(e,t,o){this._renderer=e,this.element=t,this.config=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const uM={enterDuration:225,exitDuration:150},ME=G0({passive:!0}),cM=["mousedown","touchstart"],lM=["mouseup","mouseleave","touchend","touchcancel"];class yB{constructor(e,t,o,c){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,c.isBrowser&&(this._containerElement=Ov(o))}fadeInRipple(e,t,o={}){const c=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),h=Object.assign(Object.assign({},uM),o.animation);o.centered&&(e=c.left+c.width/2,t=c.top+c.height/2);const p=o.radius||function bB(i,e,t){const o=Math.max(Math.abs(i-t.left),Math.abs(i-t.right)),c=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(o*o+c*c)}(e,t,c),m=e-c.left,_=t-c.top,E=h.enterDuration,S=document.createElement("div");S.classList.add("mat-ripple-element"),S.style.left=m-p+"px",S.style.top=_-p+"px",S.style.height=2*p+"px",S.style.width=2*p+"px",null!=o.color&&(S.style.backgroundColor=o.color),S.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(S),function _B(i){window.getComputedStyle(i).getPropertyValue("opacity")}(S),S.style.transform="scale(1)";const R=new mB(this,S,o);return R.state=0,this._activeRipples.add(R),o.persistent||(this._mostRecentTransientRipple=R),this._runTimeoutOutsideZone(()=>{const F=R===this._mostRecentTransientRipple;R.state=1,!o.persistent&&(!F||!this._isPointerDown)&&R.fadeOut()},E),R}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const o=e.element,c=Object.assign(Object.assign({},uM),e.config.animation);o.style.transitionDuration=`${c.exitDuration}ms`,o.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,o.remove()},c.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Ov(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(cM))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(lM),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=tA(e),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!o&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!nA(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let o=0;o<t.length;o++)this.fadeInRipple(t[o].clientX,t[o].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,ME)})})}_removeTriggerEvents(){this._triggerElement&&(cM.forEach(e=>{this._triggerElement.removeEventListener(e,this,ME)}),this._pointerUpEventsRegistered&&lM.forEach(e=>{this._triggerElement.removeEventListener(e,this,ME)}))}}const wB=new tt("mat-ripple-global-options");let hM=(()=>{class i{constructor(t,o,c,h,p){this._elementRef=t,this._animationMode=p,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=h||{},this._rippleRenderer=new yB(this,o,t,c)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,o=0,c){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,o,Object.assign(Object.assign({},this.rippleConfig),c)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return i.\u0275fac=function(t){return new(t||i)(Te(is),Te(Pn),Te(Nc),Te(wB,8),Te(Lv,8))},i.\u0275dir=qn({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,o){2&t&&ep("mat-ripple-unbounded",o.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),EB=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Hn({type:i}),i.\u0275inj=Le({imports:[[Uu,$T],Uu]}),i})();const CB=["mat-button",""],DB=["*"],IB=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],TB=aM(fB(pB(class{constructor(i){this._elementRef=i}})));let Wg=(()=>{class i extends TB{constructor(t,o,c){super(t),this._focusMonitor=o,this._animationMode=c,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const h of IB)this._hasHostAttributes(h)&&this._getHostElement().classList.add(h);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,o){t?this._focusMonitor.focusVia(this._getHostElement(),t,o):this._getHostElement().focus(o)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(o=>this._getHostElement().hasAttribute(o))}}return i.\u0275fac=function(t){return new(t||i)(Te(is),Te(iA),Te(Lv,8))},i.\u0275cmp=ar({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,o){if(1&t&&O_(hM,5),2&t){let c;vv(c=yv())&&(o.ripple=c.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,o){2&t&&(kg("disabled",o.disabled||null),ep("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-button-disabled",o.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Zf],attrs:CB,ngContentSelectors:DB,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,o){1&t&&(Ey(),De(0,"span",0),Jf(1),Se(),Ir(2,"span",1),Ir(3,"span",2)),2&t&&(an(2),ep("mat-button-ripple-round",o.isRoundButton||o.isIconButton),Fr("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",o.isIconButton)("matRippleTrigger",o._getHostElement()))},directives:[hM],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),i})(),AB=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Hn({type:i}),i.\u0275inj=Le({imports:[[EB,Uu],Uu]}),i})(),MB=(()=>{class i{constructor(t){this.router=t,this.auth=new op}ngOnInit(){var t;this.auth.isSignedIn()&&!(null===(t=this.auth.getAuth().currentUser)||void 0===t?void 0:t.emailVerified)?this.auth.sendVerificationEmail():this.router.navigate([""])}onResendClick(){this.auth.sendVerificationEmail()}}return i.\u0275fac=function(t){return new(t||i)(Te(ss))},i.\u0275cmp=ar({type:i,selectors:[["app-email-verification"]],decls:5,vars:0,consts:[["id","email-verification"],["mat-flat-button","",3,"click"]],template:function(t,o){1&t&&(De(0,"div",0),De(1,"h1"),Ct(2,"Your Email is Not Verified"),Se(),De(3,"button",1),Xr("click",function(){return o.onResendClick()}),Ct(4,"Resend Verification Email"),Se(),Se())},directives:[Wg],styles:["#email-verification[_ngcontent-%COMP%]{text-align:center;margin-top:8em}"]}),i})();const RE={now:()=>(RE.delegate||Date).now(),delegate:void 0};class RB extends We{constructor(e=1/0,t=1/0,o=RE){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:o,_infiniteTimeWindow:c,_timestampProvider:h,_windowTime:p}=this;t||(o.push(e),!c&&o.push(h.now()+p)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:o,_buffer:c}=this,h=c.slice();for(let p=0;p<h.length&&!e.closed;p+=o?1:2)e.next(h[p]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:o,_infiniteTimeWindow:c}=this,h=(c?1:2)*e;if(e<1/0&&h<o.length&&o.splice(0,o.length-h),!c){const p=t.now();let m=0;for(let _=1;_<o.length&&o[_]<=p;_+=2)m=_;m&&o.splice(0,m+1)}}}class kB extends We{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:t,_hasValue:o,_value:c,thrownError:h,isStopped:p,_isComplete:m}=this;t?e.error(h):(p||m)&&(o&&e.next(c),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:t,_isComplete:o}=this;o||(this._isComplete=!0,e&&super.next(t),super.complete())}}class dM{constructor(){}loadScript(e,t,o,c=null){if("undefined"!=typeof document&&!document.getElementById(e)){let h=document.createElement("script");h.async=!0,h.src=t,h.onload=o,c||(c=document.head),c.appendChild(h)}}}class $b{}let Gb=(()=>{class i extends dM{constructor(t,o={scope:"email"}){super(),this.clientId=t,this.initOptions=o}initialize(){return new Promise((t,o)=>{try{this.loadScript(i.PROVIDER_ID,"https://apis.google.com/js/platform.js",()=>{gapi.load("auth2",()=>{this.auth2=gapi.auth2.init(Object.assign(Object.assign({},this.initOptions),{client_id:this.clientId})),this.auth2.then(()=>{t()}).catch(c=>{o(c)})})})}catch(c){o(c)}})}getLoginStatus(t){const o=Object.assign(Object.assign({},this.initOptions),t);return new Promise((c,h)=>{if(this.auth2.isSignedIn.get()){let p=new $b;const m=this.auth2.currentUser.get().getBasicProfile(),_=this.auth2.currentUser.get().getAuthResponse(!0);p.id=m.getId(),p.name=m.getName(),p.email=m.getEmail(),p.photoUrl=m.getImageUrl(),p.firstName=m.getGivenName(),p.lastName=m.getFamilyName(),p.response=_;const E=S=>{p.authToken=S.access_token,p.idToken=S.id_token,c(p)};o.refreshToken?this.auth2.currentUser.get().reloadAuthResponse().then(E):E(this.auth2.currentUser.get().getAuthResponse(!0))}else h(`No user is currently logged in with ${i.PROVIDER_ID}`)})}signIn(t){const o=Object.assign(Object.assign({},this.initOptions),t);return new Promise((c,h)=>{(o&&o.offline_access?this.auth2.grantOfflineAccess(t):this.auth2.signIn(t)).then(_=>{let E=new $b;if(_&&_.code)E.authorizationCode=_.code;else{let S=this.auth2.currentUser.get().getBasicProfile(),R=this.auth2.currentUser.get().getAuthResponse(!0),F=R.access_token,j=R.id_token;E.id=S.getId(),E.name=S.getName(),E.email=S.getEmail(),E.photoUrl=S.getImageUrl(),E.firstName=S.getGivenName(),E.lastName=S.getFamilyName(),E.authToken=F,E.idToken=j,E.response=R}c(E)},_=>{h(_)}).catch(_=>{h(_)})})}signOut(t){return new Promise((o,c)=>{let h;h=t?this.auth2.disconnect():this.auth2.signOut(),h.then(p=>{p?c(p):o()}).catch(p=>{c(p)})})}}return i.PROVIDER_ID="GOOGLE",i})(),kE=(()=>{class i{constructor(t){this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new RB(1),this.initialized=!1,this._initState=new kB,t instanceof Promise?t.then(o=>{this.initialize(o)}):this.initialize(t)}get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}initialize(t){this.autoLogin=void 0!==t.autoLogin&&t.autoLogin;const{onError:o=console.error}=t;t.providers.forEach(c=>{this.providers.set(c.id,c.provider)}),Promise.all(Array.from(this.providers.values()).map(c=>c.initialize())).then(()=>{if(this.autoLogin){const c=[];let h=!1;this.providers.forEach((p,m)=>{let _=p.getLoginStatus();c.push(_),_.then(E=>{E.provider=m,this._user=E,this._authState.next(E),h=!0}).catch(console.debug)}),Promise.all(c).catch(()=>{h||(this._user=null,this._authState.next(null))})}}).catch(c=>{o(c)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}refreshAuthToken(t){return new Promise((o,c)=>{if(this.initialized)if(t!==Gb.PROVIDER_ID)c(i.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const h=this.providers.get(t);h?h.getLoginStatus({refreshToken:!0}).then(p=>{p.provider=t,this._user=p,this._authState.next(p),o()}).catch(p=>{c(p)}):c(i.ERR_LOGIN_PROVIDER_NOT_FOUND)}else c(i.ERR_NOT_INITIALIZED)})}signIn(t,o){return new Promise((c,h)=>{if(this.initialized){let p=this.providers.get(t);p?p.signIn(o).then(m=>{m.provider=t,c(m),this._user=m,this._authState.next(m)}).catch(m=>{h(m)}):h(i.ERR_LOGIN_PROVIDER_NOT_FOUND)}else h(i.ERR_NOT_INITIALIZED)})}signOut(t=!1){return new Promise((o,c)=>{if(this.initialized)if(this._user){let p=this.providers.get(this._user.provider);p?p.signOut(t).then(()=>{o(),this._user=null,this._authState.next(null)}).catch(m=>{c(m)}):c(i.ERR_LOGIN_PROVIDER_NOT_FOUND)}else c(i.ERR_NOT_LOGGED_IN);else c(i.ERR_NOT_INITIALIZED)})}}return i.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",i.ERR_NOT_LOGGED_IN="Not logged in",i.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",i.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",i.\u0275fac=function(t){return new(t||i)(ue("SocialAuthServiceConfig"))},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})(),OB=(()=>{class i{constructor(t){if(t)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}static initialize(t){return{ngModule:i,providers:[kE,{provide:"SocialAuthServiceConfig",useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)(ue(i,12))},i.\u0275mod=Hn({type:i}),i.\u0275inj=Le({providers:[kE],imports:[[_I]]}),i})(),OE=(()=>{class i extends dM{constructor(t,o={}){super(),this.clientId=t,this.requestOptions={scope:"email,public_profile",locale:"en_US",fields:"name,email,picture,first_name,last_name",version:"v10.0"},this.requestOptions=Object.assign(Object.assign({},this.requestOptions),o)}initialize(){return new Promise((t,o)=>{try{this.loadScript(i.PROVIDER_ID,`//connect.facebook.net/${this.requestOptions.locale}/sdk.js`,()=>{FB.init({appId:this.clientId,autoLogAppEvents:!0,cookie:!0,xfbml:!0,version:this.requestOptions.version}),t()})}catch(c){o(c)}})}getLoginStatus(){return new Promise((t,o)=>{FB.getLoginStatus(c=>{if("connected"===c.status){let h=c.authResponse;FB.api(`/me?fields=${this.requestOptions.fields}`,p=>{let m=new $b;m.id=p.id,m.name=p.name,m.email=p.email,m.photoUrl="https://graph.facebook.com/"+p.id+"/picture?type=normal&access_token="+h.accessToken,m.firstName=p.first_name,m.lastName=p.last_name,m.authToken=h.accessToken,m.response=p,t(m)})}else o(`No user is currently logged in with ${i.PROVIDER_ID}`)})})}signIn(t){const o=Object.assign(Object.assign({},this.requestOptions),t);return new Promise((c,h)=>{FB.login(p=>{if(p.authResponse){let m=p.authResponse;FB.api(`/me?fields=${o.fields}`,_=>{let E=new $b;E.id=_.id,E.name=_.name,E.email=_.email,E.photoUrl="https://graph.facebook.com/"+_.id+"/picture?type=normal",E.firstName=_.first_name,E.lastName=_.last_name,E.authToken=m.accessToken,E.response=_,c(E)})}else h("User cancelled login or did not fully authorize.")},o)})}signOut(){return new Promise((t,o)=>{FB.logout(c=>{t()})})}}return i.PROVIDER_ID="FACEBOOK",i})();const xB=["addListener","removeListener"],PB=["addEventListener","removeEventListener"],NB=["on","off"];function xE(i,e,t,o){if(ge(t)&&(o=t,t=void 0),o)return xE(i,e,t).pipe(w0(o));const[c,h]=function BB(i){return ge(i.addEventListener)&&ge(i.removeEventListener)}(i)?PB.map(p=>m=>i[p](e,m,t)):function LB(i){return ge(i.addListener)&&ge(i.removeListener)}(i)?xB.map(fM(i,e)):function jB(i){return ge(i.on)&&ge(i.off)}(i)?NB.map(fM(i,e)):[];if(!c&&Lo(i))return Bn(p=>xE(p,e,t))(K(i));if(!c)throw new TypeError("Invalid event target");return new he(p=>{const m=(..._)=>p.next(1<_.length?_:_[0]);return c(m),()=>h(m)})}function fM(i,e){return t=>o=>i[t](e,o)}class VB extends Tt{constructor(e,t){super()}schedule(e,t=0){return this}}const Wb={setInterval(...i){const{delegate:e}=Wb;return((null==e?void 0:e.setInterval)||setInterval)(...i)},clearInterval(i){const{delegate:e}=Wb;return((null==e?void 0:e.clearInterval)||clearInterval)(i)},delegate:void 0};class PE extends VB{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const o=this.id,c=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(c,o,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(c,this.id,t),this}requestAsyncId(e,t,o=0){return Wb.setInterval(e.flush.bind(e,this),o)}recycleAsyncId(e,t,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return t;Wb.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(e,t);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let c,o=!1;try{this.work(e)}catch(h){o=!0,c=h||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),c}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:o}=t;this.work=this.state=this.scheduler=null,this.pending=!1,it(o,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const o_={schedule(i){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:o}=o_;o&&(e=o.requestAnimationFrame,t=o.cancelAnimationFrame);const c=e(h=>{t=void 0,i(h)});return new Tt(()=>null==t?void 0:t(c))},requestAnimationFrame(...i){const{delegate:e}=o_;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:e}=o_;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...i)},delegate:void 0};class s_{constructor(e,t=s_.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,o){return new this.schedulerActionCtor(this,e).schedule(o,t)}}s_.now=RE.now;class NE extends s_{constructor(e,t=s_.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let o;this._active=!0;do{if(o=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,o){for(;e=t.shift();)e.unsubscribe();throw o}}}new class HB extends NE{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let o,c=-1;e=e||t.shift();const h=t.length;do{if(o=e.execute(e.state,e.delay))break}while(++c<h&&(e=t.shift()));if(this._active=!1,o){for(;++c<h&&(e=t.shift());)e.unsubscribe();throw o}}}(class UB extends PE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,o=0){return null!==o&&o>0?super.requestAsyncId(e,t,o):(e.actions.push(this),e._scheduled||(e._scheduled=o_.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,o=0){if(null!=o&&o>0||null==o&&this.delay>0)return super.recycleAsyncId(e,t,o);0===e.actions.length&&(o_.cancelAnimationFrame(t),e._scheduled=void 0)}});let FE,zB=1;const Kb={};function pM(i){return i in Kb&&(delete Kb[i],!0)}const $B={setImmediate(i){const e=zB++;return Kb[e]=!0,FE||(FE=Promise.resolve()),FE.then(()=>pM(e)&&i()),e},clearImmediate(i){pM(i)}},{setImmediate:GB,clearImmediate:WB}=$B,Yb={setImmediate(...i){const{delegate:e}=Yb;return((null==e?void 0:e.setImmediate)||GB)(...i)},clearImmediate(i){const{delegate:e}=Yb;return((null==e?void 0:e.clearImmediate)||WB)(i)},delegate:void 0},gM=(new class YB extends NE{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let o,c=-1;e=e||t.shift();const h=t.length;do{if(o=e.execute(e.state,e.delay))break}while(++c<h&&(e=t.shift()));if(this._active=!1,o){for(;++c<h&&(e=t.shift());)e.unsubscribe();throw o}}}(class KB extends PE{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,o=0){return null!==o&&o>0?super.requestAsyncId(e,t,o):(e.actions.push(this),e._scheduled||(e._scheduled=Yb.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,o=0){if(null!=o&&o>0||null==o&&this.delay>0)return super.recycleAsyncId(e,t,o);0===e.actions.length&&(Yb.clearImmediate(t),e._scheduled=void 0)}}),new NE(PE)),mM=gM;function vM(i,e=mM){return function XB(i){return Ue((e,t)=>{let o=!1,c=null,h=null,p=!1;const m=()=>{if(null==h||h.unsubscribe(),h=null,o){o=!1;const E=c;c=null,t.next(E)}p&&t.complete()},_=()=>{h=null,p&&t.complete()};e.subscribe(new Ee(t,E=>{o=!0,c=E,h||K(i(E)).subscribe(h=new Ee(t,m,_))},()=>{p=!0,(!o||!h||h.closed)&&t.complete()}))})}(()=>function JB(i=0,e,t=mM){let o=-1;return null!=e&&(Fs(e)?t=e:o=e),new he(c=>{let h=function ZB(i){return i instanceof Date&&!isNaN(i)}(i)?+i-t.now():i;h<0&&(h=0);let p=0;return t.schedule(function(){c.closed||(c.next(p++),0<=o?this.schedule(void 0,o):c.complete())},h)})}(i,e))}let tV=(()=>{class i{constructor(t,o,c){this._ngZone=t,this._platform=o,this._scrolled=new We,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=c}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const o=this.scrollContainers.get(t);o&&(o.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new he(o=>{this._globalSubscription||this._addGlobalListener();const c=t>0?this._scrolled.pipe(vM(t)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{c.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):wt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(t,o){const c=this.getAncestorScrollContainers(t);return this.scrolled(o).pipe(Oo(h=>!h||c.indexOf(h)>-1))}getAncestorScrollContainers(t){const o=[];return this.scrollContainers.forEach((c,h)=>{this._scrollableContainsElement(h,t)&&o.push(h)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,o){let c=Ov(o),h=t.getElementRef().nativeElement;do{if(c==h)return!0}while(c=c.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>xE(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(t){return new(t||i)(ue(Pn),ue(Nc),ue(un,8))},i.\u0275prov=He({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),yM=(()=>{class i{constructor(t,o,c){this._platform=t,this._change=new We,this._changeListener=h=>{this._change.next(h)},this._document=c,o.runOutsideAngular(()=>{if(t.isBrowser){const h=this._getWindow();h.addEventListener("resize",this._changeListener),h.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:o,height:c}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+c,right:t.left+o,height:c,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,o=this._getWindow(),c=t.documentElement,h=c.getBoundingClientRect();return{top:-h.top||t.body.scrollTop||o.scrollY||c.scrollTop||0,left:-h.left||t.body.scrollLeft||o.scrollX||c.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(vM(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(t){return new(t||i)(ue(Nc),ue(Pn),ue(un,8))},i.\u0275prov=He({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),_M=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Hn({type:i}),i.\u0275inj=Le({}),i})(),bM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Hn({type:i}),i.\u0275inj=Le({imports:[[Jy,$T,_M],Jy,_M]}),i})();class LE{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class a_ extends LE{constructor(e,t,o,c){super(),this.component=e,this.viewContainerRef=t,this.injector=o,this.componentFactoryResolver=c}}class jE extends LE{constructor(e,t,o){super(),this.templateRef=e,this.viewContainerRef=t,this.context=o}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class rV extends LE{constructor(e){super(),this.element=e instanceof is?e.nativeElement:e}}class Qb{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof a_?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof jE?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof rV?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class iV extends Qb{constructor(e,t,o,c,h){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=o,this._defaultInjector=c,this.attachDomPortal=p=>{const m=p.element,_=this._document.createComment("dom-portal");m.parentNode.insertBefore(_,m),this.outletElement.appendChild(m),this._attachedPortal=p,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(m,_)})},this._document=h}attachComponentPortal(e){const o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let c;return e.viewContainerRef?(c=e.viewContainerRef.createComponent(o,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>c.destroy())):(c=o.create(e.injector||this._defaultInjector),this._appRef.attachView(c.hostView),this.setDisposeFn(()=>{this._appRef.detachView(c.hostView),c.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(c)),this._attachedPortal=e,c}attachTemplatePortal(e){let t=e.viewContainerRef,o=t.createEmbeddedView(e.templateRef,e.context);return o.rootNodes.forEach(c=>this.outletElement.appendChild(c)),o.detectChanges(),this.setDisposeFn(()=>{let c=t.indexOf(o);-1!==c&&t.remove(c)}),this._attachedPortal=e,o}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Xb=(()=>{class i extends Qb{constructor(t,o,c){super(),this._componentFactoryResolver=t,this._viewContainerRef=o,this._isInitialized=!1,this.attached=new Zi,this.attachDomPortal=h=>{const p=h.element,m=this._document.createComment("dom-portal");h.setAttachedHost(this),p.parentNode.insertBefore(m,p),this._getRootNode().appendChild(p),this._attachedPortal=h,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(p,m)})},this._document=c}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const o=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,h=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),p=o.createComponent(h,o.length,t.injector||o.injector);return o!==this._viewContainerRef&&this._getRootNode().appendChild(p.hostView.rootNodes[0]),super.setDisposeFn(()=>p.destroy()),this._attachedPortal=t,this._attachedRef=p,this.attached.emit(p),p}attachTemplatePortal(t){t.setAttachedHost(this);const o=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return i.\u0275fac=function(t){return new(t||i)(Te(tp),Te(Pu),Te(un))},i.\u0275dir=qn({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Zf]}),i})(),BE=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Hn({type:i}),i.\u0275inj=Le({}),i})();const wM=u2();class oV{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ni(-this._previousScrollPosition.left),e.style.top=Ni(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,o=e.style,c=this._document.body.style,h=o.scrollBehavior||"",p=c.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),wM&&(o.scrollBehavior=c.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),wM&&(o.scrollBehavior=h,c.scrollBehavior=p)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,o=this._viewportRuler.getViewportSize();return t.scrollHeight>o.height||t.scrollWidth>o.width}}class sV{constructor(e,t,o,c){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=o,this._config=c,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class EM{enable(){}disable(){}attach(){}}function VE(i,e){return e.some(t=>i.bottom<t.top||i.top>t.bottom||i.right<t.left||i.left>t.right)}function CM(i,e){return e.some(t=>i.top<t.top||i.bottom>t.bottom||i.left<t.left||i.right>t.right)}class aV{constructor(e,t,o,c){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=o,this._config=c,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:c}=this._viewportRuler.getViewportSize();VE(t,[{width:o,height:c,bottom:c,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let uV=(()=>{class i{constructor(t,o,c,h){this._scrollDispatcher=t,this._viewportRuler=o,this._ngZone=c,this.noop=()=>new EM,this.close=p=>new sV(this._scrollDispatcher,this._ngZone,this._viewportRuler,p),this.block=()=>new oV(this._viewportRuler,this._document),this.reposition=p=>new aV(this._scrollDispatcher,this._viewportRuler,this._ngZone,p),this._document=h}}return i.\u0275fac=function(t){return new(t||i)(ue(tV),ue(yM),ue(Pn),ue(un))},i.\u0275prov=He({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class UE{constructor(e){if(this.scrollStrategy=new EM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const o of t)void 0!==e[o]&&(this[o]=e[o])}}}class cV{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class lV{constructor(e,t,o,c,h,p,m,_,E){this._portalOutlet=e,this._host=t,this._pane=o,this._config=c,this._ngZone=h,this._keyboardDispatcher=p,this._document=m,this._location=_,this._outsideClickDispatcher=E,this._backdropElement=null,this._backdropClick=new We,this._attachments=new We,this._detachments=new We,this._locationChanges=Tt.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._keydownEvents=new We,this._outsidePointerEvents=new We,c.scrollStrategy&&(this._scrollStrategy=c.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=c.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Rr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ni(this._config.width),e.height=Ni(this._config.height),e.minWidth=Ni(this._config.minWidth),e.minHeight=Ni(this._config.minHeight),e.maxWidth=Ni(this._config.maxWidth),e.maxHeight=Ni(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const o=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",o),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",o)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(o,500))}_toggleClasses(e,t,o){const c=t_(t||[]).filter(h=>!!h);c.length&&(o?e.classList.add(...c):e.classList.remove(...c))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Y0(Qa(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}let HE=(()=>{class i{constructor(t,o){this._platform=o,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||K0()){const c=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let h=0;h<c.length;h++)c[h].remove()}const o=this._document.createElement("div");o.classList.add(t),K0()?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}}return i.\u0275fac=function(t){return new(t||i)(ue(un),ue(Nc))},i.\u0275prov=He({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const DM="cdk-overlay-connected-position-bounding-box",hV=/([A-Za-z%]+)$/;class dV{constructor(e,t,o,c,h){this._viewportRuler=t,this._document=o,this._platform=c,this._overlayContainer=h,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new We,this._resizeSubscription=Tt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(DM),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,o=this._viewportRect,c=this._containerRect,h=[];let p;for(let m of this._preferredPositions){let _=this._getOriginPoint(e,c,m),E=this._getOverlayPoint(_,t,m),S=this._getOverlayFit(E,t,o,m);if(S.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,_);this._canFitWithFlexibleDimensions(S,E,o)?h.push({position:m,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,m)}):(!p||p.overlayFit.visibleArea<S.visibleArea)&&(p={overlayFit:S,overlayPoint:E,originPoint:_,position:m,overlayRect:t})}if(h.length){let m=null,_=-1;for(const E of h){const S=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);S>_&&(_=S,m=E)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(p.position,p.originPoint);this._applyPosition(p.position,p.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Kg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(DM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,o){let c,h;if("center"==o.originX)c=e.left+e.width/2;else{const p=this._isRtl()?e.right:e.left,m=this._isRtl()?e.left:e.right;c="start"==o.originX?p:m}return t.left<0&&(c-=t.left),h="center"==o.originY?e.top+e.height/2:"top"==o.originY?e.top:e.bottom,t.top<0&&(h-=t.top),{x:c,y:h}}_getOverlayPoint(e,t,o){let c,h;return c="center"==o.overlayX?-t.width/2:"start"===o.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,h="center"==o.overlayY?-t.height/2:"top"==o.overlayY?0:-t.height,{x:e.x+c,y:e.y+h}}_getOverlayFit(e,t,o,c){const h=IM(t);let{x:p,y:m}=e,_=this._getOffset(c,"x"),E=this._getOffset(c,"y");_&&(p+=_),E&&(m+=E);let F=0-m,j=m+h.height-o.height,z=this._subtractOverflows(h.width,0-p,p+h.width-o.width),X=this._subtractOverflows(h.height,F,j),ae=z*X;return{visibleArea:ae,isCompletelyWithinViewport:h.width*h.height===ae,fitsInViewportVertically:X===h.height,fitsInViewportHorizontally:z==h.width}}_canFitWithFlexibleDimensions(e,t,o){if(this._hasFlexibleDimensions){const c=o.bottom-t.y,h=o.right-t.x,p=SM(this._overlayRef.getConfig().minHeight),m=SM(this._overlayRef.getConfig().minWidth),E=e.fitsInViewportHorizontally||null!=m&&m<=h;return(e.fitsInViewportVertically||null!=p&&p<=c)&&E}return!1}_pushOverlayOnScreen(e,t,o){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const c=IM(t),h=this._viewportRect,p=Math.max(e.x+c.width-h.width,0),m=Math.max(e.y+c.height-h.height,0),_=Math.max(h.top-o.top-e.y,0),E=Math.max(h.left-o.left-e.x,0);let S=0,R=0;return S=c.width<=h.width?E||-p:e.x<this._viewportMargin?h.left-o.left-e.x:0,R=c.height<=h.height?_||-m:e.y<this._viewportMargin?h.top-o.top-e.y:0,this._previousPushAmount={x:S,y:R},{x:e.x+S,y:e.y+R}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const o=this._getScrollVisibility(),c=new cV(e,o);this._positionChanges.next(c)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let o,c=e.overlayY;o="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let h=0;h<t.length;h++)t[h].style.transformOrigin=`${o} ${c}`}_calculateBoundingBoxRect(e,t){const o=this._viewportRect,c=this._isRtl();let h,p,m,S,R,F;if("top"===t.overlayY)p=e.y,h=o.height-p+this._viewportMargin;else if("bottom"===t.overlayY)m=o.height-e.y+2*this._viewportMargin,h=o.height-m+this._viewportMargin;else{const j=Math.min(o.bottom-e.y+o.top,e.y),z=this._lastBoundingBoxSize.height;h=2*j,p=e.y-j,h>z&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.y-z/2)}if("end"===t.overlayX&&!c||"start"===t.overlayX&&c)F=o.width-e.x+this._viewportMargin,S=e.x-this._viewportMargin;else if("start"===t.overlayX&&!c||"end"===t.overlayX&&c)R=e.x,S=o.right-e.x;else{const j=Math.min(o.right-e.x+o.left,e.x),z=this._lastBoundingBoxSize.width;S=2*j,R=e.x-j,S>z&&!this._isInitialRender&&!this._growAfterOpen&&(R=e.x-z/2)}return{top:p,left:R,bottom:m,right:F,width:S,height:h}}_setBoundingBoxStyles(e,t){const o=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));const c={};if(this._hasExactPosition())c.top=c.left="0",c.bottom=c.right=c.maxHeight=c.maxWidth="",c.width=c.height="100%";else{const h=this._overlayRef.getConfig().maxHeight,p=this._overlayRef.getConfig().maxWidth;c.height=Ni(o.height),c.top=Ni(o.top),c.bottom=Ni(o.bottom),c.width=Ni(o.width),c.left=Ni(o.left),c.right=Ni(o.right),c.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",c.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",h&&(c.maxHeight=Ni(h)),p&&(c.maxWidth=Ni(p))}this._lastBoundingBoxSize=o,Kg(this._boundingBox.style,c)}_resetBoundingBoxStyles(){Kg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Kg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const o={},c=this._hasExactPosition(),h=this._hasFlexibleDimensions,p=this._overlayRef.getConfig();if(c){const S=this._viewportRuler.getViewportScrollPosition();Kg(o,this._getExactOverlayY(t,e,S)),Kg(o,this._getExactOverlayX(t,e,S))}else o.position="static";let m="",_=this._getOffset(t,"x"),E=this._getOffset(t,"y");_&&(m+=`translateX(${_}px) `),E&&(m+=`translateY(${E}px)`),o.transform=m.trim(),p.maxHeight&&(c?o.maxHeight=Ni(p.maxHeight):h&&(o.maxHeight="")),p.maxWidth&&(c?o.maxWidth=Ni(p.maxWidth):h&&(o.maxWidth="")),Kg(this._pane.style,o)}_getExactOverlayY(e,t,o){let c={top:"",bottom:""},h=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(h=this._pushOverlayOnScreen(h,this._overlayRect,o)),"bottom"===e.overlayY?c.bottom=this._document.documentElement.clientHeight-(h.y+this._overlayRect.height)+"px":c.top=Ni(h.y),c}_getExactOverlayX(e,t,o){let p,c={left:"",right:""},h=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(h=this._pushOverlayOnScreen(h,this._overlayRect,o)),p=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===p?c.right=this._document.documentElement.clientWidth-(h.x+this._overlayRect.width)+"px":c.left=Ni(h.x),c}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),o=this._scrollables.map(c=>c.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:CM(e,o),isOriginOutsideView:VE(e,o),isOverlayClipped:CM(t,o),isOverlayOutsideView:VE(t,o)}}_subtractOverflows(e,...t){return t.reduce((o,c)=>o-Math.max(c,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+e-this._viewportMargin,bottom:o.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&t_(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof is)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,o=e.height||0;return{top:e.y,bottom:e.y+o,left:e.x,right:e.x+t,height:o,width:t}}}function Kg(i,e){for(let t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function SM(i){if("number"!=typeof i&&null!=i){const[e,t]=i.split(hV);return t&&"px"!==t?null:parseFloat(e)}return i||null}function IM(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const TM="cdk-global-overlay-wrapper";class fV{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(TM),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:c,height:h,maxWidth:p,maxHeight:m}=o,_=!("100%"!==c&&"100vw"!==c||p&&"100%"!==p&&"100vw"!==p),E=!("100%"!==h&&"100vh"!==h||m&&"100%"!==m&&"100vh"!==m);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=E?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,o=t.style;t.classList.remove(TM),o.justifyContent=o.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let pV=(()=>{class i{constructor(t,o,c,h){this._viewportRuler=t,this._document=o,this._platform=c,this._overlayContainer=h}global(){return new fV}flexibleConnectedTo(t){return new dV(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(t){return new(t||i)(ue(yM),ue(un),ue(Nc),ue(HE))},i.\u0275prov=He({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),AM=(()=>{class i{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const o=this._attachedOverlays.indexOf(t);o>-1&&this._attachedOverlays.splice(o,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(t){return new(t||i)(ue(un))},i.\u0275prov=He({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),gV=(()=>{class i extends AM{constructor(t){super(t),this._keydownListener=o=>{const c=this._attachedOverlays;for(let h=c.length-1;h>-1;h--)if(c[h]._keydownEvents.observers.length>0){c[h]._keydownEvents.next(o);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(t){return new(t||i)(ue(un))},i.\u0275prov=He({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),mV=(()=>{class i extends AM{constructor(t,o){super(t),this._platform=o,this._cursorStyleIsSet=!1,this._pointerDownListener=c=>{this._pointerDownEventTarget=Hg(c)},this._clickListener=c=>{const h=Hg(c),p="click"===c.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:h;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let _=m.length-1;_>-1;_--){const E=m[_];if(!(E._outsidePointerEvents.observers.length<1)&&E.hasAttached()){if(E.overlayElement.contains(h)||E.overlayElement.contains(p))break;E._outsidePointerEvents.next(c)}}}}add(t){if(super.add(t),!this._isAttached){const o=this._document.body;o.addEventListener("pointerdown",this._pointerDownListener,!0),o.addEventListener("click",this._clickListener,!0),o.addEventListener("auxclick",this._clickListener,!0),o.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return i.\u0275fac=function(t){return new(t||i)(ue(un),ue(Nc))},i.\u0275prov=He({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),vV=0,u_=(()=>{class i{constructor(t,o,c,h,p,m,_,E,S,R,F){this.scrollStrategies=t,this._overlayContainer=o,this._componentFactoryResolver=c,this._positionBuilder=h,this._keyboardDispatcher=p,this._injector=m,this._ngZone=_,this._document=E,this._directionality=S,this._location=R,this._outsideClickDispatcher=F}create(t){const o=this._createHostElement(),c=this._createPaneElement(o),h=this._createPortalOutlet(c),p=new UE(t);return p.direction=p.direction||this._directionality.value,new lV(h,o,c,p,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const o=this._document.createElement("div");return o.id="cdk-overlay-"+vV++,o.classList.add("cdk-overlay-pane"),t.appendChild(o),o}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(wv)),new iV(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(t){return new(t||i)(ue(uV),ue(HE),ue(tp),ue(pV),ue(gV),ue(re),ue(Pn),ue(un),ue(Zy),ue(Fy),ue(mV))},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})();const bV={provide:new tt("cdk-connected-overlay-scroll-strategy"),deps:[u_],useFactory:function _V(i){return()=>i.scrollStrategies.reposition()}};let MM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Hn({type:i}),i.\u0275inj=Le({providers:[u_,bV],imports:[[Jy,BE,bM],bM]}),i})();const RM=new Set;let jv,EV=(()=>{class i{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):DV}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function CV(i){if(!RM.has(i))try{jv||(jv=document.createElement("style"),jv.setAttribute("type","text/css"),document.head.appendChild(jv)),jv.sheet&&(jv.sheet.insertRule(`@media ${i} {body{ }}`,0),RM.add(i))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return i.\u0275fac=function(t){return new(t||i)(ue(Nc))},i.\u0275prov=He({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function DV(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let SV=(()=>{class i{constructor(t,o){this._mediaMatcher=t,this._zone=o,this._queries=new Map,this._destroySubject=new We}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return kM(t_(t)).some(c=>this._registerQuery(c).mql.matches)}observe(t){let h=jI(kM(t_(t)).map(p=>this._registerQuery(p).observable));return h=ob(h.pipe(Rr(1)),h.pipe(YT(1),function wV(i,e=gM){return Ue((t,o)=>{let c=null,h=null,p=null;const m=()=>{if(c){c.unsubscribe(),c=null;const E=h;h=null,o.next(E)}};function _(){const E=p+i,S=e.now();if(S<E)return c=this.schedule(void 0,E-S),void o.add(c);m()}t.subscribe(new Ee(o,E=>{h=E,p=e.now(),c||(c=e.schedule(_,i),o.add(c))},()=>{m(),o.complete()},void 0,()=>{h=c=null}))})}(0))),h.pipe(Fe(p=>{const m={matches:!1,breakpoints:{}};return p.forEach(({matches:_,query:E})=>{m.matches=m.matches||_,m.breakpoints[E]=_}),m}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const o=this._mediaMatcher.matchMedia(t),h={observable:new he(p=>{const m=_=>this._zone.run(()=>p.next(_));return o.addListener(m),()=>{o.removeListener(m)}}).pipe(C0(o),Fe(({matches:p})=>({query:t,matches:p})),Y0(this._destroySubject)),mql:o};return this._queries.set(t,h),h}}return i.\u0275fac=function(t){return new(t||i)(ue(EV),ue(Pn))},i.\u0275prov=He({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function kM(i){return i.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const Bv_Medium="(min-width: 960px) and (max-width: 1279.98px)",Bv_Large="(min-width: 1280px) and (max-width: 1919.98px)";function IV(i,e){}const TV={bottomSheetState:uA("state",[Ib("void, hidden",sp({transform:"translateY(100%)"})),Ib("visible",sp({transform:"translateY(0%)"})),Tb("visible => void, visible => hidden",Sb(`${sM.COMPLEX} ${oM.ACCELERATION_CURVE}`)),Tb("void => visible",Sb(`${sM.EXITING} ${oM.DECELERATION_CURVE}`))])},AV=new tt("MatBottomSheetData");class qE{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}let MV=(()=>{class i extends Qb{constructor(t,o,c,h,p,m,_,E){super(),this._elementRef=t,this._changeDetectorRef=o,this._focusTrapFactory=c,this._interactivityChecker=h,this._ngZone=p,this.bottomSheetConfig=E,this._animationState="void",this._animationStateChanged=new Zi,this._elementFocusedBeforeOpened=null,this.attachDomPortal=S=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(S)),this._document=_,this._breakpointSubscription=m.observe([Bv_Medium,Bv_Large,"(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",m.isMatched(Bv_Medium)),this._toggleClass("mat-bottom-sheet-container-large",m.isMatched(Bv_Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",m.isMatched("(min-width: 1920px)"))})}attachComponentPortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"hidden"===t.toState?this._restoreFocus():"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_toggleClass(t,o){this._elementRef.nativeElement.classList.toggle(t,o)}_validatePortalAttached(){this._portalOutlet.hasAttached()}_setPanelClass(){this._elementRef.nativeElement.classList.add(...t_(this.bottomSheetConfig.panelClass||[]))}_forceFocus(t,o){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(o)}_focusByCssSelector(t,o){let c=this._elementRef.nativeElement.querySelector(t);c&&this._forceFocus(c,o)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this.bottomSheetConfig.autoFocus){case!1:case"dialog":const o=kv();o!==t&&!t.contains(o)&&t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.bottomSheetConfig.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&t&&"function"==typeof t.focus){const o=kv(),c=this._elementRef.nativeElement;(!o||o===this._document.body||o===c||c.contains(o))&&t.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=kv(),this._elementRef.nativeElement.focus&&this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>this._elementRef.nativeElement.focus())})}}return i.\u0275fac=function(t){return new(t||i)(Te(is),Te(Py),Te(eA),Te(X0),Te(Pn),Te(SV),Te(un,8),Te(qE))},i.\u0275cmp=ar({type:i,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(t,o){if(1&t&&O_(Xb,7),2&t){let c;vv(c=yv())&&(o._portalOutlet=c.first)}},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(t,o){1&t&&w_("@state.start",function(h){return o._onAnimationStart(h)})("@state.done",function(h){return o._onAnimationDone(h)}),2&t&&(kg("aria-label",null==o.bottomSheetConfig?null:o.bottomSheetConfig.ariaLabel),C_("@state",o._animationState))},features:[Zf],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,o){1&t&&ko(0,IV,0,0,"ng-template",0)},directives:[Xb],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[TV.bottomSheetState]}}),i})(),OM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Hn({type:i}),i.\u0275inj=Le({imports:[[MM,Uu,BE],Uu]}),i})();class zE{constructor(e,t){this._overlayRef=t,this._afterDismissed=new We,this._afterOpened=new We,this.containerInstance=e,this.disableClose=e.bottomSheetConfig.disableClose,e._animationStateChanged.pipe(Oo(o=>"done"===o.phaseName&&"visible"===o.toState),Rr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Oo(o=>"done"===o.phaseName&&"hidden"===o.toState),Rr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),t.dispose()}),t.detachments().pipe(Rr(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),Qa(t.backdropClick(),t.keydownEvents().pipe(Oo(o=>27===o.keyCode))).subscribe(o=>{!this.disableClose&&("keydown"!==o.type||!KT(o))&&(o.preventDefault(),this.dismiss())})}dismiss(e){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe(Oo(t=>"start"===t.phaseName),Rr(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},t.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=e,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed}afterOpened(){return this._afterOpened}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const RV=new tt("mat-bottom-sheet-default-options");let xM=(()=>{class i{constructor(t,o,c,h){this._overlay=t,this._injector=o,this._parentBottomSheet=c,this._defaultOptions=h,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}open(t,o){const c=function kV(i,e){return Object.assign(Object.assign({},i),e)}(this._defaultOptions||new qE,o),h=this._createOverlay(c),p=this._attachContainer(h,c),m=new zE(p,h);if(t instanceof kc)p.attachTemplatePortal(new jE(t,null,{$implicit:c.data,bottomSheetRef:m}));else{const _=new a_(t,void 0,this._createInjector(c,m)),E=p.attachComponentPortal(_);m.instance=E.instance}return m.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==m&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>m.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):m.containerInstance.enter(),this._openedBottomSheetRef=m,m}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(t,o){const h=re.create({parent:o&&o.viewContainerRef&&o.viewContainerRef.injector||this._injector,providers:[{provide:qE,useValue:o}]}),p=new a_(MV,o.viewContainerRef,h);return t.attach(p).instance}_createOverlay(t){const o=new UE({direction:t.direction,hasBackdrop:t.hasBackdrop,disposeOnNavigation:t.closeOnNavigation,maxWidth:"100%",scrollStrategy:t.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return t.backdropClass&&(o.backdropClass=t.backdropClass),this._overlay.create(o)}_createInjector(t,o){const c=t&&t.viewContainerRef&&t.viewContainerRef.injector,h=[{provide:zE,useValue:o},{provide:AV,useValue:t.data}];return t.direction&&(!c||!c.get(Zy,null,de.Optional))&&h.push({provide:Zy,useValue:{value:t.direction,change:wt()}}),re.create({parent:c||this._injector,providers:h})}}return i.\u0275fac=function(t){return new(t||i)(ue(u_),ue(re),ue(i,12),ue(RV,8))},i.\u0275prov=He({token:i,factory:i.\u0275fac,providedIn:OM}),i})();const OV=["*",[["mat-card-footer"]]],xV=["*","mat-card-footer"],PV=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],NV=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let FV=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=qn({type:i,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),i})(),$E=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=qn({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),i})(),LV=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=qn({type:i,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),i})(),GE=(()=>{class i{constructor(){this.align="start"}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=qn({type:i,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,o){2&t&&ep("mat-card-actions-align-end","end"===o.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),i})(),jV=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=qn({type:i,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),i})(),WE=(()=>{class i{constructor(t){this._animationMode=t}}return i.\u0275fac=function(t){return new(t||i)(Te(Lv,8))},i.\u0275cmp=ar({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,o){2&t&&ep("_mat-animation-noopable","NoopAnimations"===o._animationMode)},exportAs:["matCard"],ngContentSelectors:xV,decls:2,vars:0,template:function(t,o){1&t&&(Ey(OV),Jf(0),Jf(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),i})(),KE=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=ar({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:NV,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,o){1&t&&(Ey(PV),Jf(0),De(1,"div",0),Jf(2,1),Se(),Jf(3,2))},encapsulation:2,changeDetection:0}),i})(),BV=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Hn({type:i}),i.\u0275inj=Le({imports:[[Uu],Uu]}),i})();function VV(i,e){if(1&i){const t=Ol();De(0,"div"),Ir(1,"input",6,7),Ir(3,"input",8,9),De(5,"button",10),Xr("click",function(){Ai(t);const c=Rs(2),h=Rs(4);return xl().login(c,h)}),Ct(6,"Login"),Se(),Se()}}function UV(i,e){if(1&i){const t=Ol();De(0,"div"),Ir(1,"input",6,11),Ir(3,"input",8,12),Ir(5,"input",13,14),De(7,"button",10),Xr("click",function(){Ai(t);const c=Rs(2),h=Rs(4),p=Rs(6);return xl().register(c,h,p)}),Ct(8,"Register"),Se(),Se()}}function HV(i,e){if(1&i){const t=Ol();De(0,"div"),Ir(1,"input",6,15),De(3,"button",10),Xr("click",function(){Ai(t);const c=Rs(2);return xl().reset(c)}),Ct(4,"Reset"),Se(),Se()}}function qV(i,e){if(1&i){const t=Ol();De(0,"div",16),De(1,"p"),Ct(2,"Login with social media"),Se(),De(3,"p"),De(4,"button",17),Xr("click",function(){return Ai(t),xl().signInWithFB()}),Ct(5,"Facebook"),Se(),De(6,"button",18),Ct(7,"linkedIn"),Se(),De(8,"button",19),Xr("click",function(){return Ai(t),xl().signInWithGoogle()}),Ct(9,"Google +"),Se(),Se(),Se()}}let PM=(()=>{class i{constructor(t,o){this.authService=t,this.bottomSheetRef=o,this.state=as.LOGIN,this.firebasetsAuth=new op}ngOnInit(){}onForgotPasswordClick(){this.state=as.FORGOT_PASSWORD}onCreateAccountClick(){this.state=as.REGISTER}onLoginClick(){this.state=as.LOGIN}onLoginWithClick(){this.state=as.LOGIN_WITH}isLoginState(){return this.state==as.LOGIN}isRegisterState(){return this.state==as.REGISTER}isForgotPasswordState(){return this.state==as.FORGOT_PASSWORD}isLoginWithState(){return this.state==as.LOGIN_WITH}getStateText(){switch(this.state){case as.LOGIN:return"Login";case as.REGISTER:return"Register";case as.FORGOT_PASSWORD:return"Forgot Password";case as.LOGIN_WITH:return"Login With"}}signInWithGoogle(){this.authService.signIn(Gb.PROVIDER_ID)}signInWithFB(){this.authService.signIn(OE.PROVIDER_ID)}signOut(){this.authService.signOut()}register(t,o,c){let h=t.value,p=o.value,m=c.value;this.isNotEmpty(h)&&this.isNotEmpty(p)&&this.isNotEmpty(m)&&this.isAMatch(p,m)&&this.firebasetsAuth.createAccountWith({email:h,password:p,onComplete:_=>{this.bottomSheetRef.dismiss()},onFail:_=>{}})}login(t,o){let c=t.value,h=o.value;this.isNotEmpty(c)&&this.isNotEmpty(h)&&this.firebasetsAuth.signInWith({email:c,password:h,onComplete:p=>{this.bottomSheetRef.dismiss()},onFail:p=>{alert(p)}})}reset(t){let o=t.value;this.isNotEmpty(o)&&this.firebasetsAuth.sendPasswordResetEmail({email:o,onComplete:c=>{this.bottomSheetRef.dismiss()}})}isAMatch(t,o){return t==o}isNotEmpty(t){return null!=t&&t.length>0}}return i.\u0275fac=function(t){return new(t||i)(Te(kE),Te(zE))},i.\u0275cmp=ar({type:i,selectors:[["app-authenticator"]],decls:18,vars:5,consts:[["id","authenticator"],["id","authenticator-content"],[4,"ngIf"],["class","login-other",4,"ngIf"],["align","end"],["mat-flat-button","",3,"click"],["placeholder","Email"],["loginEmail",""],["placeholder","Password","type","password"],["loginPass",""],["mat-flat-button","","color","warn",3,"click"],["registerEmail",""],["registerPass",""],["placeholder","Confirm Password","type","password"],["registerConfirmPass",""],["resetEmail",""],[1,"login-other"],[1,"facebook",3,"click"],[1,"linkedin"],[1,"google",3,"click"]],template:function(t,o){1&t&&(De(0,"div",0),De(1,"mat-card",1),De(2,"mat-card-header"),De(3,"mat-card-title"),Ct(4),Se(),Se(),ko(5,VV,7,0,"div",2),ko(6,UV,9,0,"div",2),ko(7,HV,5,0,"div",2),ko(8,qV,10,0,"div",3),De(9,"mat-card-actions",4),De(10,"button",5),Xr("click",function(){return o.onForgotPasswordClick()}),Ct(11,"Forgot Password"),Se(),De(12,"button",5),Xr("click",function(){return o.onCreateAccountClick()}),Ct(13,"Create an Account"),Se(),De(14,"button",5),Xr("click",function(){return o.onLoginClick()}),Ct(15,"Login"),Se(),De(16,"button",5),Xr("click",function(){return o.onLoginWithClick()}),Ct(17,"Login With"),Se(),Se(),Se(),Se()),2&t&&(an(4),Og(o.getStateText()),an(1),Fr("ngIf",o.isLoginState()),an(1),Fr("ngIf",o.isRegisterState()),an(1),Fr("ngIf",o.isForgotPasswordState()),an(1),Fr("ngIf",o.isLoginWithState()))},directives:[WE,KE,$E,Z_,Wg,GE],styles:['#authenticator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:1em}#authenticator[_ngcontent-%COMP%]   #authenticator-content[_ngcontent-%COMP%]{width:100%;max-width:30em;padding:1.5em}#authenticator[_ngcontent-%COMP%]   #authenticator-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:.5em}#authenticator[_ngcontent-%COMP%]   #authenticator-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:1em;margin:.5em 0;border-radius:5px;outline:none;border:1px solid rgba(15,15,15,.3);box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#authenticator[_ngcontent-%COMP%]   #authenticator-content[_ngcontent-%COMP%]   .login-other[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:50px;border:none;color:#fff;cursor:pointer}#authenticator[_ngcontent-%COMP%]   #authenticator-content[_ngcontent-%COMP%]   .login-other[_ngcontent-%COMP%]   .facebook[_ngcontent-%COMP%]{background:#3B5998}#authenticator[_ngcontent-%COMP%]   #authenticator-content[_ngcontent-%COMP%]   .login-other[_ngcontent-%COMP%]   .linkedin[_ngcontent-%COMP%]{background:#0E76A8}#authenticator[_ngcontent-%COMP%]   #authenticator-content[_ngcontent-%COMP%]   .login-other[_ngcontent-%COMP%]   .google[_ngcontent-%COMP%]{background:#dd4b39}#authenticator[_ngcontent-%COMP%]   #authenticator-content[_ngcontent-%COMP%]   .login-other[_ngcontent-%COMP%]   .facebook[_ngcontent-%COMP%]:before{font-family:"Font Awesome 5 Brands";font-weight:400;content:"\\f39e";padding-right:5px}#authenticator[_ngcontent-%COMP%]   #authenticator-content[_ngcontent-%COMP%]   .login-other[_ngcontent-%COMP%]   .linkedin[_ngcontent-%COMP%]:before{font-family:"Font Awesome 5 Brands";font-weight:400;content:"\\f08c";padding-right:5px}#authenticator[_ngcontent-%COMP%]   #authenticator-content[_ngcontent-%COMP%]   .login-other[_ngcontent-%COMP%]   .google[_ngcontent-%COMP%]:before{font-family:"Font Awesome 5 Brands";font-weight:400;content:"\\f0d5";padding-right:5px}']}),i})();var as=(()=>{return(i=as||(as={}))[i.LOGIN=0]="LOGIN",i[i.REGISTER=1]="REGISTER",i[i.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",i[i.LOGIN_WITH=3]="LOGIN_WITH",as;var i})();let NM=(()=>{class i{constructor(t){this._MatBottomSheet=t}ngOnInit(){}onGetStartedClick(){this._MatBottomSheet.open(PM)}}return i.\u0275fac=function(t){return new(t||i)(Te(xM))},i.\u0275cmp=ar({type:i,selectors:[["app-home"]],decls:11,vars:0,consts:[["id","home-page"],["id","home-page-landing"],["id","landing-left"],["id","landing-left-content"],["mat-flat-button","","color","primary",3,"click"]],template:function(t,o){1&t&&(De(0,"div",0),De(1,"div",1),De(2,"div",2),De(3,"div",3),De(4,"h1"),Ct(5,"Social Media App Platform"),Se(),De(6,"p"),Ct(7," Share your favorite stories! #ANSocial "),Se(),De(8,"button",4),Xr("click",function(){return o.onGetStartedClick()}),Ct(9,"Get Started"),Se(),Se(),Se(),Ir(10,"div"),Se(),Se())},directives:[Wg],styles:["#home-page[_ngcontent-%COMP%]{width:100%;height:100%}#home-page[_ngcontent-%COMP%]   #home-page-landing[_ngcontent-%COMP%]{width:100%;height:100vh;background-image:url(home_background.d34a91e3a313e0c0.png);background-size:cover;background-position:center;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:100%;min-height:800px}#home-page[_ngcontent-%COMP%]   #landing-left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:#fff}#home-page[_ngcontent-%COMP%]   #landing-left[_ngcontent-%COMP%]   #landing-left-content[_ngcontent-%COMP%]{text-align:right;padding:1em 1em 1em 3em}#home-page[_ngcontent-%COMP%]   #landing-left[_ngcontent-%COMP%]   #landing-left-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:4.5em}#home-page[_ngcontent-%COMP%]   #landing-left[_ngcontent-%COMP%]   #landing-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:2em}#home-page[_ngcontent-%COMP%]   #landing-left[_ngcontent-%COMP%]   #landing-left-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5em;font-size:1.5em}"]}),i})();Ft(361);class cp{constructor(){this.listeners=new Map}appendArray(e){return Fa._getFirestore().FieldValue.arrayUnion(e)}increment(e){return Fa._getFirestore().FieldValue.increment(e)}genDocId(){return Fa.getFirestore().collection("TEMP").doc().id}all(e){const t=Fa.getFirestore().batch();for(let o of e.operations)o.getOperation(t);return new Promise((o,c)=>{t.commit().then(()=>{try{e.onComplete()}catch(h){}o()}).catch(h=>{try{e.onFail(h)}catch(p){}c(h)})})}create(e){return new Promise((t,o)=>{if(null==e.data||null==e.data)throw new Error("Error creating data. Data is null or undefined.");if(this.isCollectionPath(e.path)){let c=this.genCollectionReference(e.path).doc();c.set(e.data).then(()=>{try{e.onComplete(c.id)}catch(h){}t(c.id)}).catch(h=>{try{e.onFail(h)}catch(p){}o(h)})}else if(this.isDocumentPath(e.path)){let c=this.genDocumentReference(e.path);c.set(e.data).then(()=>{try{e.onComplete(c.id)}catch(h){}t(c.id)}).catch(h=>{try{e.onFail(h)}catch(p){}o(h)})}})}delete(e){return new Promise((t,o)=>{this.checkDocumentPathValidity(e.path),this.genDocumentReference(e.path).delete().then(()=>{try{e.onComplete()}catch(c){}t()}).catch(c=>{try{e.onFail(c)}catch(h){}o(c)})})}update(e){return new Promise((t,o)=>{this.checkDocumentPathValidity(e.path);const c=this.genDocumentReference(e.path);c.update(e.data).then(()=>{try{e.onComplete(c)}catch(h){}t(c)}).catch(h=>{try{e.onFail(h)}catch(p){}o(h)})})}getCollection(e){let t=this.genCollectionReference(e.path);return new Promise((null!=e.where||null!=e.where)&&e.where.length>0?(o,c)=>{let h;const p=Array(e.where)[0];for(let m=0;m<p.length;m++)h=null==h?p[m].getQuery(t):p[m].concatQuery(h);h.get().then(m=>{try{e.onComplete(m)}catch(_){}o(m)}).catch(m=>{try{e.onFail(m)}catch(_){}c(m)})}:(o,c)=>{t.get().then(h=>{try{e.onComplete(h)}catch(p){}o(h)}).catch(h=>{try{e.onFail(h)}catch(p){}c(h)})})}getDocument(e){return new Promise((t,o)=>{this.genDocumentReference(e.path).get().then(c=>{try{e.onComplete(c)}catch(h){}t(c)}).catch(c=>{try{e.onFail(c)}catch(h){}o(c)})})}listenToDocument(e){this.validateListenerName(e.name),this.addListener(e.name,this.genDocumentReference(e.path).onSnapshot(t=>{try{e.onUpdate(t)}catch(o){}}))}listenToCollection(e){this.validateListenerName(e.name);let t=this.genCollectionReference(e.path);if((null!=e.where||null!=e.where)&&e.where.length>0){let o;const c=Array(e.where)[0];for(let h=0;h<c.length;h++)o=null==o?c[h].getQuery(t):c[h].concatQuery(o);this.addListener(e.name,o.onSnapshot(h=>{try{e.onUpdate(h)}catch(p){}}))}else this.addListener(e.name,t.onSnapshot(o=>{try{e.onUpdate(o)}catch(c){}}))}genCollectionReference(e){this.checkCollectionPathValidity(e);const t=Array(e)[0];let o,c;for(let h=0;h<t.length;h++)h%2==0?o=null==o?Fa.getFirestore().collection(t[h]):c.collection(t[h]):c=o.doc(t[h]);return o}genDocumentReference(e){this.checkDocumentPathValidity(e);const t=Array(e)[0];let o,c;for(let h=0;h<t.length;h++)h%2==0?o=null==o?Fa.getFirestore().collection(t[h]):c.collection(t[h]):c=o.doc(t[h]);return c}addListener(e,t){return this.listeners.set(e,t),t}stopListeningTo(e){try{this.listeners.get(e)(),this.listeners.delete(e)}catch(t){}}stopListeningToAll(){this.listeners.forEach((e,t,o)=>{this.stopListeningTo(t)})}validateListenerName(e){if(null==e||null==e||"string"!=typeof e||e.trim().length<=0)throw"Listener name cannot be empty.";if(null!=this.listeners.get(e))throw`Listener name: ${e} is already taken.`}checkCollectionPathValidity(e){if(null==e||null==e||e.length<=0||!this.isCollectionPath(e))throw"Not a valid path to a collection."}isCollectionPath(e){return Array(e)[0].length%2==1}checkDocumentPathValidity(e){if(null==e||null==e||e.length<=0||!this.isDocumentPath(e))throw"Not a valid path to a document."}isDocumentPath(e){return Array(e)[0].length%2==0}}class YE{constructor(e,t){this.field=e,this.direction=t}getQuery(e){return e.orderBy(this.field,this.direction)}concatQuery(e){return e.orderBy(this.field,this.direction)}}class FM{constructor(e){this.limit=e}getQuery(e){return e.limit(this.limit)}concatQuery(e){return e.limit(this.limit)}}Ft(589);class LM{constructor(){this.listeners=new Map}downloadToLocalStorage(e){return new Promise((t,o)=>{if(e instanceof Array)this.getDownloadUrl({path:e,onComplete:c=>{t(c),window.open(c,"Download")},onFail:c=>{o(c)}});else try{window.open(e,"Download"),t()}catch(c){o(c)}})}upload(e){return new Promise((t,o)=>{let c=null,h=this.genStorageRef(e.path);c=null==e.data.metadata||null==e.data.metadata?h.put(e.data.data):h.put(e.data.data,e.data.metadata),c.on("state_changed",p=>{try{e.onUpload(p)}catch(m){}},p=>{o(p);try{e.onFail(p)}catch(m){}},()=>{h.getDownloadURL().then(p=>{t(p);try{e.onComplete(p)}catch(m){}})}),this.listeners.set(e.uploadName,c)})}deleteWithUrl(e){return new Promise((t,o)=>{Fa.getStorage().refFromURL(e.url).delete().then(()=>{t();try{e.onComplete()}catch(h){}}).catch(h=>{o(h);try{e.onFail(h)}catch(p){}})})}delete(e){return new Promise((t,o)=>{this.genStorageRef(e.path).delete().then(()=>{t();try{e.onComplete()}catch(h){}}).catch(h=>{o(h);try{e.onFail(h)}catch(p){}})})}getDownloadUrl(e){return new Promise((t,o)=>{const c=this.genStorageRef(e.path);try{c.getDownloadURL().then(h=>{t(h);try{e.onComplete(h)}catch(p){}})}catch(h){o(h);try{e.onFail(h)}catch(p){}}})}genStorageRef(e){let t=Fa.getStorage().ref();for(let o=0;o<e.length;o++)t=t.child(e[o]);return t}}function zV(i,e){}class QE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const $V={dialogContainer:uA("dialogContainer",[Ib("void, exit",sp({opacity:0,transform:"scale(0.7)"})),Ib("enter",sp({transform:"none"})),Tb("* => enter",Sb("150ms cubic-bezier(0, 0, 0.2, 1)",sp({transform:"none",opacity:1}))),Tb("* => void, * => exit",Sb("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",sp({opacity:0})))])};let GV=(()=>{class i extends Qb{constructor(t,o,c,h,p,m,_,E){super(),this._elementRef=t,this._focusTrapFactory=o,this._changeDetectorRef=c,this._config=p,this._interactivityChecker=m,this._ngZone=_,this._focusMonitor=E,this._animationStateChanged=new Zi,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=S=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(S)),this._ariaLabelledBy=p.ariaLabelledBy||null,this._document=h}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,o){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(o)}_focusByCssSelector(t,o){let c=this._elementRef.nativeElement.querySelector(t);c&&this._forceFocus(c,o)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(o=>{o||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const o=kv(),c=this._elementRef.nativeElement;(!o||o===this._document.body||o===c||c.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=kv())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,o=kv();return t===o||t.contains(o)}}return i.\u0275fac=function(t){return new(t||i)(Te(is),Te(eA),Te(Py),Te(un,8),Te(QE),Te(X0),Te(Pn),Te(iA))},i.\u0275dir=qn({type:i,viewQuery:function(t,o){if(1&t&&O_(Xb,7),2&t){let c;vv(c=yv())&&(o._portalOutlet=c.first)}},features:[Zf]}),i})(),WV=(()=>{class i extends GV{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:o}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:o})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:o}))}_onAnimationStart({toState:t,totalTime:o}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:o}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:o})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return i.\u0275fac=function(){let e;return function(o){return(e||(e=function Ap(i){return Vn(()=>{const e=i.prototype.constructor,t=e[Vo]||mn(e),o=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==o;){const h=c[Vo]||mn(c);if(h&&h!==t)return h;c=Object.getPrototypeOf(c)}return h=>new h})}(i)))(o||i)}}(),i.\u0275cmp=ar({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,o){1&t&&w_("@dialogContainer.start",function(h){return o._onAnimationStart(h)})("@dialogContainer.done",function(h){return o._onAnimationDone(h)}),2&t&&(mw("id",o._id),kg("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledBy)("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),C_("@dialogContainer",o._state))},features:[Zf],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,o){1&t&&ko(0,zV,0,0,"ng-template",0)},directives:[Xb],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[$V.dialogContainer]}}),i})(),KV=0;class jM{constructor(e,t,o="mat-dialog-"+KV++){this._overlayRef=e,this._containerInstance=t,this.id=o,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new We,this._afterClosed=new We,this._beforeClosed=new We,this._state=0,t._id=o,t._animationStateChanged.pipe(Oo(c=>"opened"===c.state),Rr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Oo(c=>"closed"===c.state),Rr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Oo(c=>27===c.keyCode&&!this.disableClose&&!KT(c))).subscribe(c=>{c.preventDefault(),BM(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():BM(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Oo(t=>"closing"===t.state),Rr(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function BM(i,e,t){return void 0!==i._containerInstance&&(i._containerInstance._closeInteractionType=e),i.close(t)}const VM=new tt("MatDialogData"),YV=new tt("mat-dialog-default-options"),UM=new tt("mat-dialog-scroll-strategy"),XV={provide:UM,deps:[u_],useFactory:function QV(i){return()=>i.scrollStrategies.block()}};let ZV=(()=>{class i{constructor(t,o,c,h,p,m,_,E,S,R){this._overlay=t,this._injector=o,this._defaultOptions=c,this._parentDialog=h,this._overlayContainer=p,this._dialogRefConstructor=_,this._dialogContainerType=E,this._dialogDataToken=S,this._animationMode=R,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new We,this._afterOpenedAtThisLevel=new We,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=E0(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(C0(void 0))),this._scrollStrategy=m}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,o){if(o=function JV(i,e){return Object.assign(Object.assign({},e),i)}(o,this._defaultOptions||new QE),o.id&&this.getDialogById(o.id),this._dialogAnimatingOpen)return this._lastDialogRef;const c=this._createOverlay(o),h=this._attachDialogContainer(c,o);if("NoopAnimations"!==this._animationMode){const m=h._animationStateChanged.subscribe(_=>{"opening"===_.state&&(this._dialogAnimatingOpen=!0),"opened"===_.state&&(this._dialogAnimatingOpen=!1,m.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new Tt),this._animationStateSubscriptions.add(m)}const p=this._attachDialogContent(t,h,c,o);return this._lastDialogRef=p,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(p),p.afterClosed().subscribe(()=>this._removeOpenDialog(p)),this.afterOpened.next(p),h._initializeWithAttachedContent(),p}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(o=>o.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(t){const o=this._getOverlayConfig(t);return this._overlay.create(o)}_getOverlayConfig(t){const o=new UE({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(o.backdropClass=t.backdropClass),o}_attachDialogContainer(t,o){const h=re.create({parent:o&&o.viewContainerRef&&o.viewContainerRef.injector||this._injector,providers:[{provide:QE,useValue:o}]}),p=new a_(this._dialogContainerType,o.viewContainerRef,h,o.componentFactoryResolver);return t.attach(p).instance}_attachDialogContent(t,o,c,h){const p=new this._dialogRefConstructor(c,o,h.id);if(t instanceof kc)o.attachTemplatePortal(new jE(t,null,{$implicit:h.data,dialogRef:p}));else{const m=this._createInjector(h,p,o),_=o.attachComponentPortal(new a_(t,h.viewContainerRef,m));p.componentInstance=_.instance}return p.updateSize(h.width,h.height).updatePosition(h.position),p}_createInjector(t,o,c){const h=t&&t.viewContainerRef&&t.viewContainerRef.injector,p=[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:o}];return t.direction&&(!h||!h.get(Zy,null,de.Optional))&&p.push({provide:Zy,useValue:{value:t.direction,change:wt()}}),re.create({parent:h||this._injector,providers:p})}_removeOpenDialog(t){const o=this.openDialogs.indexOf(t);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((c,h)=>{c?h.setAttribute("aria-hidden",c):h.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const o=t.parentElement.children;for(let c=o.length-1;c>-1;c--){let h=o[c];h!==t&&"SCRIPT"!==h.nodeName&&"STYLE"!==h.nodeName&&!h.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(h,h.getAttribute("aria-hidden")),h.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let o=t.length;for(;o--;)t[o].close()}}return i.\u0275fac=function(t){__()},i.\u0275dir=qn({type:i}),i})(),XE=(()=>{class i extends ZV{constructor(t,o,c,h,p,m,_,E){super(t,o,h,m,_,p,jM,WV,VM,E)}}return i.\u0275fac=function(t){return new(t||i)(ue(u_),ue(re),ue(Fy,8),ue(YV,8),ue(UM),ue(i,12),ue(HE),ue(Lv,8))},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})(),eU=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Hn({type:i}),i.\u0275inj=Le({providers:[XE,XV],imports:[[MM,BE,Uu],Uu]}),i})();class rU{}class lp{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const o=t.indexOf(":");if(o>0){const c=t.slice(0,o),h=c.toLowerCase(),p=t.slice(o+1).trim();this.maybeSetNormalizedName(c,h),this.headers.has(h)?this.headers.get(h).push(p):this.headers.set(h,[p])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let o=e[t];const c=t.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(c,o),this.maybeSetNormalizedName(t,c))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof lp?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new lp;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof lp?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let o=e.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(e.name,t);const c=("a"===e.op?this.headers.get(t):void 0)||[];c.push(...o),this.headers.set(t,c);break;case"d":const h=e.value;if(h){let p=this.headers.get(t);if(!p)return;p=p.filter(m=>-1===h.indexOf(m)),0===p.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,p)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class iU{encodeKey(e){return HM(e)}encodeValue(e){return HM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const sU=/%(\d[a-f0-9])/gi,aU={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function HM(i){return encodeURIComponent(i).replace(sU,(e,t)=>{var o;return null!==(o=aU[t])&&void 0!==o?o:e})}function qM(i){return`${i}`}class hp{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new iU,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function oU(i,e){const t=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(c=>{const h=c.indexOf("="),[p,m]=-1==h?[e.decodeKey(c),""]:[e.decodeKey(c.slice(0,h)),e.decodeValue(c.slice(h+1))],_=t.get(p)||[];_.push(m),t.set(p,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const o=e.fromObject[t];this.map.set(t,Array.isArray(o)?o:[o])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(o=>{const c=e[o];Array.isArray(c)?c.forEach(h=>{t.push({param:o,value:h,op:"a"})}):t.push({param:o,value:c,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(o=>t+"="+this.encoder.encodeValue(o)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new hp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(qM(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let o=this.map.get(e.param)||[];const c=o.indexOf(qM(e.value));-1!==c&&o.splice(c,1),o.length>0?this.map.set(e.param,o):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class uU{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function zM(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function $M(i){return"undefined"!=typeof Blob&&i instanceof Blob}function GM(i){return"undefined"!=typeof FormData&&i instanceof FormData}class c_{constructor(e,t,o,c){let h;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function cU(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||c?(this.body=void 0!==o?o:null,h=c):h=o,h&&(this.reportProgress=!!h.reportProgress,this.withCredentials=!!h.withCredentials,h.responseType&&(this.responseType=h.responseType),h.headers&&(this.headers=h.headers),h.context&&(this.context=h.context),h.params&&(this.params=h.params)),this.headers||(this.headers=new lp),this.context||(this.context=new uU),this.params){const p=this.params.toString();if(0===p.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+p}}else this.params=new hp,this.urlWithParams=t}serializeBody(){return null===this.body?null:zM(this.body)||$M(this.body)||GM(this.body)||function lU(i){return"undefined"!=typeof URLSearchParams&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof hp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||GM(this.body)?null:$M(this.body)?this.body.type||null:zM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof hp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const o=e.method||this.method,c=e.url||this.url,h=e.responseType||this.responseType,p=void 0!==e.body?e.body:this.body,m=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let E=e.headers||this.headers,S=e.params||this.params;const R=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(E=Object.keys(e.setHeaders).reduce((F,j)=>F.set(j,e.setHeaders[j]),E)),e.setParams&&(S=Object.keys(e.setParams).reduce((F,j)=>F.set(j,e.setParams[j]),S)),new c_(o,c,p,{params:S,headers:E,context:R,reportProgress:_,responseType:h,withCredentials:m})}}var Po=(()=>((Po=Po||{})[Po.Sent=0]="Sent",Po[Po.UploadProgress=1]="UploadProgress",Po[Po.ResponseHeader=2]="ResponseHeader",Po[Po.DownloadProgress=3]="DownloadProgress",Po[Po.Response=4]="Response",Po[Po.User=5]="User",Po))();class ZE extends class hU{constructor(e,t=200,o="OK"){this.headers=e.headers||new lp,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||o,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Po.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ZE({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function JE(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let KM=(()=>{class i{constructor(t){this.handler=t}request(t,o,c={}){let h;if(t instanceof c_)h=t;else{let _,E;_=c.headers instanceof lp?c.headers:new lp(c.headers),c.params&&(E=c.params instanceof hp?c.params:new hp({fromObject:c.params})),h=new c_(t,o,void 0!==c.body?c.body:null,{headers:_,context:c.context,params:E,reportProgress:c.reportProgress,responseType:c.responseType||"json",withCredentials:c.withCredentials})}const p=wt(h).pipe(Dv(_=>this.handler.handle(_)));if(t instanceof c_||"events"===c.observe)return p;const m=p.pipe(Oo(_=>_ instanceof ZE));switch(c.observe||"body"){case"body":switch(h.responseType){case"arraybuffer":return m.pipe(Fe(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return m.pipe(Fe(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return m.pipe(Fe(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return m.pipe(Fe(_=>_.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${c.observe}}`)}}delete(t,o={}){return this.request("DELETE",t,o)}get(t,o={}){return this.request("GET",t,o)}head(t,o={}){return this.request("HEAD",t,o)}jsonp(t,o){return this.request("JSONP",t,{params:(new hp).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,o={}){return this.request("OPTIONS",t,o)}patch(t,o,c={}){return this.request("PATCH",t,JE(c,o))}post(t,o,c={}){return this.request("POST",t,JE(c,o))}put(t,o,c={}){return this.request("PUT",t,JE(c,o))}}return i.\u0275fac=function(t){return new(t||i)(ue(rU))},i.\u0275prov=He({token:i,factory:i.\u0275fac}),i})();const fU=["*"];let Zb;function l_(i){var e;return(null===(e=function pU(){if(void 0===Zb&&(Zb=null,"undefined"!=typeof window)){const i=window;void 0!==i.trustedTypes&&(Zb=i.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Zb}())||void 0===e?void 0:e.createHTML(i))||i}function YM(i){return Error(`Unable to find icon with the name "${i}"`)}function QM(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function XM(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class Yg{constructor(e,t,o){this.url=e,this.svgText=t,this.options=o}}let Jb=(()=>{class i{constructor(t,o,c,h){this._httpClient=t,this._sanitizer=o,this._errorHandler=h,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=c}addSvgIcon(t,o,c){return this.addSvgIconInNamespace("",t,o,c)}addSvgIconLiteral(t,o,c){return this.addSvgIconLiteralInNamespace("",t,o,c)}addSvgIconInNamespace(t,o,c,h){return this._addSvgIconConfig(t,o,new Yg(c,null,h))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,o,c,h){const p=this._sanitizer.sanitize(Jt.HTML,c);if(!p)throw XM(c);const m=l_(p);return this._addSvgIconConfig(t,o,new Yg("",m,h))}addSvgIconSet(t,o){return this.addSvgIconSetInNamespace("",t,o)}addSvgIconSetLiteral(t,o){return this.addSvgIconSetLiteralInNamespace("",t,o)}addSvgIconSetInNamespace(t,o,c){return this._addSvgIconSetConfig(t,new Yg(o,null,c))}addSvgIconSetLiteralInNamespace(t,o,c){const h=this._sanitizer.sanitize(Jt.HTML,o);if(!h)throw XM(o);const p=l_(h);return this._addSvgIconSetConfig(t,new Yg("",p,c))}registerFontClassAlias(t,o=t){return this._fontCssClassesByAlias.set(t,o),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const o=this._sanitizer.sanitize(Jt.RESOURCE_URL,t);if(!o)throw QM(t);const c=this._cachedIconsByUrl.get(o);return c?wt(ew(c)):this._loadSvgIconFromConfig(new Yg(t,null)).pipe(os(h=>this._cachedIconsByUrl.set(o,h)),Fe(h=>ew(h)))}getNamedSvgIcon(t,o=""){const c=ZM(o,t);let h=this._svgIconConfigs.get(c);if(h)return this._getSvgFromConfig(h);if(h=this._getIconConfigFromResolvers(o,t),h)return this._svgIconConfigs.set(c,h),this._getSvgFromConfig(h);const p=this._iconSetConfigs.get(o);return p?this._getSvgFromIconSetConfigs(t,p):function tU(i,e){const t=ge(i)?i:()=>i,o=c=>c.error(t());return new he(e?c=>e.schedule(o,0,c):o)}(YM(c))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?wt(ew(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Fe(o=>ew(o)))}_getSvgFromIconSetConfigs(t,o){const c=this._extractIconWithNameFromAnySet(t,o);return c?wt(c):function nU(...i){const e=Lc(i),{args:t,keys:o}=FI(i),c=new he(h=>{const{length:p}=t;if(!p)return void h.complete();const m=new Array(p);let _=p,E=p;for(let S=0;S<p;S++){let R=!1;K(t[S]).subscribe(new Ee(h,F=>{R||(R=!0,E--),m[S]=F},()=>_--,void 0,()=>{(!_||!R)&&(E||h.next(o?LI(o,m):m),h.complete())}))}});return e?c.pipe(w0(e)):c}(o.filter(p=>!p.svgText).map(p=>this._loadSvgIconSetFromConfig(p).pipe(pd(m=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(Jt.RESOURCE_URL,p.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(E)),wt(null)})))).pipe(Fe(()=>{const p=this._extractIconWithNameFromAnySet(t,o);if(!p)throw YM(t);return p}))}_extractIconWithNameFromAnySet(t,o){for(let c=o.length-1;c>=0;c--){const h=o[c];if(h.svgText&&h.svgText.toString().indexOf(t)>-1){const p=this._svgElementFromConfig(h),m=this._extractSvgIconFromSet(p,t,h.options);if(m)return m}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(os(o=>t.svgText=o),Fe(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?wt(null):this._fetchIcon(t).pipe(os(o=>t.svgText=o))}_extractSvgIconFromSet(t,o,c){const h=t.querySelector(`[id="${o}"]`);if(!h)return null;const p=h.cloneNode(!0);if(p.removeAttribute("id"),"svg"===p.nodeName.toLowerCase())return this._setSvgAttributes(p,c);if("symbol"===p.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(p),c);const m=this._svgElementFromString(l_("<svg></svg>"));return m.appendChild(p),this._setSvgAttributes(m,c)}_svgElementFromString(t){const o=this._document.createElement("DIV");o.innerHTML=t;const c=o.querySelector("svg");if(!c)throw Error("<svg> tag not found");return c}_toSvgElement(t){const o=this._svgElementFromString(l_("<svg></svg>")),c=t.attributes;for(let h=0;h<c.length;h++){const{name:p,value:m}=c[h];"id"!==p&&o.setAttribute(p,m)}for(let h=0;h<t.childNodes.length;h++)t.childNodes[h].nodeType===this._document.ELEMENT_NODE&&o.appendChild(t.childNodes[h].cloneNode(!0));return o}_setSvgAttributes(t,o){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),o&&o.viewBox&&t.setAttribute("viewBox",o.viewBox),t}_fetchIcon(t){var o;const{url:c,options:h}=t,p=null!==(o=null==h?void 0:h.withCredentials)&&void 0!==o&&o;if(!this._httpClient)throw function gU(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==c)throw Error(`Cannot fetch icon from URL "${c}".`);const m=this._sanitizer.sanitize(Jt.RESOURCE_URL,c);if(!m)throw QM(c);const _=this._inProgressUrlFetches.get(m);if(_)return _;const E=this._httpClient.get(m,{responseType:"text",withCredentials:p}).pipe(Fe(S=>l_(S)),zI(()=>this._inProgressUrlFetches.delete(m)),Gl());return this._inProgressUrlFetches.set(m,E),E}_addSvgIconConfig(t,o,c){return this._svgIconConfigs.set(ZM(t,o),c),this}_addSvgIconSetConfig(t,o){const c=this._iconSetConfigs.get(t);return c?c.push(o):this._iconSetConfigs.set(t,[o]),this}_svgElementFromConfig(t){if(!t.svgElement){const o=this._svgElementFromString(t.svgText);this._setSvgAttributes(o,t.options),t.svgElement=o}return t.svgElement}_getIconConfigFromResolvers(t,o){for(let c=0;c<this._resolvers.length;c++){const h=this._resolvers[c](o,t);if(h)return vU(h)?new Yg(h.url,null,h.options):new Yg(h,null)}}}return i.\u0275fac=function(t){return new(t||i)(ue(KM,8),ue(b0),ue(un,8),ue(Xs))},i.\u0275prov=He({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ew(i){return i.cloneNode(!0)}function ZM(i,e){return i+":"+e}function vU(i){return!(!i.url||!i.options)}const yU=aM(class{constructor(i){this._elementRef=i}}),_U=new tt("mat-icon-location",{providedIn:"root",factory:function bU(){const i=Es(un),e=i?i.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),JM=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],wU=JM.map(i=>`[${i}]`).join(", "),EU=/^url\(['"]?#(.*?)['"]?\)$/;let tw=(()=>{class i extends yU{constructor(t,o,c,h,p){super(t),this._iconRegistry=o,this._location=h,this._errorHandler=p,this._inline=!1,this._currentIconFetch=Tt.EMPTY,c||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Q0(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const o=this._cleanupFontValue(t);o!==this._fontSet&&(this._fontSet=o,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const o=this._cleanupFontValue(t);o!==this._fontIcon&&(this._fontIcon=o,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const o=t.split(":");switch(o.length){case 1:return["",o[0]];case 2:return o;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const o=this._location.getPathname();o!==this._previousPath&&(this._previousPath=o,this._prependPathToReferences(o))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const o=t.querySelectorAll("style");for(let h=0;h<o.length;h++)o[h].textContent+=" ";const c=this._location.getPathname();this._previousPath=c,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(c),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let o=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();o--;){const c=t.childNodes[o];(1!==c.nodeType||"svg"===c.nodeName.toLowerCase())&&c.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,o=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();o!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),o&&t.classList.add(o),this._previousFontSetClass=o),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const o=this._elementsWithExternalReferences;o&&o.forEach((c,h)=>{c.forEach(p=>{h.setAttribute(p.name,`url('${t}#${p.value}')`)})})}_cacheChildrenWithExternalReferences(t){const o=t.querySelectorAll(wU),c=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let h=0;h<o.length;h++)JM.forEach(p=>{const m=o[h],_=m.getAttribute(p),E=_?_.match(EU):null;if(E){let S=c.get(m);S||(S=[],c.set(m,S)),S.push({name:p,value:E[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[o,c]=this._splitIconName(t);o&&(this._svgNamespace=o),c&&(this._svgName=c),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(c,o).pipe(Rr(1)).subscribe(h=>this._setSvgElement(h),h=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${o}:${c}! ${h.message}`))})}}}return i.\u0275fac=function(t){return new(t||i)(Te(is),Te(Jb),pu("aria-hidden"),Te(_U),Te(Xs))},i.\u0275cmp=ar({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,o){2&t&&(kg("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet),ep("mat-icon-inline",o.inline)("mat-icon-no-color","primary"!==o.color&&"accent"!==o.color&&"warn"!==o.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Zf],ngContentSelectors:fU,decls:1,vars:0,template:function(t,o){1&t&&(Ey(),Jf(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),i})(),CU=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Hn({type:i}),i.\u0275inj=Le({imports:[[Uu],Uu]}),i})();function DU(i,e){1&i&&(De(0,"div",9),Ir(1,"img",10),Se())}let SU=(()=>{class i{constructor(t){this.dialog=t,this.auth=new op,this.firestore=new cp,this.storage=new LM}ngOnInit(){}onPhotoSelected(t){if(t.files){if(this.selectedImageFile=t.files[0],!this.selectedImageFile)return;let o=new FileReader;o.readAsDataURL(this.selectedImageFile),o.addEventListener("loadend",c=>{var h;let p=null===(h=o.result)||void 0===h?void 0:h.toString();p&&(document.getElementById("post-preview-image").src=p)})}}onPostClick(t){let o=t.value;o.length<=0||(this.selectedImageFile?this.uploadImagePost(o):this.uploadPost(o))}uploadPost(t){var o;this.firestore.create({path:["Posts"],data:{comment:t,creatorId:null===(o=this.auth.getAuth().currentUser)||void 0===o?void 0:o.uid,timestamp:Fa.getFirestoreTimestamp()},onComplete:c=>{this.dialog.close()}})}uploadImagePost(t){let o=this.firestore.genDocId();this.storage.upload({uploadName:"upload Image Post",path:["Posts",o,"image"],data:{data:this.selectedImageFile},onComplete:c=>{var h;this.firestore.create({path:["Posts",o],data:{comment:t,creatorId:null===(h=this.auth.getAuth().currentUser)||void 0===h?void 0:h.uid,imageUrl:c,timestamp:Fa.getFirestoreTimestamp()},onComplete:p=>{this.dialog.close()}})}})}}return i.\u0275fac=function(t){return new(t||i)(Te(jM))},i.\u0275cmp=ar({type:i,selectors:[["app-create-post"]],decls:17,vars:1,consts:[["placeholder","Type Message..."],["commentInput",""],["id","post-preview",4,"ngIf"],["align","end"],["mat-button","","color","warn"],["for","photo-upload"],["id","photo-upload","type","file","accept","image/*",3,"change"],["photoSelector",""],["mat-flat-button","","color","warn",3,"click"],["id","post-preview"],["id","post-preview-image"]],template:function(t,o){if(1&t){const c=Ol();De(0,"mat-card"),De(1,"mat-card-header"),De(2,"mat-card-title"),Ct(3,"Create Post"),Se(),Se(),De(4,"div"),Ir(5,"textarea",0,1),Se(),ko(7,DU,2,0,"div",2),De(8,"mat-card-actions",3),De(9,"button",4),De(10,"label",5),De(11,"input",6,7),Xr("change",function(){Ai(c);const p=Rs(12);return o.onPhotoSelected(p)}),Se(),De(13,"mat-icon"),Ct(14,"insert_photo"),Se(),Se(),Se(),De(15,"button",8),Xr("click",function(){Ai(c);const p=Rs(6);return o.onPostClick(p)}),Ct(16,"Post"),Se(),Se(),Se()}2&t&&(an(7),Fr("ngIf",o.selectedImageFile))},directives:[WE,KE,$E,Z_,GE,Wg,tw],styles:["#photo-upload[_ngcontent-%COMP%]{display:none}textarea[_ngcontent-%COMP%]{font-size:1.5em;padding:1em;resize:none;width:250px;min-height:200px;border:none;outline:none}#post-preview[_ngcontent-%COMP%]{text-align:right;margin-top:1em}#post-preview-image[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:150px;height:100px;border-radius:1em;border:1px dashed gray}"]}),i})();function IU(i,e){1&i&&Ir(0,"app-posts",3),2&i&&Fr("postData",e.$implicit)}let eR=(()=>{class i{constructor(t){this.dialog=t,this.firestore=new cp,this.posts=[]}ngOnInit(){this.getPosts()}getPosts(){this.firestore.getCollection({path:["Posts"],where:[new YE("timestamp","desc"),new FM(10)],onComplete:t=>{t.docs.forEach(o=>{let c=o.data();c.postId=o.id,this.posts.push(c)})},onFail:t=>{console.log(t)}})}onCreatePostClick(){this.dialog.open(SU)}}return i.\u0275fac=function(t){return new(t||i)(Te(XE))},i.\u0275cmp=ar({type:i,selectors:[["app-post-feed"]],decls:5,vars:1,consts:[["id","post-feed"],[3,"postData",4,"ngFor","ngForOf"],["mat-fab","","color","warn","id","post-button",3,"click"],[3,"postData"]],template:function(t,o){1&t&&(De(0,"div",0),ko(1,IU,1,1,"app-posts",1),Se(),De(2,"button",2),Xr("click",function(){return o.onCreatePostClick()}),De(3,"mat-icon"),Ct(4,"add"),Se(),Se()),2&t&&(an(1),Fr("ngForOf",o.posts))},styles:["#post-button[_ngcontent-%COMP%]{position:fixed;bottom:2em;right:2em}#post-feed[_ngcontent-%COMP%]{max-width:500px;margin-top:5em;margin-left:auto;margin-right:auto}"]}),i})();const TU=function(i,e){return{active:i,idle:e}};let AU=(()=>{class i{constructor(){this.firestore=new cp,this.auth=new op,this.show=!1,this.storage=new LM}ngOnInit(){var t;console.log(null===(t=this.auth.getAuth().currentUser)||void 0===t?void 0:t.uid)}onContinueClick(t,o,c,h,p){let m=t.value,_=h.value,S=p.value;m.length<=0&&_.length<=0&&S.length<=0||this.uploadProfile(m,_,c.value,S,o.value)}uploadProfile(t,o,c,h,p){this.firestore.create({path:["Users",this.auth.getAuth().currentUser.uid],data:{publicName:t,description:o,fullName:c,email:h,age:p},onComplete:m=>{},onFail:m=>{}})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=ar({type:i,selectors:[["app-profile"]],inputs:{show:"show"},decls:14,vars:4,consts:[["id","profile",3,"ngClass"],["id","profile-content"],["placeholder","Name","type","text"],["nameInput",""],["placeholder","fullName","type","text"],["fullNameInput",""],["placeholder","Email","type","email"],["emailInput",""],["placeholder","Age","type","number"],["ageInput",""],["placeholder","Description"],["descriptionInput",""],["mat-flat-button","","color","warn",3,"click"]],template:function(t,o){if(1&t){const c=Ol();De(0,"div",0),De(1,"div",1),Ir(2,"input",2,3),Ir(4,"input",4,5),Ir(6,"input",6,7),Ir(8,"input",8,9),Ir(10,"textarea",10,11),De(12,"button",12),Xr("click",function(){Ai(c);const p=Rs(3),m=Rs(9),_=Rs(5),E=Rs(11),S=Rs(7);return o.onContinueClick(p,m,_,E,S)}),Ct(13," Continue "),Se(),Se(),Se()}2&t&&Fr("ngClass",JD(1,TU,o.show,!o.show))},directives:[c0,Wg],styles:["#profile[_ngcontent-%COMP%]{position:fixed;top:0;right:0;height:100vh;background-color:#1d1d1d;z-index:9;transition-duration:.5s;overflow:hidden;display:flex;justify-content:center;align-items:center}#profile[_ngcontent-%COMP%]   #profile-content[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:2em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#profile[_ngcontent-%COMP%]   #profile-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], #profile[_ngcontent-%COMP%]   #profile-content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:1em;border-radius:1em;margin-bottom:.5em;resize:none;outline:none;border:1px solid gray;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.active[_ngcontent-%COMP%]{width:100vw}.idle[_ngcontent-%COMP%]{width:0}#post-preview[_ngcontent-%COMP%]{text-align:right;margin-top:1em}#post-preview-image-cover[_ngcontent-%COMP%], #post-preview-image-profile[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:150px;height:100px;border-radius:1em;border:1px dashed gray}"]}),i})();function MU(i,e){if(1&i){const t=Ol();De(0,"div",11),Xr("click",function(){return Ai(t),xl().LogIn()}),Ct(1,"Login"),Se()}}function RU(i,e){1&i&&(De(0,"div",12),Ct(1,"Home"),Se())}function kU(i,e){1&i&&(De(0,"div",13),Ct(1,"profile"),Se())}function OU(i,e){1&i&&(De(0,"div",14),Ct(1,"posts "),Se())}function xU(i,e){if(1&i&&(De(0,"div",15),Ct(1),Se()),2&i){const t=xl();an(1),Fl(" Hello, ",t.getUserName()," ")}}function PU(i,e){if(1&i){const t=Ol();De(0,"div",11),Xr("click",function(){return Ai(t),xl().onLogoutClick()}),Ct(1," Logout "),Se()}}let nw=(()=>{class i{constructor(t,o){this.router=t,this._MatBottomSheet=o,this.title="ANSocialApp",this.userHasProfile=!0,this.auth=new op,this.firestore=new cp,this.auth.listenToSignInStateChanges(c=>{this.auth.checkSignInState({whenSignedIn:h=>{this.getUserProfile()},whenSignedOut:h=>{i.userDocument=null,this.router.navigate([""])},whenSignedInAndEmailNotVerified:h=>{},whenSignedInAndEmailVerified:h=>{},whenChanged:h=>{}})})}ngOnInit(){}LogIn(){this._MatBottomSheet.open(PM)}onLogoutClick(){this.auth.signOut()}loggedIn(){return this.auth.isSignedIn()}static gerUserDocument(){return i.userDocument}getUserProfile(){this.firestore.listenToDocument({name:"Getting Document",path:["Users",this.auth.getAuth().currentUser.uid],onUpdate:t=>{var o;i.userDocument=t.data(),this.userHasProfile=t.exists,i.userDocument.userId=null===(o=this.auth.getAuth().currentUser)||void 0===o?void 0:o.uid,this.userHasProfile&&this.router.navigate(["postfeed"])}})}getUserName(){try{return i.userDocument.publicName}catch(t){return}}}return i.\u0275fac=function(t){return new(t||i)(Te(ss),Te(xM))},i.\u0275cmp=ar({type:i,selectors:[["app-root"]],decls:14,vars:7,consts:[["id","nav-bar"],["id","nav-bar-content"],["id","nav-bar-left"],[1,"nav-bar-items",2,"font-size","1.5em"],["id","nav-bar-right"],["class","nav-bar-items",3,"click",4,"ngIf"],["class","nav-bar-items","routerLink","userPosts",4,"ngIf"],["class","nav-bar-items","routerLink","userprofile",4,"ngIf"],["class","nav-bar-items","routerLink","postfeed",4,"ngIf"],["class","nav-bar-items-logged",4,"ngIf"],[3,"show"],[1,"nav-bar-items",3,"click"],["routerLink","userPosts",1,"nav-bar-items"],["routerLink","userprofile",1,"nav-bar-items"],["routerLink","postfeed",1,"nav-bar-items"],[1,"nav-bar-items-logged"]],template:function(t,o){1&t&&(De(0,"div",0),De(1,"div",1),De(2,"div",2),De(3,"div",3),Ct(4," AN Social "),Se(),Se(),De(5,"div",4),ko(6,MU,2,0,"div",5),ko(7,RU,2,0,"div",6),ko(8,kU,2,0,"div",7),ko(9,OU,2,0,"div",8),ko(10,xU,2,1,"div",9),ko(11,PU,2,0,"div",5),Se(),Se(),Se(),Ir(12,"router-outlet"),Ir(13,"app-profile",10)),2&t&&(an(6),Fr("ngIf",!o.loggedIn()),an(1),Fr("ngIf",o.loggedIn()),an(1),Fr("ngIf",o.loggedIn()),an(1),Fr("ngIf",o.loggedIn()),an(1),Fr("ngIf",o.loggedIn()),an(1),Fr("ngIf",o.loggedIn()),an(2),Fr("show",o.loggedIn()&&!o.userHasProfile))},directives:[Z_,wb,L0,AU],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}#nav-bar[_ngcontent-%COMP%]{width:100%;height:5em;z-index:10;background-color:#131313}#nav-bar[_ngcontent-%COMP%]   #nav-bar-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;height:100%}#nav-bar[_ngcontent-%COMP%]   #nav-bar-content[_ngcontent-%COMP%]   #nav-bar-left[_ngcontent-%COMP%], #nav-bar[_ngcontent-%COMP%]   #nav-bar-content[_ngcontent-%COMP%]   #nav-bar-right[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;padding:0 2em;color:#fff;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#nav-bar[_ngcontent-%COMP%]   #nav-bar-content[_ngcontent-%COMP%]   #nav-bar-right[_ngcontent-%COMP%]{justify-content:flex-end}.nav-bar-items[_ngcontent-%COMP%]{font-size:1em;display:inline-block;cursor:pointer;margin-left:10px;margin-right:10px}.nav-bar-items-logged[_ngcontent-%COMP%]{color:#0ff}"]}),i})();const NU=function(i){return{"comment-container":!0,"creator-comment-container":i}},FU=function(i){return{comment:!0,"creator-comment":i}};function LU(i,e){if(1&i&&(De(0,"div",7),De(1,"p",8),Ct(2),Se(),Ir(3,"br"),De(4,"p",7),Ct(5),Se(),Se()),2&i){const t=e.$implicit,o=xl();Fr("ngClass",Iw(4,NU,o.isCommentCreator(t))),an(2),Og(null==t?null:t.creatorName),an(2),Fr("ngClass",Iw(6,FU,o.isCommentCreator(t))),an(1),Og(null==t?null:t.Comment)}}let jU=(()=>{class i{constructor(t){this.postId=t,this.firestore=new cp,this.comments=[]}ngOnInit(){this.getComments()}getComments(){this.firestore.listenToCollection({name:"Post Comments",path:["Posts",this.postId,"postComments"],where:[new YE("timestamp","asc")],onUpdate:t=>{t.docChanges().forEach(o=>{"added"==o.type&&this.comments.unshift(o.doc.data())})}})}isCommentCreator(t){try{return t.creatorId==nw.gerUserDocument().userId}catch(o){return}}onSendClick(t){t.value.length<0||this.firestore.create({path:["Posts",this.postId,"postComments"],data:{Comment:t.value,creatorId:nw.gerUserDocument().userId,creatorName:nw.gerUserDocument().publicName,timestamp:Fa.getFirestoreTimestamp()},onComplete:o=>{t.value=""}})}}return i.\u0275fac=function(t){return new(t||i)(Te(VM))},i.\u0275cmp=ar({type:i,selectors:[["app-reply"]],decls:10,vars:1,consts:[["id","reply-box"],[3,"ngClass",4,"ngFor","ngForOf"],["id","reply-action-bar"],["mat-flat-button","","color","warn"],[3,"click"],["placeholder","Comment..."],["commentInput",""],[3,"ngClass"],[1,"comment-name"]],template:function(t,o){if(1&t){const c=Ol();De(0,"p"),Ct(1,"Reply"),Se(),De(2,"div",0),ko(3,LU,6,8,"div",1),Se(),De(4,"div",2),De(5,"button",3),De(6,"mat-icon",4),Xr("click",function(){Ai(c);const p=Rs(9);return o.onSendClick(p)}),Ct(7,"send"),Se(),Se(),Ir(8,"input",5,6),Se()}2&t&&(an(3),Fr("ngForOf",o.comments))},directives:[X_,c0,Wg,tw],styles:["#reply-box[_ngcontent-%COMP%]{width:100%;height:300px;overflow:auto;min-width:400px;max-width:600px;padding:0 1em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#reply-action-bar[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:3em 1fr;direction:rtl}input[_ngcontent-%COMP%]{padding:1em 2em 1em 1em;border:1px solid gray;outline:none;width:100%;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.comment-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.comment-name[_ngcontent-%COMP%]{font-size:.9em}.comment[_ngcontent-%COMP%]{border-radius:1em;background-color:#dcdcdc;padding:.5em}.creator-comment-container[_ngcontent-%COMP%]{justify-content:flex-end;text-align:end}.creator-comment[_ngcontent-%COMP%]{background-color:tomato;color:#fff}"]}),i})(),tR=(()=>{class i{constructor(t){this.dialog=t,this.firestore=new cp}ngOnInit(){this.getCreatorInfo()}getCreatorInfo(){this.postData&&this.firestore.getDocument({path:["Users",this.postData.creatorId],onComplete:t=>{let o=t.data();o&&(this.creatorName=o.publicName,this.creatorDescription=o.description)}})}onReplyClick(){var t;this.dialog.open(jU,{data:null===(t=this.postData)||void 0===t?void 0:t.postId})}}return i.\u0275fac=function(t){return new(t||i)(Te(XE))},i.\u0275cmp=ar({type:i,selectors:[["app-posts"]],inputs:{postData:"postData"},decls:16,vars:4,consts:[["mat-card-image","",3,"src"],["color","warn",1,"action-item",3,"click"],["color","warn",1,"action-item"]],template:function(t,o){1&t&&(De(0,"mat-card"),De(1,"mat-card-header"),De(2,"mat-card-title"),Ct(3),Se(),De(4,"mat-card-subtitle"),Ct(5),Se(),Se(),Ir(6,"img",0),De(7,"mat-card-content"),Ct(8),Se(),De(9,"mat-card-actions"),De(10,"mat-icon",1),Xr("click",function(){return o.onReplyClick()}),Ct(11," chat_bubble_outline "),Se(),De(12,"mat-icon",2),Ct(13,"favorite_border"),Se(),De(14,"mat-icon",2),Ct(15,"save"),Se(),Se(),Se()),2&t&&(an(3),Og(o.creatorName),an(2),Og(o.creatorDescription),an(1),Fr("src",null==o.postData?null:o.postData.imageUrl,Ds),an(2),Fl(" ",null==o.postData?null:o.postData.comment," "))},directives:[WE,KE,$E,LV,jV,FV,GE,tw],styles:[".action-item[_ngcontent-%COMP%]{margin-left:.5em;cursor:pointer}mat-card[_ngcontent-%COMP%]{margin-bottom:2em}"]}),i})();function BU(i,e){1&i&&Ir(0,"app-posts",2),2&i&&Fr("postData",e.$implicit)}const VU=[{path:"",component:NM},{path:"home",component:NM},{path:"emailVerify",canActivate:[Eb],component:MB},{path:"postfeed",canActivate:[Eb],component:eR},{path:"userprofile",canActivate:[Eb],component:(()=>{class i{constructor(){this.users=[],this.firestore=new cp,this.auth=new op}ngOnInit(){this.getUserProfile(),console.log(this.users)}getUserProfile(){this.firestore.listenToDocument({name:"Getting Document",path:["Users",this.auth.getAuth().currentUser.uid],onUpdate:t=>{this.users.push(t.data())}})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=ar({type:i,selectors:[["app-user-profile"]],decls:26,vars:5,consts:[[1,"container"],[1,"name"],[1,"email"],[1,"age"],[1,"fullname"],[1,"desc"]],template:function(t,o){1&t&&(De(0,"div",0),De(1,"div",1),De(2,"span"),Ct(3,"Name : "),Se(),De(4,"span"),Ct(5),Se(),Se(),De(6,"div",2),De(7,"span"),Ct(8,"email : "),Se(),De(9,"span"),Ct(10),Se(),Se(),De(11,"div",3),De(12,"span"),Ct(13,"age : "),Se(),De(14,"span"),Ct(15),Se(),Se(),De(16,"div",4),De(17,"span"),Ct(18,"fullname : "),Se(),De(19,"span"),Ct(20),Se(),Se(),De(21,"div",5),De(22,"span"),Ct(23,"description : "),Se(),De(24,"span"),Ct(25),Se(),Se(),Se()),2&t&&(an(5),Fl(" ",o.users[0].publicName,""),an(5),Fl(" ",o.users[0].email,""),an(5),Fl(" ",o.users[0].age,""),an(5),Fl(" ",o.users[0].fullName,""),an(5),Fl(" ",o.users[0].description,"desc"))},styles:[".container[_ngcontent-%COMP%]{background-color:#131313;color:#fff;height:90vh;padding-top:60px}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:65px;border:1px solid white;border-radius:15px;width:50%;margin:auto auto 30px;display:flex;align-items:center;justify-content:center}"]}),i})()},{path:"userPosts",canActivate:[Eb],component:(()=>{class i{constructor(){this.posts=[],this.firestore=new cp,this.auth=new op}getPosts(){this.firestore.getCollection({path:["Posts"],where:[new YE("timestamp","desc"),new FM(10)],onComplete:t=>{t.docs.forEach(o=>{var c;if(o.data().creatorId==(null===(c=this.auth.getAuth().currentUser)||void 0===c?void 0:c.uid)){let h=o.data();h.postId=o.id,this.posts.push(h)}})},onFail:t=>{console.log(t)}})}ngOnInit(){this.getPosts()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=ar({type:i,selectors:[["app-user-posts"]],decls:2,vars:1,consts:[["id","post-feed"],[3,"postData",4,"ngFor","ngForOf"],[3,"postData"]],template:function(t,o){1&t&&(De(0,"div",0),ko(1,BU,1,1,"app-posts",1),Se()),2&t&&(an(1),Fr("ngForOf",o.posts))},directives:[X_,tR],styles:["#post-feed[_ngcontent-%COMP%]{max-width:500px;margin-top:5em;margin-left:auto;margin-right:auto}"]}),i})()},{path:"**",redirectTo:""}];let UU=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Hn({type:i}),i.\u0275inj=Le({imports:[[UT.forRoot(VU)],UT]}),i})();const nR_firebaseConfig={apiKey:"AIzaSyAdIIDTz6HFPHFgNoLOpRiDGbJ66rKAZlQ",authDomain:"ansocialapp.firebaseapp.com",projectId:"ansocialapp",storageBucket:"ansocialapp.appspot.com",messagingSenderId:"38699432267",appId:"1:38699432267:web:b5601cbf2c9a30c83210ce",measurementId:"G-Z62JEMEPLQ"},HU=[AB,OM,BV,eU,CU];let qU=(()=>{class i{constructor(){Fa.init(nR_firebaseConfig)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Hn({type:i,bootstrap:[nw]}),i.\u0275inj=Le({providers:[{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!1,providers:[{id:Gb.PROVIDER_ID,provider:new Gb("38699432267-6ouj12nu0gpa8kcoofsojps6v24e9s5p.apps.googleusercontent.com")},{id:OE.PROVIDER_ID,provider:new OE("645973376521929")}]}}],imports:[[OI,lB,OB,UU,...HU]]}),i})();(function Jl(i,e,t){const o=i.\u0275cmp;o.directiveDefs=()=>e.map(Vi),o.pipeDefs=()=>t.map(Dd)})(eR,[X_,tR,Wg,tw],[]),function rP(){qS=!1}(),TN().bootstrapModule(qU).catch(i=>console.error(i))},867:(qa,hi,Ft)=>{Ft.r(hi),Ft.d(hi,{default:()=>ge.Z});var ge=Ft(367);ge.Z.registerVersion("firebase","8.10.1","app"),ge.Z.SDK_VERSION="8.10.1"},315:(qa,hi,Ft)=>{Ft.r(hi);var ge=Ft(367);(function(){var I,Ge="function"==typeof Object.defineProperties?Object.defineProperty:function(u,f,v){u!=Array.prototype&&u!=Object.prototype&&(u[f]=v.value)},Tt=function it(u){u=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,u];for(var f=0;f<u.length;++f){var v=u[f];if(v&&v.Math==Math)return v}return globalThis}(this);function Tr(u){var f=0;return function(){return f<u.length?{done:!1,value:u[f++]}:{done:!0}}}function Ei(u){var f="undefined"!=typeof Symbol&&Symbol.iterator&&u[Symbol.iterator];return f?f.call(u):{next:Tr(u)}}!function eo(u,f){if(f){var v=Tt;u=u.split(".");for(var w=0;w<u.length-1;w++){var D=u[w];D in v||(v[D]={}),v=v[D]}(f=f(w=v[u=u[u.length-1]]))!=w&&null!=f&&Ge(v,u,{configurable:!0,writable:!0,value:f})}}("Promise",function(u){function f(P){this.b=0,this.c=void 0,this.a=[];var U=this.f();try{P(U.resolve,U.reject)}catch(le){U.reject(le)}}function v(){this.a=null}function w(P){return P instanceof f?P:new f(function(U){U(P)})}if(u)return u;v.prototype.b=function(P){if(null==this.a){this.a=[];var U=this;this.c(function(){U.g()})}this.a.push(P)};var D=Tt.setTimeout;v.prototype.c=function(P){D(P,0)},v.prototype.g=function(){for(;this.a&&this.a.length;){var P=this.a;this.a=[];for(var U=0;U<P.length;++U){var le=P[U];P[U]=null;try{le()}catch(a){this.f(a)}}}this.a=null},v.prototype.f=function(P){this.c(function(){throw P})},f.prototype.f=function(){function P(a){return function(s){le||(le=!0,a.call(U,s))}}var U=this,le=!1;return{resolve:P(this.m),reject:P(this.g)}},f.prototype.m=function(P){if(P===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(P instanceof f)this.s(P);else{e:switch(typeof P){case"object":var U=null!=P;break e;case"function":U=!0;break e;default:U=!1}U?this.v(P):this.h(P)}},f.prototype.v=function(P){var U=void 0;try{U=P.then}catch(le){return void this.g(le)}"function"==typeof U?this.u(U,P):this.h(P)},f.prototype.g=function(P){this.i(2,P)},f.prototype.h=function(P){this.i(1,P)},f.prototype.i=function(P,U){if(0!=this.b)throw Error("Cannot settle("+P+", "+U+"): Promise already settled in state"+this.b);this.b=P,this.c=U,this.l()},f.prototype.l=function(){if(null!=this.a){for(var P=0;P<this.a.length;++P)O.b(this.a[P]);this.a=null}};var O=new v;return f.prototype.s=function(P){var U=this.f();P.Ra(U.resolve,U.reject)},f.prototype.u=function(P,U){var le=this.f();try{P.call(U,le.resolve,le.reject)}catch(a){le.reject(a)}},f.prototype.then=function(P,U){function le(d,g){return"function"==typeof d?function(y){try{a(d(y))}catch(b){s(b)}}:g}var a,s,l=new f(function(d,g){a=d,s=g});return this.Ra(le(P,a),le(U,s)),l},f.prototype.catch=function(P){return this.then(void 0,P)},f.prototype.Ra=function(P,U){function le(){switch(a.b){case 1:P(a.c);break;case 2:U(a.c);break;default:throw Error("Unexpected state: "+a.b)}}var a=this;null==this.a?O.b(le):this.a.push(le)},f.resolve=w,f.reject=function(P){return new f(function(U,le){le(P)})},f.race=function(P){return new f(function(U,le){for(var a=Ei(P),s=a.next();!s.done;s=a.next())w(s.value).Ra(U,le)})},f.all=function(P){var U=Ei(P),le=U.next();return le.done?w([]):new f(function(a,s){function l(y){return function(b){d[y]=b,0==--g&&a(d)}}var d=[],g=0;do{d.push(void 0),g++,w(le.value).Ra(l(d.length-1),s),le=U.next()}while(!le.done)})},f});var ce=ce||{},$=this||self,be=/^[\w+/_-]+[=]{0,2}$/,Re=null;function Ae(u){return(u=u.querySelector&&u.querySelector("script[nonce]"))&&(u=u.nonce||u.getAttribute("nonce"))&&be.test(u)?u:""}function Be(){}function Rt(u){var f=typeof u;return"object"!=f?f:u?Array.isArray(u)?"array":f:"null"}function xt(u){var f=Rt(u);return"array"==f||"object"==f&&"number"==typeof u.length}function It(u){return"function"==Rt(u)}function ft(u){var f=typeof u;return"object"==f&&null!=u||"function"==f}function pr(u){return Object.prototype.hasOwnProperty.call(u,Vt)&&u[Vt]||(u[Vt]=++ti)}var Vt="closure_uid_"+(1e9*Math.random()>>>0),ti=0;function pt(u,f,v){return u.call.apply(u.bind,arguments)}function Ln(u,f,v){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,w),u.apply(f,D)}}return function(){return u.apply(f,arguments)}}function et(u,f,v){return(et=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pt:Ln).apply(null,arguments)}function en(u,f){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),u.apply(this,w)}}var Ci=Date.now;function te(u,f){function v(){}v.prototype=f.prototype,u.bb=f.prototype,u.prototype=new v,u.prototype.constructor=u}function ye(u){return u}function B(u,f,v){this.code=Oe+u,this.message=f||ke[u]||"",this.a=v||null}function he(u){var f=u&&u.code;return f?new B(f.substring(Oe.length),u.message,u.serverResponse):null}te(B,Error),B.prototype.w=function(){var u={code:this.code,message:this.message};return this.a&&(u.serverResponse=this.a),u},B.prototype.toJSON=function(){return this.w()};var We,Oe="auth/",ke={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Qe={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Lt(u){for(var f in Qe)if(Qe[f].id===u)return{firebaseEndpoint:(u=Qe[f]).Ua,secureTokenEndpoint:u.$a,identityPlatformEndpoint:u.Xa};return null}function dt(u){if(!u)return!1;try{return!!u.$goog_Thenable}catch(f){return!1}}function Qt(u){if(Error.captureStackTrace)Error.captureStackTrace(this,Qt);else{var f=Error().stack;f&&(this.stack=f)}u&&(this.message=String(u))}function Ue(u,f){for(var v="",w=(u=u.split("%s")).length-1,D=0;D<w;D++)v+=u[D]+(D<f.length?f[D]:"%s");Qt.call(this,v+u[w])}function Ee(u,f){throw new Ue("Failure"+(u?": "+u:""),Array.prototype.slice.call(arguments,1))}function Fe(u,f){this.c=u,this.f=f,this.b=0,this.a=null}function vn(u,f){u.f(f),100>u.b&&(u.b++,f.next=u.a,u.a=f)}function ln(){this.b=this.a=null}We=Lt("__EID__")?"__EID__":void 0,te(Qt,Error),Qt.prototype.name="CustomError",te(Ue,Qt),Ue.prototype.name="AssertionError",Fe.prototype.get=function(){if(0<this.b){this.b--;var u=this.a;this.a=u.next,u.next=null}else u=this.c();return u};var Fi=new Fe(function(){return new Fo},function(u){u.reset()});function No(){var u=Ql,f=null;return u.a&&(f=u.a,u.a=u.a.next,u.a||(u.b=null),f.next=null),f}function Fo(){this.next=this.b=this.a=null}ln.prototype.add=function(u,f){var v=Fi.get();v.set(u,f),this.b?this.b.next=v:this.a=v,this.b=v},Fo.prototype.set=function(u,f){this.a=u,this.b=f,this.next=null},Fo.prototype.reset=function(){this.next=this.b=this.a=null};var za=Array.prototype.indexOf?function(u,f){return Array.prototype.indexOf.call(u,f,void 0)}:function(u,f){if("string"==typeof u)return"string"!=typeof f||1!=f.length?-1:u.indexOf(f,0);for(var v=0;v<u.length;v++)if(v in u&&u[v]===f)return v;return-1},yn=Array.prototype.forEach?function(u,f,v){Array.prototype.forEach.call(u,f,v)}:function(u,f,v){for(var w=u.length,D="string"==typeof u?u.split(""):u,O=0;O<w;O++)O in D&&f.call(v,D[O],O,u)},Ul=Array.prototype.filter?function(u,f){return Array.prototype.filter.call(u,f,void 0)}:function(u,f){for(var v=u.length,w=[],D=0,O="string"==typeof u?u.split(""):u,P=0;P<v;P++)if(P in O){var U=O[P];f.call(void 0,U,P,u)&&(w[D++]=U)}return w},Pt=Array.prototype.map?function(u,f){return Array.prototype.map.call(u,f,void 0)}:function(u,f){for(var v=u.length,w=Array(v),D="string"==typeof u?u.split(""):u,O=0;O<v;O++)O in D&&(w[O]=f.call(void 0,D[O],O,u));return w},Wt=Array.prototype.some?function(u,f){return Array.prototype.some.call(u,f,void 0)}:function(u,f){for(var v=u.length,w="string"==typeof u?u.split(""):u,D=0;D<v;D++)if(D in w&&f.call(void 0,w[D],D,u))return!0;return!1};function In(u,f){return 0<=za(u,f)}function jn(u,f){var v;return(v=0<=(f=za(u,f)))&&Array.prototype.splice.call(u,f,1),v}function Kn(u,f){!function Ar(u,f){for(var v="string"==typeof u?u.split(""):u,w=u.length-1;0<=w;--w)w in v&&f.call(void 0,v[w],w,u)}(u,function(w,D){f.call(void 0,w,D,u)&&Array.prototype.splice.call(u,D,1)})}function jr(u){return Array.prototype.concat.apply([],arguments)}function on(u){var f=u.length;if(0<f){for(var v=Array(f),w=0;w<f;w++)v[w]=u[w];return v}return[]}var to,Ps=String.prototype.trim?function(u){return u.trim()}:function(u){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(u)[1]},vo=/&/g,Hl=/</g,ni=/>/g,us=/"/g,pp=/'/g,Hu=/\x00/g,_d=/[\x00&<>"']/;function wn(u,f){return-1!=u.indexOf(f)}function Lo(u,f){return u<f?-1:u>f?1:0}e:{var $a=$.navigator;if($a){var Ga=$a.userAgent;if(Ga){to=Ga;break e}}to=""}function Tn(u){return wn(to,u)}function Ns(u,f){for(var v in u)f.call(void 0,u[v],v,u)}function W(u){for(var f in u)return!1;return!0}function G(u){var v,f={};for(v in u)f[v]=u[v];return f}var Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,f){for(var v,w,D=1;D<arguments.length;D++){for(v in w=arguments[D])u[v]=w[v];for(var O=0;O<Q.length;O++)v=Q[O],Object.prototype.hasOwnProperty.call(w,v)&&(u[v]=w[v])}}function K(u,f){e:{try{var v=u&&u.ownerDocument,w=v&&(v.defaultView||v.parentWindow);if((w=w||$).Element&&w.Location){var D=w;break e}}catch(P){}D=null}if(D&&void 0!==D[f]&&(!u||!(u instanceof D[f])&&(u instanceof D.Location||u instanceof D.Element))){if(ft(u))try{var O=u.constructor.displayName||u.constructor.name||Object.prototype.toString.call(u)}catch(P){O="<object could not be stringified>"}else O=void 0===u?"undefined":null===u?"null":typeof u;Ee("Argument is not a %s (or a non-Element, non-Location mock); got: %s",f,O)}}function Me(u,f){this.a=u===tn&&f||"",this.b=Ut}function ut(u){return u instanceof Me&&u.constructor===Me&&u.b===Ut?u.a:(Ee("expected object of type Const, got '"+u+"'"),"type_error:Const")}Me.prototype.ta=!0,Me.prototype.sa=function(){return this.a},Me.prototype.toString=function(){return"Const{"+this.a+"}"};var Kt,Ut={},tn={};function Mr(){if(void 0===Kt){var u=null,f=$.trustedTypes;if(f&&f.createPolicy){try{u=f.createPolicy("goog#html",{createHTML:ye,createScript:ye,createScriptURL:ye})}catch(v){$.console&&$.console.error(v.message)}Kt=u}else Kt=u}return Kt}function Ht(u,f){this.a=f===jo?u:""}function kt(u){return u instanceof Ht&&u.constructor===Ht?u.a:(Ee("expected object of type TrustedResourceUrl, got '"+u+"' of type "+Rt(u)),"type_error:TrustedResourceUrl")}function no(u,f){var v=ut(u);if(!qu.test(v))throw Error("Invalid TrustedResourceUrl format: "+v);return function cs(u){var f=Mr();return new Ht(u=f?f.createScriptURL(u):u,jo)}(u=v.replace(Bn,function(w,D){if(!Object.prototype.hasOwnProperty.call(f,D))throw Error('Found marker, "'+D+'", in format string, "'+v+'", but no valid label mapping found in args: '+JSON.stringify(f));return(w=f[D])instanceof Me?ut(w):encodeURIComponent(String(w))}))}Ht.prototype.ta=!0,Ht.prototype.sa=function(){return this.a.toString()},Ht.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Bn=/%{(\w+)}/g,qu=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,jo={};function Yn(u,f){this.a=f===Wa?u:""}function Fs(u){return u instanceof Yn&&u.constructor===Yn?u.a:(Ee("expected object of type SafeUrl, got '"+u+"' of type "+Rt(u)),"type_error:SafeUrl")}Yn.prototype.ta=!0,Yn.prototype.sa=function(){return this.a.toString()},Yn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var zu=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Lc=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,yo=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function ca(u){if(u instanceof Yn)return u;if(u="object"==typeof u&&u.ta?u.sa():String(u),yo.test(u))u=new Yn(u,Wa);else{var f=(u=(u=String(u)).replace(/(%0A|%0D)/g,"")).match(Lc);u=f&&zu.test(f[1])?new Yn(u,Wa):null}return u}function $u(u){return u instanceof Yn?u:(u="object"==typeof u&&u.ta?u.sa():String(u),yo.test(u)||(u="about:invalid#zClosurez"),new Yn(u,Wa))}var Wa={},Gu=new Yn("about:invalid#zClosurez",Wa);function Ls(u,f,v){this.a=v===zl?u:""}Ls.prototype.ta=!0,Ls.prototype.sa=function(){return this.a.toString()},Ls.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var zl={};function Ka(u,f,v,w){return u=u instanceof Yn?u:$u(u),f=f||$,v=v instanceof Me?ut(v):v||"",f.open(Fs(u),v,w,void 0)}function Ya(u,f){for(var v=u.split("%s"),w="",D=Array.prototype.slice.call(arguments,1);D.length&&1<v.length;)w+=v.shift()+D.shift();return w+v.join("%s")}function er(u){return _d.test(u)&&(-1!=u.indexOf("&")&&(u=u.replace(vo,"&amp;")),-1!=u.indexOf("<")&&(u=u.replace(Hl,"&lt;")),-1!=u.indexOf(">")&&(u=u.replace(ni,"&gt;")),-1!=u.indexOf('"')&&(u=u.replace(us,"&quot;")),-1!=u.indexOf("'")&&(u=u.replace(pp,"&#39;")),-1!=u.indexOf("\0")&&(u=u.replace(Hu,"&#0;"))),u}function Qa(u){return Qa[" "](u),u}Qa[" "]=Be;var ls,u,Gl=Tn("Opera"),Li=Tn("Trident")||Tn("MSIE"),Xt=Tn("Edge"),js=Xt||Li,sn=Tn("Gecko")&&!(wn(to.toLowerCase(),"webkit")&&!Tn("Edge"))&&!(Tn("Trident")||Tn("MSIE"))&&!Tn("Edge"),ro=wn(to.toLowerCase(),"webkit")&&!Tn("Edge");function Wl(){var u=$.document;return u?u.documentMode:void 0}e:{var vt="",hs=(u=to,sn?/rv:([^\);]+)(\)|;)/.exec(u):Xt?/Edge\/([\d\.]+)/.exec(u):Li?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(u):ro?/WebKit\/(\S+)/.exec(u):Gl?/(?:Version)[ \/]?(\S+)/.exec(u):void 0);if(hs&&(vt=hs?hs[1]:""),Li){var Kl=Wl();if(null!=Kl&&Kl>parseFloat(vt)){ls=String(Kl);break e}}ls=vt}var yt={};function Wu(u){return function Rr(u,f){var v=yt;return Object.prototype.hasOwnProperty.call(v,u)?v[u]:v[u]=f(u)}(u,function(){for(var f=0,v=Ps(String(ls)).split("."),w=Ps(String(u)).split("."),D=Math.max(v.length,w.length),O=0;0==f&&O<D;O++){var P=v[O]||"",U=w[O]||"";do{if(P=/(\d*)(\D*)(.*)/.exec(P)||["","","",""],U=/(\d*)(\D*)(.*)/.exec(U)||["","","",""],0==P[0].length&&0==U[0].length)break;f=Lo(0==P[1].length?0:parseInt(P[1],10),0==U[1].length?0:parseInt(U[1],10))||Lo(0==P[2].length,0==U[2].length)||Lo(P[2],U[2]),P=P[3],U=U[3]}while(0==f)}return 0<=f})}var _o=$.document&&Li&&(Wl()||parseInt(ls,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(u){}var bd=!Li||9<=Number(_o);function Xa(u){var f=document;return"string"==typeof u?f.getElementById(u):u}function Za(u,f){Ns(f,function(v,w){v&&"object"==typeof v&&v.ta&&(v=v.sa()),"style"==w?u.style.cssText=v:"class"==w?u.className=v:"for"==w?u.htmlFor=v:gr.hasOwnProperty(w)?u.setAttribute(gr[w],v):0==w.lastIndexOf("aria-",0)||0==w.lastIndexOf("data-",0)?u.setAttribute(w,v):u[w]=v})}var eu,Yu,gr={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ja(u,f,v){function w(U){U&&f.appendChild("string"==typeof U?u.createTextNode(U):U)}for(var D=2;D<v.length;D++){var O=v[D];if(!xt(O)||ft(O)&&0<O.nodeType)w(O);else{e:{if(O&&"number"==typeof O.length){if(ft(O)){var P="function"==typeof O.item||"string"==typeof O.item;break e}if(It(O)){P="function"==typeof O.item;break e}}P=!1}yn(P?on(O):O,w)}}}function Ku(u,f){return f=String(f),"application/xhtml+xml"===u.contentType&&(f=f.toLowerCase()),u.createElement(f)}function ji(u){$.setTimeout(function(){throw u},0)}function Yl(u,f){Yu||function jc(){if($.Promise&&$.Promise.resolve){var u=$.Promise.resolve(void 0);Yu=function(){u.then(Ed)}}else Yu=function(){var f=Ed;!It($.setImmediate)||$.Window&&$.Window.prototype&&!Tn("Edge")&&$.Window.prototype.setImmediate==$.setImmediate?(eu||(eu=function gp(){var u=$.MessageChannel;if(void 0===u&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Tn("Presto")&&(u=function(){var D=Ku(document,"IFRAME");D.style.display="none",document.documentElement.appendChild(D);var O=D.contentWindow;(D=O.document).open(),D.close();var P="callImmediate"+Math.random(),U="file:"==O.location.protocol?"*":O.location.protocol+"//"+O.location.host;D=et(function(le){("*"==U||le.origin==U)&&le.data==P&&this.port1.onmessage()},this),O.addEventListener("message",D,!1),this.port1={},this.port2={postMessage:function(){O.postMessage(P,U)}}}),void 0!==u&&!Tn("Trident")&&!Tn("MSIE")){var f=new u,v={},w=v;return f.port1.onmessage=function(){if(void 0!==v.next){var D=(v=v.next).Hb;v.Hb=null,D()}},function(D){w.next={Hb:D},w=w.next,f.port2.postMessage(0)}}return function(D){$.setTimeout(D,0)}}()),eu(f)):$.setImmediate(f)}}(),Qu||(Yu(),Qu=!0),Ql.add(u,f)}var Qu=!1,Ql=new ln;function Ed(){for(var u;u=No();){try{u.a.call(u.b)}catch(f){ji(f)}vn(Fi,u)}Qu=!1}function ot(u,f){if(this.a=nn,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,u!=Be)try{var v=this;u.call(f,function(w){ne(v,ds,w)},function(w){if(!(w instanceof At))try{throw w instanceof Error?w:Error("Promise rejected.")}catch(D){}ne(v,Bi,w)})}catch(w){ne(this,Bi,w)}}var nn=0,ds=2,Bi=3;function Bc(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Bc.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var He=new Fe(function(){return new Bc},function(u){u.reset()});function Bs(u,f,v){var w=He.get();return w.g=u,w.b=f,w.f=v,w}function Le(u){if(u instanceof ot)return u;var f=new ot(Be);return ne(f,ds,u),f}function An(u){return new ot(function(f,v){v(u)})}function Xu(u,f,v){_e(u,f,v,null)||Yl(en(f,u))}function M(u){return new ot(function(f){var v=u.length,w=[];if(v)for(var D=function(U,le,a){v--,w[U]=le?{Qb:!0,value:a}:{Qb:!1,reason:a},0==v&&f(w)},O=0;O<u.length;O++)Xu(u[O],en(D,O,!0),en(D,O,!1));else f(w)})}function L(u,f){if(u.a==nn)if(u.c){var v=u.c;if(v.b){for(var w=0,D=null,O=null,P=v.b;P&&(P.c||(w++,P.a==u&&(D=P),!(D&&1<w)));P=P.next)D||(O=P);D&&(v.a==nn&&1==w?L(v,f):(O?((w=O).next==v.f&&(v.f=w),w.next=w.next.next):Xe(v),nt(v,D,Bi,f)))}u.c=null}else ne(u,Bi,f)}function H(u,f){u.b||u.a!=ds&&u.a!=Bi||xe(u),u.f?u.f.next=f:u.b=f,u.f=f}function Y(u,f,v,w){var D=Bs(null,null,null);return D.a=new ot(function(O,P){D.g=f?function(U){try{var le=f.call(w,U);O(le)}catch(a){P(a)}}:O,D.b=v?function(U){try{var le=v.call(w,U);void 0===le&&U instanceof At?P(U):O(le)}catch(a){P(a)}}:P}),D.a.c=u,H(u,D),D.a}function ne(u,f,v){u.a==nn&&(u===v&&(f=Bi,v=new TypeError("Promise cannot resolve to itself")),u.a=1,_e(v,u.$c,u.ad,u)||(u.i=v,u.a=f,u.c=null,xe(u),f!=Bi||v instanceof At||function sr(u,f){u.g=!0,Yl(function(){u.g&&Vn.call(null,f)})}(u,v)))}function _e(u,f,v,w){if(u instanceof ot)return H(u,Bs(f||Be,v||null,w)),!0;if(dt(u))return u.then(f,v,w),!0;if(ft(u))try{var D=u.then;if(It(D))return function de(u,f,v,w,D){function O(le){U||(U=!0,w.call(D,le))}var U=!1;try{f.call(u,function P(le){U||(U=!0,v.call(D,le))},O)}catch(le){O(le)}}(u,D,f,v,w),!0}catch(O){return v.call(w,O),!0}return!1}function xe(u){u.h||(u.h=!0,Yl(u.gc,u))}function Xe(u){var f=null;return u.b&&(u.b=(f=u.b).next,f.next=null),u.b||(u.f=null),f}function nt(u,f,v,w){if(v==Bi&&f.b&&!f.c)for(;u&&u.g;u=u.c)u.g=!1;if(f.a)f.a.c=null,ht(f,v,w);else try{f.c?f.g.call(f.f):ht(f,v,w)}catch(D){Vn.call(null,D)}vn(He,f)}function ht(u,f,v){f==ds?u.g.call(u.f,v):u.b&&u.b.call(u.f,v)}ot.prototype.then=function(u,f,v){return Y(this,It(u)?u:null,It(f)?f:null,v)},ot.prototype.$goog_Thenable=!0,(I=ot.prototype).oa=function(u,f){return(u=Bs(u,u,f)).c=!0,H(this,u),this},I.o=function(u,f){return Y(this,null,u,f)},I.cancel=function(u){if(this.a==nn){var f=new At(u);Yl(function(){L(this,f)},this)}},I.$c=function(u){this.a=nn,ne(this,ds,u)},I.ad=function(u){this.a=nn,ne(this,Bi,u)},I.gc=function(){for(var u;u=Xe(this);)nt(this,u,this.a,this.i);this.h=!1};var Vn=ji;function At(u){Qt.call(this,u)}function Un(){0!=mr&&(vr[pr(this)]=this),this.ya=this.ya,this.pa=this.pa}te(At,Qt),At.prototype.name="cancel";var mr=0,vr={};function fi(u){if(!u.ya&&(u.ya=!0,u.Da(),0!=mr)){var f=pr(u);if(0!=mr&&u.pa&&0<u.pa.length)throw Error(u+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete vr[f]}}Un.prototype.ya=!1,Un.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var io=Object.freeze||function(u){return u},Bo=!Li||9<=Number(_o),Zu=Li&&!Wu("9"),Zt=function(){if(!$.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{$.addEventListener("test",Be,f),$.removeEventListener("test",Be,f)}catch(v){}return u}();function yr(u,f){this.type=u,this.b=this.target=f,this.defaultPrevented=!1}function Br(u,f){if(yr.call(this,u?u.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,u){var v=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.b=f,f=u.relatedTarget){if(sn){e:{try{Qa(f.nodeName);var D=!0;break e}catch(O){}D=!1}D||(f=null)}}else"mouseover"==v?f=u.fromElement:"mouseout"==v&&(f=u.toElement);this.relatedTarget=f,w?(this.clientX=void 0!==w.clientX?w.clientX:w.pageX,this.clientY=void 0!==w.clientY?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType="string"==typeof u.pointerType?u.pointerType:Vr[u.pointerType]||"",this.a=u,u.defaultPrevented&&this.preventDefault()}}yr.prototype.preventDefault=function(){this.defaultPrevented=!0},te(Br,yr);var Vr=io({2:"touch",3:"pen",4:"mouse"});Br.prototype.preventDefault=function(){Br.bb.preventDefault.call(this);var u=this.a;if(u.preventDefault)u.preventDefault();else if(u.returnValue=!1,Zu)try{(u.ctrlKey||112<=u.keyCode&&123>=u.keyCode)&&(u.keyCode=-1)}catch(f){}},Br.prototype.g=function(){return this.a};var hn="closure_listenable_"+(1e6*Math.random()|0),Xl=0;function tu(u,f,v,w,D){this.listener=u,this.proxy=null,this.src=f,this.type=v,this.capture=!!w,this.Wa=D,this.key=++Xl,this.wa=this.Qa=!1}function Vc(u){u.wa=!0,u.listener=null,u.proxy=null,u.src=null,u.Wa=null}function Zl(u){this.src=u,this.a={},this.b=0}function Vo(u,f){var v=f.type;v in u.a&&jn(u.a[v],f)&&(Vc(f),0==u.a[v].length&&(delete u.a[v],u.b--))}function Ju(u,f,v,w){for(var D=0;D<u.length;++D){var O=u[D];if(!O.wa&&O.listener==f&&O.capture==!!v&&O.Wa==w)return D}return-1}Zl.prototype.add=function(u,f,v,w,D){var O=u.toString();(u=this.a[O])||(u=this.a[O]=[],this.b++);var P=Ju(u,f,w,D);return-1<P?(f=u[P],v||(f.Qa=!1)):((f=new tu(f,this.src,O,!!w,D)).Qa=v,u.push(f)),f};var Cd="closure_lm_"+(1e6*Math.random()|0),ar={};function Vi(u,f,v,w,D){if(w&&w.once)Hn(u,f,v,w,D);else if(Array.isArray(f))for(var O=0;O<f.length;O++)Vi(u,f[O],v,w,D);else v=Vs(v),u&&u[hn]?Uc(u,f,v,ft(w)?!!w.capture:!!w,D):Dd(u,f,v,!1,w,D)}function Dd(u,f,v,w,D,O){if(!f)throw Error("Invalid event type");var P=ft(D)?!!D.capture:!!D,U=Uo(u);if(U||(u[Cd]=U=new Zl(u)),!(v=U.add(f,v,w,P,O)).proxy)if(w=function mp(){var u=fs,f=Bo?function(v){return u.call(f.src,f.listener,v)}:function(v){if(!(v=u.call(f.src,f.listener,v)))return v};return f}(),v.proxy=w,w.src=u,w.listener=v,u.addEventListener)Zt||(D=P),void 0===D&&(D=!1),u.addEventListener(f.toString(),w,D);else if(u.attachEvent)u.attachEvent(qn(f.toString()),w);else{if(!u.addListener||!u.removeListener)throw Error("addEventListener and attachEvent are unavailable.");u.addListener(w)}}function Hn(u,f,v,w,D){if(Array.isArray(f))for(var O=0;O<f.length;O++)Hn(u,f[O],v,w,D);else v=Vs(v),u&&u[hn]?Qn(u,f,v,ft(w)?!!w.capture:!!w,D):Dd(u,f,v,!0,w,D)}function bo(u,f,v,w,D){if(Array.isArray(f))for(var O=0;O<f.length;O++)bo(u,f[O],v,w,D);else w=ft(w)?!!w.capture:!!w,v=Vs(v),u&&u[hn]?(u=u.v,(f=String(f).toString())in u.a&&-1<(v=Ju(O=u.a[f],v,w,D))&&(Vc(O[v]),Array.prototype.splice.call(O,v,1),0==O.length&&(delete u.a[f],u.b--))):u&&(u=Uo(u))&&(f=u.a[f.toString()],u=-1,f&&(u=Ju(f,v,w,D)),(v=-1<u?f[u]:null)&&vp(v))}function vp(u){if("number"!=typeof u&&u&&!u.wa){var f=u.src;if(f&&f[hn])Vo(f.v,u);else{var v=u.type,w=u.proxy;f.removeEventListener?f.removeEventListener(v,w,u.capture):f.detachEvent?f.detachEvent(qn(v),w):f.addListener&&f.removeListener&&f.removeListener(w),(v=Uo(f))?(Vo(v,u),0==v.b&&(v.src=null,f[Cd]=null)):Vc(u)}}}function qn(u){return u in ar?ar[u]:ar[u]="on"+u}function ri(u,f,v,w){var D=!0;if((u=Uo(u))&&(f=u.a[f.toString()]))for(f=f.concat(),u=0;u<f.length;u++){var O=f[u];O&&O.capture==v&&!O.wa&&(O=_r(O,w),D=D&&!1!==O)}return D}function _r(u,f){var v=u.listener,w=u.Wa||u.src;return u.Qa&&vp(u),v.call(w,f)}function fs(u,f){if(u.wa)return!0;if(!Bo){if(!f)e:{f=["window","event"];for(var v=$,w=0;w<f.length;w++)if(null==(v=v[f[w]])){f=null;break e}f=v}if(f=new Br(w=f,this),v=!0,!(0>w.keyCode||null!=w.returnValue)){e:{var D=!1;if(0==w.keyCode)try{w.keyCode=-1;break e}catch(P){D=!0}(D||null==w.returnValue)&&(w.returnValue=!0)}for(w=[],D=f.b;D;D=D.parentNode)w.push(D);for(u=u.type,D=w.length-1;0<=D;D--){f.b=w[D];var O=ri(w[D],u,!0,f);v=v&&O}for(D=0;D<w.length;D++)f.b=w[D],O=ri(w[D],u,!1,f),v=v&&O}return v}return _r(u,new Br(f,this))}function Uo(u){return(u=u[Cd])instanceof Zl?u:null}var Ui="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vs(u){return It(u)?u:(u[Ui]||(u[Ui]=function(f){return u.handleEvent(f)}),u[Ui])}function br(){Un.call(this),this.v=new Zl(this),this.bc=this,this.hb=null}function Uc(u,f,v,w,D){u.v.add(String(f),v,!1,w,D)}function Qn(u,f,v,w,D){u.v.add(String(f),v,!0,w,D)}function ps(u,f,v,w){if(!(f=u.v.a[String(f)]))return!0;f=f.concat();for(var D=!0,O=0;O<f.length;++O){var P=f[O];if(P&&!P.wa&&P.capture==v){var U=P.listener,le=P.Wa||P.src;P.Qa&&Vo(u.v,P),D=!1!==U.call(le,w)&&D}}return D&&!w.defaultPrevented}function ii(u,f,v){if(It(u))v&&(u=et(u,v));else{if(!u||"function"!=typeof u.handleEvent)throw Error("Invalid listener argument");u=et(u.handleEvent,u)}return 2147483647<Number(f)?-1:$.setTimeout(u,f||0)}function Hc(u){var f=null;return new ot(function(v,w){-1==(f=ii(function(){v(void 0)},u))&&w(Error("Failed to schedule timer."))}).o(function(v){throw $.clearTimeout(f),v})}function wo(u){if(u.X&&"function"==typeof u.X)return u.X();if("string"==typeof u)return u.split("");if(xt(u)){for(var f=[],v=u.length,w=0;w<v;w++)f.push(u[w]);return f}for(w in f=[],v=0,u)f[v++]=u[w];return f}function Ve(u){if(u.Y&&"function"==typeof u.Y)return u.Y();if(!u.X||"function"!=typeof u.X){if(xt(u)||"string"==typeof u){var f=[];u=u.length;for(var v=0;v<u;v++)f.push(v);return f}for(var w in f=[],v=0,u)f[v++]=w;return f}}function _n(u,f){this.b={},this.a=[],this.c=0;var v=arguments.length;if(1<v){if(v%2)throw Error("Uneven number of arguments");for(var w=0;w<v;w+=2)this.set(arguments[w],arguments[w+1])}else if(u)if(u instanceof _n)for(v=u.Y(),w=0;w<v.length;w++)this.set(v[w],u.get(v[w]));else for(w in u)this.set(w,u[w])}function Di(u){if(u.c!=u.a.length){for(var f=0,v=0;f<u.a.length;){var w=u.a[f];Si(u.b,w)&&(u.a[v++]=w),f++}u.a.length=v}if(u.c!=u.a.length){var D={};for(v=f=0;f<u.a.length;)Si(D,w=u.a[f])||(u.a[v++]=w,D[w]=1),f++;u.a.length=v}}function Si(u,f){return Object.prototype.hasOwnProperty.call(u,f)}te(br,Un),br.prototype[hn]=!0,br.prototype.addEventListener=function(u,f,v,w){Vi(this,u,f,v,w)},br.prototype.removeEventListener=function(u,f,v,w){bo(this,u,f,v,w)},br.prototype.dispatchEvent=function(u){var f,v=this.hb;if(v)for(f=[];v;v=v.hb)f.push(v);v=this.bc;var w=u.type||u;if("string"==typeof u)u=new yr(u,v);else if(u instanceof yr)u.target=u.target||v;else{var D=u;ie(u=new yr(w,v),D)}if(D=!0,f)for(var O=f.length-1;0<=O;O--){var P=u.b=f[O];D=ps(P,w,!0,u)&&D}if(D=ps(P=u.b=v,w,!0,u)&&D,D=ps(P,w,!1,u)&&D,f)for(O=0;O<f.length;O++)D=ps(P=u.b=f[O],w,!1,u)&&D;return D},br.prototype.Da=function(){if(br.bb.Da.call(this),this.v){var v,u=this.v;for(v in u.a){for(var w=u.a[v],D=0;D<w.length;D++)Vc(w[D]);delete u.a[v],u.b--}}this.hb=null},(I=_n.prototype).X=function(){Di(this);for(var u=[],f=0;f<this.a.length;f++)u.push(this.b[this.a[f]]);return u},I.Y=function(){return Di(this),this.a.concat()},I.clear=function(){this.b={},this.c=this.a.length=0},I.get=function(u,f){return Si(this.b,u)?this.b[u]:f},I.set=function(u,f){Si(this.b,u)||(this.c++,this.a.push(u)),this.b[u]=f},I.forEach=function(u,f){for(var v=this.Y(),w=0;w<v.length;w++){var D=v[w],O=this.get(D);u.call(f,O,D,this)}};var kr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function En(u,f){var v;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,u instanceof En?(this.i=void 0!==f?f:u.i,la(this,u.c),this.l=u.l,this.a=u.a,Ho(this,u.g),this.f=u.f,_t(this,em(u.b)),this.h=u.h):u&&(v=String(u).match(kr))?(this.i=!!f,la(this,v[1]||"",!0),this.l=Or(v[2]||""),this.a=Or(v[3]||"",!0),Ho(this,v[4]),this.f=Or(v[5]||"",!0),_t(this,v[6]||"",!0),this.h=Or(v[7]||"")):(this.i=!!f,this.b=new qr(null,this.i))}function la(u,f,v){u.c=v?Or(f,!0):f,u.c&&(u.c=u.c.replace(/:$/,""))}function Ho(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.g=f}else u.g=null}function _t(u,f,v){f instanceof qr?(u.b=f,function tm(u,f){f&&!u.f&&(gs(u),u.c=null,u.a.forEach(function(v,w){var D=w.toLowerCase();w!=D&&(oo(this,w),ru(this,D,v))},u)),u.f=f}(u.b,u.i)):(v||(f=qo(f,Jg)),u.b=new qr(f,u.i))}function Xn(u,f,v){u.b.set(f,v)}function Ur(u,f){return u.b.get(f)}function Hr(u){return u instanceof En?new En(u):new En(u,void 0)}function Us(u,f,v,w){var D=new En(null,void 0);return u&&la(D,u),f&&(D.a=f),v&&Ho(D,v),w&&(D.f=w),D}function Or(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qo(u,f,v){return"string"==typeof u?(u=encodeURI(u).replace(f,qc),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function qc(u){return"%"+((u=u.charCodeAt(0))>>4&15).toString(16)+(15&u).toString(16)}En.prototype.toString=function(){var u=[],f=this.c;f&&u.push(qo(f,Eo,!0),":");var v=this.a;return(v||"file"==f)&&(u.push("//"),(f=this.l)&&u.push(qo(f,Eo,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(v=this.g)&&u.push(":",String(v))),(v=this.f)&&(this.a&&"/"!=v.charAt(0)&&u.push("/"),u.push(qo(v,"/"==v.charAt(0)?Zg:bn,!0))),(v=this.b.toString())&&u.push("?",v),(v=this.h)&&u.push("#",qo(v,zo)),u.join("")},En.prototype.resolve=function(u){var f=new En(this),v=!!u.c;v?la(f,u.c):v=!!u.l,v?f.l=u.l:v=!!u.a,v?f.a=u.a:v=null!=u.g;var w=u.f;if(v)Ho(f,u.g);else if(v=!!u.f){if("/"!=w.charAt(0))if(this.a&&!this.f)w="/"+w;else{var D=f.f.lastIndexOf("/");-1!=D&&(w=f.f.substr(0,D+1)+w)}if(".."==(D=w)||"."==D)w="";else if(wn(D,"./")||wn(D,"/.")){w=0==D.lastIndexOf("/",0),D=D.split("/");for(var O=[],P=0;P<D.length;){var U=D[P++];"."==U?w&&P==D.length&&O.push(""):".."==U?((1<O.length||1==O.length&&""!=O[0])&&O.pop(),w&&P==D.length&&O.push("")):(O.push(U),w=!0)}w=O.join("/")}else w=D}return v?f.f=w:v=""!==u.b.toString(),v?_t(f,em(u.b)):v=!!u.h,v&&(f.h=u.h),f};var Eo=/[#\/\?@]/g,bn=/[#\?:]/g,Zg=/[#\?]/g,Jg=/[#\?@]/g,zo=/#/g;function qr(u,f){this.b=this.a=null,this.c=u||null,this.f=!!f}function gs(u){u.a||(u.a=new _n,u.b=0,u.c&&function Hi(u,f){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var w=u[v].indexOf("="),D=null;if(0<=w){var O=u[v].substring(0,w);D=u[v].substring(w+1)}else O=u[v];f(O,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}(u.c,function(f,v){u.add(decodeURIComponent(f.replace(/\+/g," ")),v)}))}function nu(u){var f=Ve(u);if(void 0===f)throw Error("Keys are undefined");var v=new qr(null,void 0);u=wo(u);for(var w=0;w<f.length;w++){var D=f[w],O=u[w];Array.isArray(O)?ru(v,D,O):v.add(D,O)}return v}function oo(u,f){gs(u),f=ec(u,f),Si(u.a.b,f)&&(u.c=null,u.b-=u.a.get(f).length,Si((u=u.a).b,f)&&(delete u.b[f],u.c--,u.a.length>2*u.c&&Di(u)))}function so(u,f){return gs(u),f=ec(u,f),Si(u.a.b,f)}function ru(u,f,v){oo(u,f),0<v.length&&(u.c=null,u.a.set(ec(u,f),on(v)),u.b+=v.length)}function em(u){var f=new qr;return f.c=u.c,u.a&&(f.a=new _n(u.a),f.b=u.b),f}function ec(u,f){return f=String(f),u.f&&(f=f.toLowerCase()),f}function nm(u){var f=[];return ao(new yp,u,f),f.join("")}function yp(){}function ao(u,f,v){if(null==f)v.push("null");else{if("object"==typeof f){if(Array.isArray(f)){var w=f;f=w.length,v.push("[");for(var D="",O=0;O<f;O++)v.push(D),ao(u,w[O],v),D=",";return void v.push("]")}if(!(f instanceof String||f instanceof Number||f instanceof Boolean)){for(w in v.push("{"),D="",f)Object.prototype.hasOwnProperty.call(f,w)&&"function"!=typeof(O=f[w])&&(v.push(D),zc(w,v),v.push(":"),ao(u,O,v),D=",");return void v.push("}")}f=f.valueOf()}switch(typeof f){case"string":zc(f,v);break;case"number":v.push(isFinite(f)&&!isNaN(f)?String(f):"null");break;case"boolean":v.push(String(f));break;case"function":v.push("null");break;default:throw Error("Unknown type: "+typeof f)}}}(I=qr.prototype).add=function(u,f){gs(this),this.c=null,u=ec(this,u);var v=this.a.get(u);return v||this.a.set(u,v=[]),v.push(f),this.b+=1,this},I.clear=function(){this.a=this.c=null,this.b=0},I.forEach=function(u,f){gs(this),this.a.forEach(function(v,w){yn(v,function(D){u.call(f,D,w,this)},this)},this)},I.Y=function(){gs(this);for(var u=this.a.X(),f=this.a.Y(),v=[],w=0;w<f.length;w++)for(var D=u[w],O=0;O<D.length;O++)v.push(f[w]);return v},I.X=function(u){gs(this);var f=[];if("string"==typeof u)so(this,u)&&(f=jr(f,this.a.get(ec(this,u))));else{u=this.a.X();for(var v=0;v<u.length;v++)f=jr(f,u[v])}return f},I.set=function(u,f){return gs(this),this.c=null,so(this,u=ec(this,u))&&(this.b-=this.a.get(u).length),this.a.set(u,[f]),this.b+=1,this},I.get=function(u,f){return u&&0<(u=this.X(u)).length?String(u[0]):f},I.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var u=[],f=this.a.Y(),v=0;v<f.length;v++){var w=f[v],D=encodeURIComponent(String(w));w=this.X(w);for(var O=0;O<w.length;O++){var P=D;""!==w[O]&&(P+="="+encodeURIComponent(String(w[O]))),u.push(P)}}return this.c=u.join("&")};var rm={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},qv=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function zc(u,f){f.push('"',u.replace(qv,function(v){var w=rm[v];return w||(w="\\u"+(65536|v.charCodeAt(0)).toString(16).substr(1),rm[v]=w),w}),'"')}function _p(){var u=Cn();return Li&&!!_o&&11==_o||/Edge\/\d+/.test(u)}function eh(){return $.window&&$.window.location.href||self&&self.location&&self.location.href||""}function Sd(u,f){f=f||$.window;var v="about:blank";u&&(v=Fs(ca(u)||Gu)),f.location.href=v}function im(u,f){var w,v=[];for(w in u)w in f?typeof u[w]!=typeof f[w]?v.push(w):"object"==typeof u[w]&&null!=u[w]&&null!=f[w]?0<im(u[w],f[w]).length&&v.push(w):u[w]!==f[w]&&v.push(w):v.push(w);for(w in f)w in u||v.push(w);return v}function bp(u){return!!((u=(u||Cn()).toLowerCase()).match(/android/)||u.match(/webos/)||u.match(/iphone|ipad|ipod/)||u.match(/blackberry/)||u.match(/windows phone/)||u.match(/iemobile/))}function tc(u){u=u||$.window;try{u.close()}catch(f){}}function th(u,f,v){var w=Math.floor(1e9*Math.random()).toString();f=f||500,v=v||600;var D=(window.screen.availHeight-v)/2,O=(window.screen.availWidth-f)/2;for(P in f={width:f,height:v,top:0<D?D:0,left:0<O?O:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},v=Cn().toLowerCase(),w&&(f.target=w,wn(v,"crios/")&&(f.target="_blank")),at(Cn())==$c&&(u=u||"http://localhost",f.scrollbars=!0),v=u||"",(u=f)||(u={}),w=window,f=v instanceof Yn?v:ca(void 0!==v.href?v.href:String(v))||Gu,v=u.target||v.target,D=[],u)switch(P){case"width":case"height":case"top":case"left":D.push(P+"="+u[P]);break;case"target":case"noopener":case"noreferrer":break;default:D.push(P+"="+(u[P]?1:0))}var P=D.join(",");if((Tn("iPhone")&&!Tn("iPod")&&!Tn("iPad")||Tn("iPad")||Tn("iPod"))&&w.navigator&&w.navigator.standalone&&v&&"_self"!=v?(K(P=Ku(document,"A"),"HTMLAnchorElement"),f=f instanceof Yn?f:$u(f),P.href=Fs(f),P.setAttribute("target",v),u.noreferrer&&P.setAttribute("rel","noreferrer"),(u=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,w,1),P.dispatchEvent(u),P={}):u.noreferrer?(P=Ka("",w,v,P),u=Fs(f),P&&(js&&wn(u,";")&&(u="'"+u.replace(/'/g,"%27")+"'"),P.opener=null,u='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+er(u)+'">',u=new Ls(u=(w=Mr())?w.createHTML(u):u,null,zl),w=P.document)&&(w.write(function ql(u){return u instanceof Ls&&u.constructor===Ls?u.a:(Ee("expected object of type SafeHtml, got '"+u+"' of type "+Rt(u)),"type_error:SafeHtml")}(u)),w.close())):(P=Ka(f,w,v,P))&&u.noopener&&(P.opener=null),P)try{P.focus()}catch(U){}return P}var om=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rw=/^[^@]+@[^@]+$/;function qi(){var u=null;return new ot(function(f){"complete"==$.document.readyState?f():(u=function(){f()},Hn(window,"load",u))}).o(function(f){throw bo(window,"load",u),f})}function me(u){return u=u||Cn(),!("file:"!==Et()&&"ionic:"!==Et()||!u.toLowerCase().match(/iphone|ipad|ipod|android/))}function Co(){var u=$.window;try{return!(!u||u==u.top)}catch(f){return!1}}function zr(){return void 0!==$.WorkerGlobalScope&&"function"==typeof $.importScripts}function Ce(){return ge.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ge.Z.INTERNAL.hasOwnProperty("node")?"Node":zr()?"Worker":"Browser"}function wr(){var u=Ce();return"ReactNative"===u||"Node"===u}var $c="Firefox";function at(u){var f=u.toLowerCase();return wn(f,"opera/")||wn(f,"opr/")||wn(f,"opios/")?"Opera":wn(f,"iemobile")?"IEMobile":wn(f,"msie")||wn(f,"trident/")?"IE":wn(f,"edge/")?"Edge":wn(f,"firefox/")?$c:wn(f,"silk/")?"Silk":wn(f,"blackberry")?"Blackberry":wn(f,"webos")?"Webos":!wn(f,"safari/")||wn(f,"chrome/")||wn(f,"crios/")||wn(f,"android")?!wn(f,"chrome/")&&!wn(f,"crios/")||wn(f,"edge/")?wn(f,"android")?"Android":(u=u.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==u.length?u[1]:"Other":"Chrome":"Safari"}var je={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Gc(u,f){f=f||[];var D,v=[],w={};for(D in je)w[je[D]]=!0;for(D=0;D<f.length;D++)void 0!==w[f[D]]&&(delete w[f[D]],v.push(f[D]));return v.sort(),(f=v).length||(f=["FirebaseCore-web"]),"Browser"===(v=Ce())?v=at(w=Cn()):"Worker"===v&&(v=at(w=Cn())+"-"+v),v+"/JsCore/"+u+"/"+f.join(",")}function Cn(){return $.navigator&&$.navigator.userAgent||""}function Je(u,f){u=u.split("."),f=f||$;for(var v=0;v<u.length&&"object"==typeof f&&null!=f;v++)f=f[u[v]];return v!=u.length&&(f=void 0),f}function ha(){try{var u=$.localStorage,f=rt();if(u)return u.setItem(f,"1"),u.removeItem(f),!_p()||!!$.indexedDB}catch(v){return zr()&&!!$.indexedDB}return!1}function Hs(){return(pi()||"chrome-extension:"===Et()||me())&&!wr()&&ha()&&!zr()}function pi(){return"http:"===Et()||"https:"===Et()}function Et(){return $.location&&$.location.protocol||null}function rh(u){return!(bp(u=u||Cn())||at(u)==$c)}function dn(u){return void 0===u?null:nm(u)}function Id(u){var v,f={};for(v in u)u.hasOwnProperty(v)&&null!=u[v]&&(f[v]=u[v]);return f}function nc(u){if(null!==u)return JSON.parse(u)}function rt(u){return u||Math.floor(1e9*Math.random()).toString()}function sm(u){return!("Safari"==at(u=u||Cn())||u.toLowerCase().match(/iphone|ipad|ipod/))}function ms(){var u=$.___jsl;if(u&&u.H)for(var f in u.H)if(u.H[f].r=u.H[f].r||[],u.H[f].L=u.H[f].L||[],u.H[f].r=u.H[f].L.concat(),u.CP)for(var v=0;v<u.CP.length;v++)u.CP[v]=null}function Ii(u,f){if(u>f)throw Error("Short delay should be less than long delay!");this.a=u,this.c=f,u=Cn(),f=Ce(),this.b=bp(u)||"ReactNative"===f}function Mn(){var u=$.document;return!u||void 0===u.visibilityState||"visible"==u.visibilityState}function uo(u){try{var f=new Date(parseInt(u,10));if(!isNaN(f.getTime())&&!/[^0-9]/.test(u))return f.toUTCString()}catch(v){}return null}function zn(){return!(!Je("fireauth.oauthhelper",$)&&!Je("fireauth.iframe",$))}Ii.prototype.get=function(){var u=$.navigator;return!u||"boolean"!=typeof u.onLine||!pi()&&"chrome-extension:"!==Et()&&void 0===u.connection||u.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Ti,ih={};function rc(u){ih[u]||(ih[u]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(u))}try{var ic={};Object.defineProperty(ic,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(ic,"abcd",{configurable:!0,enumerable:!0,value:2}),Ti=2==ic.abcd}catch(u){Ti=!1}function $e(u,f,v){Ti?Object.defineProperty(u,f,{configurable:!0,enumerable:!0,value:v}):u[f]=v}function fe(u,f){if(f)for(var v in f)f.hasOwnProperty(v)&&$e(u,v,f[v])}function zi(u){var f={};return fe(f,u),f}function iu(u){var f=u;if("object"==typeof u&&null!=u)for(var v in f="length"in u?[]:{},u)$e(f,v,iu(u[v]));return f}function sh(u){var f=u&&(u[Ai]?"phone":null);if(!(f&&u&&u[jt]))throw new B("internal-error","Internal assert: invalid MultiFactorInfo object");$e(this,"uid",u[jt]),$e(this,"displayName",u[Ad]||null);var v=null;u[ve]&&(v=new Date(u[ve]).toUTCString()),$e(this,"enrollmentTime",v),$e(this,"factorId",f)}function ah(u){try{var f=new tr(u)}catch(v){f=null}return f}sh.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Ad="displayName",ve="enrolledAt",jt="mfaEnrollmentId",Ai="phoneInfo";function tr(u){sh.call(this,u),$e(this,"phoneNumber",u[Ai])}function Ep(u){var f={},v=u[Md],w=u[Gv],D=u[uh];if(u=ah(u[Mi]),!D||D!=gi&&D!=$r&&!v||D==$r&&!w||D==zs&&!u)throw Error("Invalid checkActionCode response!");D==$r?(f[Gr]=v||null,f[$i]=v||null,f[da]=w):(f[Gr]=w||null,f[$i]=w||null,f[da]=v||null),f[$o]=u||null,$e(this,fa,D),$e(this,Wc,iu(f))}te(tr,sh),tr.prototype.w=function(){var u=tr.bb.w.call(this);return u.phoneNumber=this.phoneNumber,u};var zs="REVERT_SECOND_FACTOR_ADDITION",gi="EMAIL_SIGNIN",$r="VERIFY_AND_CHANGE_EMAIL",Md="email",Mi="mfaInfo",Gv="newEmail",uh="requestType",da="email",Gr="fromEmail",$o="multiFactorInfo",$i="previousEmail",Wc="data",fa="operation";function Cp(u){var f=Ur(u=Hr(u),Rd)||null,v=Ur(u,am)||null,w=Ur(u,kd)||null;if(w=w&&Yc[w]||null,!f||!v||!w)throw new B("argument-error",Rd+", "+am+"and "+kd+" are required in a valid action code URL.");fe(this,{apiKey:f,operation:w,code:v,continueUrl:Ur(u,Wv)||null,languageCode:Ur(u,Dp)||null,tenantId:Ur(u,Kc)||null})}var Rd="apiKey",am="oobCode",Wv="continueUrl",Dp="languageCode",kd="mode",Kc="tenantId",Yc={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:zs,signIn:gi,verifyAndChangeEmail:$r,verifyEmail:"VERIFY_EMAIL"};function oc(u){try{return new Cp(u)}catch(f){return null}}function ch(u){var f=u[sc];if(void 0===f)throw new B("missing-continue-uri");if("string"!=typeof f||"string"==typeof f&&!f.length)throw new B("invalid-continue-uri");this.h=f,this.b=this.a=null,this.g=!1;var v=u[Qc];if(v&&"object"==typeof v){f=v[Pd];var w=v[ou];if(v=v[lh],"string"==typeof f&&f.length){if(this.a=f,void 0!==w&&"boolean"!=typeof w)throw new B("argument-error",ou+" property must be a boolean when specified.");if(this.g=!!w,void 0!==v&&("string"!=typeof v||"string"==typeof v&&!v.length))throw new B("argument-error",lh+" property must be a non empty string when specified.");this.b=v||null}else{if(void 0!==f)throw new B("argument-error",Pd+" property must be a non empty string when specified.");if(void 0!==w||void 0!==v)throw new B("missing-android-pkg-name")}}else if(void 0!==v)throw new B("argument-error",Qc+" property must be a non null object when specified.");if(this.f=null,(f=u[xd])&&"object"==typeof f){if("string"==typeof(f=f[si])&&f.length)this.f=f;else if(void 0!==f)throw new B("argument-error",si+" property must be a non empty string when specified.")}else if(void 0!==f)throw new B("argument-error",xd+" property must be a non null object when specified.");if(void 0!==(f=u[Go])&&"boolean"!=typeof f)throw new B("argument-error",Go+" property must be a boolean when specified.");if(this.c=!!f,void 0!==(u=u[Od])&&("string"!=typeof u||"string"==typeof u&&!u.length))throw new B("argument-error",Od+" property must be a non empty string when specified.");this.i=u||null}var Qc="android",Od="dynamicLinkDomain",Go="handleCodeInApp",xd="iOS",sc="url",ou="installApp",lh="minimumVersion",Pd="packageName",si="bundleId";function Do(u){var f={};for(var v in f.continueUrl=u.h,f.canHandleCodeInApp=u.c,(f.androidPackageName=u.a)&&(f.androidMinimumVersion=u.b,f.androidInstallApp=u.g),f.iOSBundleId=u.f,f.dynamicLinkDomain=u.i,f)null===f[v]&&delete f[v];return f}var Ri=null;function Xc(u){var f=Zc(u);if(!(f&&f.sub&&f.iss&&f.aud&&f.exp))throw Error("Invalid JWT");this.h=u,this.a=f.exp,this.i=f.sub,u=Date.now()/1e3,this.g=f.iat||(u>this.a?this.a:u),this.b=f.provider_id||f.firebase&&f.firebase.sign_in_provider||null,this.f=f.firebase&&f.firebase.tenant||null,this.c=!!f.is_anonymous||"anonymous"==this.b}function su(u){try{return new Xc(u)}catch(f){return null}}function Zc(u){if(!u||3!=(u=u.split(".")).length)return null;for(var f=(4-(u=u[1]).length%4)%4,v=0;v<f;v++)u+=".";try{var w=function um(u){var f=[];return function hh(u,f){function v(le){for(;w<u.length;){var a=u.charAt(w++),s=Ri[a];if(null!=s)return s;if(!/^[\s\xa0]*$/.test(a))throw Error("Unknown base64 encoding at char: "+a)}return le}!function cm(){if(!Ri){Ri={};for(var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),f=["+/=","+/","-_=","-_.","-_"],v=0;5>v;v++)for(var w=u.concat(f[v].split("")),D=0;D<w.length;D++){var O=w[D];void 0===Ri[O]&&(Ri[O]=D)}}}();for(var w=0;;){var D=v(-1),O=v(0),P=v(64),U=v(64);if(64===U&&-1===D)break;f(D<<2|O>>4),64!=P&&(f(O<<4&240|P>>2),64!=U&&f(P<<6&192|U))}}(u,function(v){f.push(v)}),f}(u);for(u=[],v=f=0;f<w.length;){var D=w[f++];if(128>D)u[v++]=String.fromCharCode(D);else if(191<D&&224>D){var O=w[f++];u[v++]=String.fromCharCode((31&D)<<6|63&O)}else if(239<D&&365>D){O=w[f++];var P=w[f++],le=((7&D)<<18|(63&O)<<12|(63&P)<<6|63&w[f++])-65536;u[v++]=String.fromCharCode(55296+(le>>10)),u[v++]=String.fromCharCode(56320+(1023&le))}else O=w[f++],P=w[f++],u[v++]=String.fromCharCode((15&D)<<12|(63&O)<<6|63&P)}return JSON.parse(u.join(""))}catch(a){}return null}Xc.prototype.T=function(){return this.f},Xc.prototype.l=function(){return this.c},Xc.prototype.toString=function(){return this.h};var dh="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),au=["client_id","response_type","scope","redirect_uri","state"],Jc={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:au},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:au},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:au},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:dh},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function fh(u){for(var f in Jc)if(Jc[f].fa==u)return Jc[f];return null}function ph(u){var f={};f["facebook.com"]=Wo,f["google.com"]=uu,f["github.com"]=gh,f["twitter.com"]=Sp;var v=u&&u[el];try{if(v)return f[v]?new f[v](u):new Gi(u);if(void 0!==u[$s])return new Nd(u)}catch(w){}return null}var $s="idToken",el="providerId";function Nd(u){var f=u[el];if(!f&&u[$s]){var v=su(u[$s]);v&&v.b&&(f=v.b)}if(!f)throw Error("Invalid additional user info!");("anonymous"==f||"custom"==f)&&(f=null),v=!1,void 0!==u.isNewUser?v=!!u.isNewUser:"identitytoolkit#SignupNewUserResponse"===u.kind&&(v=!0),$e(this,"providerId",f),$e(this,"isNewUser",v)}function Gi(u){Nd.call(this,u),$e(this,"profile",iu((u=nc(u.rawUserInfo||"{}"))||{}))}function Wo(u){if(Gi.call(this,u),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function gh(u){if(Gi.call(this,u),"github.com"!=this.providerId)throw Error("Invalid provider ID!");$e(this,"username",this.profile&&this.profile.login||null)}function uu(u){if(Gi.call(this,u),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Sp(u){if(Gi.call(this,u),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");$e(this,"username",u.screenName||null)}function tl(u){var f=Hr(u),v=Ur(f,"link"),w=Ur(Hr(v),"link");return f=Ur(f,"deep_link_id"),Ur(Hr(f),"link")||f||w||v||u}function Fd(u,f){if(!u&&!f)throw new B("internal-error","Internal assert: no raw session string available");if(u&&f)throw new B("internal-error","Internal assert: unable to determine the session type");this.a=u||null,this.b=f||null,this.type=this.a?pa:ga}te(Gi,Nd),te(Wo,Gi),te(gh,Gi),te(uu,Gi),te(Sp,Gi);var pa="enroll",ga="signin";function cu(){}function nr(u,f){return u.then(function(v){if(v[ir]){var w=su(v[ir]);if(!w||f!=w.i)throw new B("user-mismatch");return v}throw new B("user-mismatch")}).o(function(v){throw v&&v.code&&v.code==Oe+"user-not-found"?new B("user-mismatch"):v})}function vs(u,f){if(!f)throw new B("internal-error","failed to construct a credential");this.a=f,$e(this,"providerId",u),$e(this,"signInMethod",u)}function ac(u){return{pendingToken:u.a,requestUri:"http://localhost"}}function nl(u){if(u&&u.providerId&&u.signInMethod&&0==u.providerId.indexOf("saml.")&&u.pendingToken)try{return new vs(u.providerId,u.pendingToken)}catch(f){}return null}function ys(u,f,v){if(this.a=null,f.idToken||f.accessToken)f.idToken&&$e(this,"idToken",f.idToken),f.accessToken&&$e(this,"accessToken",f.accessToken),f.nonce&&!f.pendingToken&&$e(this,"nonce",f.nonce),f.pendingToken&&(this.a=f.pendingToken);else{if(!f.oauthToken||!f.oauthTokenSecret)throw new B("internal-error","failed to construct a credential");$e(this,"accessToken",f.oauthToken),$e(this,"secret",f.oauthTokenSecret)}$e(this,"providerId",u),$e(this,"signInMethod",v)}function lu(u){var f={};return u.idToken&&(f.id_token=u.idToken),u.accessToken&&(f.access_token=u.accessToken),u.secret&&(f.oauth_token_secret=u.secret),f.providerId=u.providerId,u.nonce&&!u.a&&(f.nonce=u.nonce),f={postBody:nu(f).toString(),requestUri:"http://localhost"},u.a&&(delete f.postBody,f.pendingToken=u.a),f}function Ld(u){if(u&&u.providerId&&u.signInMethod){var f={idToken:u.oauthIdToken,accessToken:u.oauthTokenSecret?null:u.oauthAccessToken,oauthTokenSecret:u.oauthTokenSecret,oauthToken:u.oauthTokenSecret&&u.oauthAccessToken,nonce:u.nonce,pendingToken:u.pendingToken};try{return new ys(u.providerId,f,u.signInMethod)}catch(v){}}return null}function _s(u,f){this.Qc=f||[],fe(this,{providerId:u,isOAuthProvider:!0}),this.Jb={},this.qb=(fh(u)||{}).Ja||null,this.pb=null}function mh(u){if("string"!=typeof u||0!=u.indexOf("saml."))throw new B("argument-error",'SAML provider IDs must be prefixed with "saml."');_s.call(this,u,[])}function Er(u){_s.call(this,u,au),this.a=[]}function ma(){Er.call(this,"facebook.com")}function Ip(u){if(!u)throw new B("argument-error","credential failed: expected 1 argument (the OAuth access token).");var f=u;return ft(u)&&(f=u.accessToken),(new ma).credential({accessToken:f})}function hu(){Er.call(this,"github.com")}function Zn(u){if(!u)throw new B("argument-error","credential failed: expected 1 argument (the OAuth access token).");var f=u;return ft(u)&&(f=u.accessToken),(new hu).credential({accessToken:f})}function Mt(){Er.call(this,"google.com"),this.Ca("profile")}function du(u,f){var v=u;return ft(u)&&(v=u.idToken,f=u.accessToken),(new Mt).credential({idToken:v,accessToken:f})}function bs(){_s.call(this,"twitter.com",dh)}function vh(u,f){var v=u;if(ft(v)||(v={oauthToken:u,oauthTokenSecret:f}),!v.oauthToken||!v.oauthTokenSecret)throw new B("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ys("twitter.com",v,"twitter.com")}function va(u,f,v){this.a=u,this.f=f,$e(this,"providerId","password"),$e(this,"signInMethod",v===Rn.EMAIL_LINK_SIGN_IN_METHOD?Rn.EMAIL_LINK_SIGN_IN_METHOD:Rn.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Tp(u){return u&&u.email&&u.password?new va(u.email,u.password,u.signInMethod):null}function Rn(){fe(this,{providerId:"password",isOAuthProvider:!1})}function rl(u,f){if(!(f=ws(f)))throw new B("argument-error","Invalid email link!");return new va(u,f.code,Rn.EMAIL_LINK_SIGN_IN_METHOD)}function ws(u){return(u=oc(u=tl(u)))&&u.operation===gi?u:null}function $n(u){if(!(u.fb&&u.eb||u.La&&u.ea))throw new B("internal-error");this.a=u,$e(this,"providerId","phone"),this.fa="phone",$e(this,"signInMethod","phone")}function lm(u){if(u&&"phone"===u.providerId&&(u.verificationId&&u.verificationCode||u.temporaryProof&&u.phoneNumber)){var f={};return yn(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(v){u[v]&&(f[v]=u[v])}),new $n(f)}return null}function fu(u){return u.a.La&&u.a.ea?{temporaryProof:u.a.La,phoneNumber:u.a.ea}:{sessionInfo:u.a.fb,code:u.a.eb}}function rr(u){try{this.a=u||ge.Z.auth()}catch(f){throw new B("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}fe(this,{providerId:"phone",isOAuthProvider:!1})}function hm(u,f){if(!u)throw new B("missing-verification-id");if(!f)throw new B("missing-verification-code");return new $n({fb:u,eb:f})}function il(u){if(u.temporaryProof&&u.phoneNumber)return new $n({La:u.temporaryProof,ea:u.phoneNumber});var f=u&&u.providerId;if(!f||"password"===f)return null;var v=u&&u.oauthAccessToken,w=u&&u.oauthTokenSecret,D=u&&u.nonce,O=u&&u.oauthIdToken,P=u&&u.pendingToken;try{switch(f){case"google.com":return du(O,v);case"facebook.com":return Ip(v);case"github.com":return Zn(v);case"twitter.com":return vh(v,w);default:return v||w||O||P?P?0==f.indexOf("saml.")?new vs(f,P):new ys(f,{pendingToken:P,idToken:u.oauthIdToken,accessToken:u.oauthAccessToken},f):new Er(f).credential({idToken:O,accessToken:v,rawNonce:D}):null}}catch(U){return null}}function jd(u){if(!u.isOAuthProvider)throw new B("invalid-oauth-provider")}function mi(u,f,v,w,D,O,P){if(this.c=u,this.b=f||null,this.g=v||null,this.f=w||null,this.i=O||null,this.h=P||null,this.a=D||null,!this.g&&!this.a)throw new B("invalid-auth-event");if(this.g&&this.a)throw new B("invalid-auth-event");if(this.g&&!this.f)throw new B("invalid-auth-event")}function Ap(u){return(u=u||{}).type?new mi(u.type,u.eventId,u.urlResponse,u.sessionId,u.error&&he(u.error),u.postBody,u.tenantId):null}function mn(){this.b=null,this.a=[]}Fd.prototype.Ha=function(){return Le(this.a?this.a:this.b)},Fd.prototype.w=function(){return this.type==pa?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},cu.prototype.ka=function(){},cu.prototype.b=function(){},cu.prototype.c=function(){},cu.prototype.w=function(){},vs.prototype.ka=function(u){return Jd(u,ac(this))},vs.prototype.b=function(u,f){var v=ac(this);return v.idToken=f,Qs(u,v)},vs.prototype.c=function(u,f){return nr(ef(u,ac(this)),f)},vs.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ys.prototype.ka=function(u){return Jd(u,lu(this))},ys.prototype.b=function(u,f){var v=lu(this);return v.idToken=f,Qs(u,v)},ys.prototype.c=function(u,f){return nr(ef(u,lu(this)),f)},ys.prototype.w=function(){var u={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(u.oauthIdToken=this.idToken),this.accessToken&&(u.oauthAccessToken=this.accessToken),this.secret&&(u.oauthTokenSecret=this.secret),this.nonce&&(u.nonce=this.nonce),this.a&&(u.pendingToken=this.a),u},_s.prototype.Ka=function(u){return this.Jb=G(u),this},te(mh,_s),te(Er,_s),Er.prototype.Ca=function(u){return In(this.a,u)||this.a.push(u),this},Er.prototype.Rb=function(){return on(this.a)},Er.prototype.credential=function(u,f){var v;if(!(v=ft(u)?{idToken:u.idToken||null,accessToken:u.accessToken||null,nonce:u.rawNonce||null}:{idToken:u||null,accessToken:f||null}).idToken&&!v.accessToken)throw new B("argument-error","credential failed: must provide the ID token and/or the access token.");return new ys(this.providerId,v,this.providerId)},te(ma,Er),$e(ma,"PROVIDER_ID","facebook.com"),$e(ma,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),te(hu,Er),$e(hu,"PROVIDER_ID","github.com"),$e(hu,"GITHUB_SIGN_IN_METHOD","github.com"),te(Mt,Er),$e(Mt,"PROVIDER_ID","google.com"),$e(Mt,"GOOGLE_SIGN_IN_METHOD","google.com"),te(bs,_s),$e(bs,"PROVIDER_ID","twitter.com"),$e(bs,"TWITTER_SIGN_IN_METHOD","twitter.com"),va.prototype.ka=function(u){return this.signInMethod==Rn.EMAIL_LINK_SIGN_IN_METHOD?qt(u,Cm,{email:this.a,oobCode:this.f}):qt(u,dl,{email:this.a,password:this.f})},va.prototype.b=function(u,f){return this.signInMethod==Rn.EMAIL_LINK_SIGN_IN_METHOD?qt(u,nf,{idToken:f,email:this.a,oobCode:this.f}):qt(u,Qo,{idToken:f,email:this.a,password:this.f})},va.prototype.c=function(u,f){return nr(this.ka(u),f)},va.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},fe(Rn,{PROVIDER_ID:"password"}),fe(Rn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),fe(Rn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),$n.prototype.ka=function(u){return u.gb(fu(this))},$n.prototype.b=function(u,f){var v=fu(this);return v.idToken=f,qt(u,fc,v)},$n.prototype.c=function(u,f){var v=fu(this);return v.operation="REAUTH",nr(u=qt(u,Vp,v),f)},$n.prototype.w=function(){var u={providerId:"phone"};return this.a.fb&&(u.verificationId=this.a.fb),this.a.eb&&(u.verificationCode=this.a.eb),this.a.La&&(u.temporaryProof=this.a.La),this.a.ea&&(u.phoneNumber=this.a.ea),u},rr.prototype.gb=function(u,f){var v=this.a.a;return Le(f.verify()).then(function(w){if("string"!=typeof w)throw new B("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===f.type){var P,D=ft(u)?u.session:null,O=ft(u)?u.phoneNumber:u;return P=D&&D.type==pa?D.Ha().then(function(U){return function wm(u,f){return qt(u,Im,f).then(function(v){return v.phoneSessionInfo.sessionInfo})}(v,{idToken:U,phoneEnrollmentInfo:{phoneNumber:O,recaptchaToken:w}})}):D&&D.type==ga?D.Ha().then(function(U){return function h_(u,f){return qt(u,Lp,f).then(function(v){return v.phoneResponseInfo.sessionInfo})}(v,{mfaPendingCredential:U,mfaEnrollmentId:u.multiFactorHint&&u.multiFactorHint.uid||u.multiFactorUid,phoneSignInInfo:{recaptchaToken:w}})}):function Ys(u,f){return qt(u,Du,f)}(v,{phoneNumber:O,recaptchaToken:w}),P.then(function(U){return"function"==typeof f.reset&&f.reset(),U},function(U){throw"function"==typeof f.reset&&f.reset(),U})}throw new B("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},fe(rr,{PROVIDER_ID:"phone"}),fe(rr,{PHONE_SIGN_IN_METHOD:"phone"}),mi.prototype.getUid=function(){var u=[];return u.push(this.c),this.b&&u.push(this.b),this.f&&u.push(this.f),this.h&&u.push(this.h),u.join("-")},mi.prototype.T=function(){return this.h},mi.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Mp,pu=null;function Gs(u){var f="unauthorized-domain",v=void 0,w=Hr(u);u=w.a,"chrome-extension"==(w=w.c)?v=Ya("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",u):"http"==w||"https"==w?v=Ya("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",u):f="operation-not-supported-in-this-environment",B.call(this,f,v)}function Ko(u,f,v){B.call(this,u,v),(u=f||{}).Kb&&$e(this,"email",u.Kb),u.ea&&$e(this,"phoneNumber",u.ea),u.credential&&$e(this,"credential",u.credential),u.$b&&$e(this,"tenantId",u.$b)}function gu(u){if(u.code){var f=u.code||"";0==f.indexOf(Oe)&&(f=f.substring(Oe.length));var v={credential:il(u),$b:u.tenantId};if(u.email)v.Kb=u.email;else if(u.phoneNumber)v.ea=u.phoneNumber;else if(!v.credential)return new B(f,u.message||void 0);return new Ko(f,v,u.message)}return null}function mu(){}function Bd(){}function tt(u){if(!u.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var f=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],v=0;v<f.length;v++){var w=f[v];try{return new ActiveXObject(w),u.f=w}catch(D){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return u.f}function yh(){}function Kv(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=et(this.qc,this),this.a.onerror=et(this.Tb,this),this.a.onprogress=et(this.rc,this),this.a.ontimeout=et(this.vc,this)}function dm(u,f){u.readyState=f,u.onreadystatechange&&u.onreadystatechange()}function fm(u,f,v){this.reset(u,f,v,void 0,void 0)}function Rp(u){this.f=u,this.b=this.c=this.a=null}function Ud(u,f){this.name=u,this.value=f}te(Gs,B),te(Ko,B),Ko.prototype.w=function(){var u={code:this.code,message:this.message};this.email&&(u.email=this.email),this.phoneNumber&&(u.phoneNumber=this.phoneNumber),this.tenantId&&(u.tenantId=this.tenantId);var f=this.credential&&this.credential.w();return f&&ie(u,f),u},Ko.prototype.toJSON=function(){return this.w()},mu.prototype.c=null,te(Bd,mu),Bd.prototype.a=function(){var u=tt(this);return u?new ActiveXObject(u):new XMLHttpRequest},Bd.prototype.b=function(){var u={};return tt(this)&&(u[0]=!0,u[1]=!0),u},Mp=new Bd,te(yh,mu),yh.prototype.a=function(){var u=new XMLHttpRequest;if("withCredentials"in u)return u;if("undefined"!=typeof XDomainRequest)return new Kv;throw Error("Unsupported browser")},yh.prototype.b=function(){return{}},(I=Kv.prototype).open=function(u,f,v){if(null!=v&&!v)throw Error("Only async requests are supported.");this.a.open(u,f)},I.send=function(u){if(u){if("string"!=typeof u)throw Error("Only string data is supported");this.a.send(u)}else this.a.send()},I.abort=function(){this.a.abort()},I.setRequestHeader=function(){},I.getResponseHeader=function(u){return"content-type"==u.toLowerCase()?this.a.contentType:""},I.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,dm(this,4)},I.Tb=function(){this.status=500,this.response=this.responseText="",dm(this,4)},I.vc=function(){this.Tb()},I.rc=function(){this.status=200,dm(this,1)},I.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},fm.prototype.a=null,fm.prototype.reset=function(u,f,v,w,D){w||Ci(),delete this.a},Ud.prototype.toString=function(){return this.name};var ur=new Ud("SEVERE",1e3),Hd=new Ud("WARNING",900),xr=new Ud("CONFIG",700),uc=new Ud("FINE",500);function Wi(u){return u.c?u.c:u.a?Wi(u.a):(Ee("Root logger has no level set."),null)}Rp.prototype.log=function(u,f,v){if(u.value>=Wi(this).value)for(It(f)&&(f=f()),u=new fm(u,String(f),this.f),v&&(u.a=v),v=this;v;)v=v.a};var qd={},_h=null;function ai(u){var f;if(_h||(_h=new Rp(""),qd[""]=_h,_h.c=xr),!(f=qd[u])){f=new Rp(u);var v=u.lastIndexOf("."),w=u.substr(v+1);(v=ai(u.substr(0,v))).b||(v.b={}),v.b[w]=f,f.a=v,qd[u]=f}return f}function dr(u,f){u&&u.log(uc,f,void 0)}function ol(u){this.f=u}function yu(u){br.call(this),this.u=u,this.h=void 0,this.readyState=Ws,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ai("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}te(ol,mu),ol.prototype.a=function(){return new yu(this.f)},ol.prototype.b=function(u){return function(){return u}}({}),te(yu,br);var Ws=0;function zd(u){u.c.read().then(u.pc.bind(u)).catch(u.Va.bind(u))}function sl(u){u.readyState=4,u.g=null,u.c=null,u.m=null,al(u)}function al(u){u.onreadystatechange&&u.onreadystatechange.call(u)}function bh(u){br.call(this),this.headers=new _n,this.D=u||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=pm,this.u=this.S=!1}(I=yu.prototype).open=function(u,f){if(this.readyState!=Ws)throw this.abort(),Error("Error reopening a connection");this.s=u,this.f=f,this.readyState=1,al(this)},I.send=function(u){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var f={headers:this.l,method:this.s,credentials:this.h,cache:void 0};u&&(f.body=u),this.u.fetch(new Request(this.f,f)).then(this.uc.bind(this),this.Va.bind(this))},I.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,sl(this)),this.readyState=Ws},I.uc=function(u){this.a&&(this.g=u,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=u.headers,this.readyState=2,al(this)),this.a&&(this.readyState=3,al(this),this.a&&("arraybuffer"===this.responseType?u.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==$.ReadableStream&&"body"in u?(this.response=this.responseText="",this.c=u.body.getReader(),this.m=new TextDecoder,zd(this)):u.text().then(this.tc.bind(this),this.Va.bind(this)))))},I.pc=function(u){if(this.a){var f=this.m.decode(u.value?u.value:new Uint8Array(0),{stream:!u.done});f&&(this.response=this.responseText+=f),u.done?sl(this):al(this),3==this.readyState&&zd(this)}},I.tc=function(u){this.a&&(this.response=this.responseText=u,sl(this))},I.sc=function(u){this.a&&(this.response=u,sl(this))},I.Va=function(u){var f=this.i;f&&f.log(Hd,"Failed to fetch url "+this.f,u instanceof Error?u:Error(u)),this.a&&sl(this)},I.setRequestHeader=function(u,f){this.l.append(u,f)},I.getResponseHeader=function(u){return this.b?this.b.get(u.toLowerCase())||"":((u=this.i)&&u.log(Hd,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},I.getAllResponseHeaders=function(){if(!this.b){var u=this.i;return u&&u.log(Hd,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}u=[];for(var f=this.b.entries(),v=f.next();!v.done;)u.push((v=v.value)[0]+": "+v[1]),v=f.next();return u.join("\r\n")},Object.defineProperty(yu.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(u){this.h=u?"include":"same-origin"}}),te(bh,br);var pm="";bh.prototype.b=ai("goog.net.XhrIo");var kp=/^https?$/i,co=["POST","PUT"];function wh(u){return"content-type"==u.toLowerCase()}function _u(u,f){u.c=!1,u.a&&(u.f=!0,u.a.abort(),u.f=!1),u.h=f,gm(u),$d(u)}function gm(u){u.J||(u.J=!0,u.dispatchEvent("complete"),u.dispatchEvent("error"))}function mm(u){if(u.c&&void 0!==ce)if(u.C[1]&&4==Ki(u)&&2==Eh(u))dr(u.b,Pr(u,"Local request error detected and ignored"));else if(u.i&&4==Ki(u))ii(u.Wb,0,u);else if(u.dispatchEvent("readystatechange"),4==Ki(u)){dr(u.b,Pr(u,"Request complete")),u.c=!1;try{var w,f=Eh(u);e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}if(!(w=v)){var D;if(D=0===f){var O=String(u.l).match(kr)[1]||null;if(!O&&$.self&&$.self.location){var P=$.self.location.protocol;O=P.substr(0,P.length-1)}D=!kp.test(O?O.toLowerCase():"")}w=D}if(w)u.dispatchEvent("complete"),u.dispatchEvent("success");else{try{var U=2<Ki(u)?u.a.statusText:""}catch(le){dr(u.b,"Can not get status: "+le.message),U=""}u.h=U+" ["+Eh(u)+"]",gm(u)}}finally{$d(u)}}}function $d(u,f){if(u.a){xp(u);var v=u.a,w=u.C[0]?Be:null;u.a=null,u.C=null,f||u.dispatchEvent("ready");try{v.onreadystatechange=w}catch(D){(u=u.b)&&u.log(ur,"Problem encountered resetting onreadystatechange: "+D.message,void 0)}}}function xp(u){u.a&&u.u&&(u.a.ontimeout=null),u.s&&($.clearTimeout(u.s),u.s=null)}function Ki(u){return u.a?u.a.readyState:0}function Eh(u){try{return 2<Ki(u)?u.a.status:-1}catch(f){return-1}}function Pr(u,f){return f+" ["+u.P+" "+u.l+" "+Eh(u)+"]"}function cl(u){var f=Ks;this.g=[],this.u=f,this.s=u||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Cr(u,f,v){u.a=!0,u.c=v,u.f=!f,ym(u)}function So(u){if(u.a){if(!u.v)throw new Gn(u);u.v=!1}}function ui(u,f,v,w){u.g.push([f,v,w]),u.a&&ym(u)}function vm(u){return Wt(u.g,function(f){return It(f[1])})}function ym(u){if(u.h&&u.a&&vm(u)){var f=u.h,v=Dr[f];v&&($.clearTimeout(v.a),delete Dr[f]),u.h=0}u.b&&(u.b.l--,delete u.b),f=u.c;for(var w=v=!1;u.g.length&&!u.i;){var D=u.g.shift(),O=D[0],P=D[1];if(D=D[2],O=u.f?P:O)try{var U=O.call(D||u.s,f);void 0!==U&&(u.f=u.f&&(U==f||U instanceof Error),u.c=f=U),(dt(f)||"function"==typeof $.Promise&&f instanceof $.Promise)&&(w=!0,u.i=!0)}catch(le){f=le,u.f=!0,vm(u)||(v=!0)}}u.c=f,w&&(U=et(u.m,u,!0),w=et(u.m,u,!1),f instanceof cl?(ui(f,U,w),f.C=!0):f.then(U,w)),v&&(f=new Wr(f),Dr[f.a]=f,u.h=f.a)}function Gn(){Qt.call(this)}function lo(){Qt.call(this)}function Wr(u){this.a=$.setTimeout(et(this.c,this),0),this.b=u}(I=bh.prototype).Ma=function(){void 0!==ce&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",dr(this.b,Pr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},I.abort=function(){this.a&&this.c&&(dr(this.b,Pr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),$d(this))},I.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),$d(this,!0)),bh.bb.Da.call(this)},I.Wb=function(){this.ya||(this.N||this.i||this.f?mm(this):this.Jc())},I.Jc=function(){mm(this)},I.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case pm:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var u=this.b;return u&&u.log(ur,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(f){return dr(this.b,"Can not get response: "+f.message),null}},cl.prototype.cancel=function(u){if(this.a)this.c instanceof cl&&this.c.cancel();else{if(this.b){var f=this.b;delete this.b,u?f.cancel(u):(f.l--,0>=f.l&&f.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(u=new lo(this),So(this),Cr(this,!1,u))}},cl.prototype.m=function(u,f){this.i=!1,Cr(this,u,f)},cl.prototype.then=function(u,f,v){var w,D,O=new ot(function(P,U){w=P,D=U});return ui(this,w,function(P){P instanceof lo?O.cancel():D(P)}),O.then(u,f,v)},cl.prototype.$goog_Thenable=!0,te(Gn,Qt),Gn.prototype.message="Deferred has already fired",Gn.prototype.name="AlreadyCalledError",te(lo,Qt),lo.prototype.message="Deferred was canceled",lo.prototype.name="CanceledError",Wr.prototype.c=function(){throw delete Dr[this.a],this.b};var Dr={};function Yi(u){var f={},v=f.document||document,w=kt(u).toString(),D=Ku(document,"SCRIPT"),O={Xb:D,Ma:void 0},P=new cl(O),U=null,le=null!=f.timeout?f.timeout:5e3;return 0<le&&(U=window.setTimeout(function(){Es(D,!0);var a=new Wd(Ch,"Timeout reached for loading script "+w);So(P),Cr(P,!1,a)},le),O.Ma=U),D.onload=D.onreadystatechange=function(){D.readyState&&"loaded"!=D.readyState&&"complete"!=D.readyState||(Es(D,f.xd||!1,U),So(P),Cr(P,!0,null))},D.onerror=function(){Es(D,!0,U);var a=new Wd(bu,"Error while loading script "+w);So(P),Cr(P,!1,a)},ie(O=f.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Za(D,O),function $l(u,f){K(u,"HTMLScriptElement"),u.src=kt(f),(f=u.ownerDocument&&u.ownerDocument.defaultView)&&f!=$?f=Ae(f.document):(null===Re&&(Re=Ae($.document)),f=Re),f&&u.setAttribute("nonce",f)}(D,u),function ue(u){var f;return(f=(u||document).getElementsByTagName("HEAD"))&&0!=f.length?f[0]:u.documentElement}(v).appendChild(D),P}function Ks(){if(this&&this.Xb){var u=this.Xb;u&&"SCRIPT"==u.tagName&&Es(u,!0,this.Ma)}}function Es(u,f,v){null!=v&&$.clearTimeout(v),u.onload=Be,u.onerror=Be,u.onreadystatechange=Be,f&&window.setTimeout(function(){u&&u.parentNode&&u.parentNode.removeChild(u)},0)}var bu=0,Ch=1;function Wd(u,f){var v="Jsloader error (code #"+u+")";f&&(v+=": "+f),Qt.call(this,v),this.code=u}function Dh(u){this.f=u}function Wn(u,f,v){if(this.c=u,this.l=(u=f||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=u.secureTokenTimeout||cc,this.g=G(u.secureTokenHeaders||lc),this.h=u.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=u.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=u.firebaseTimeout||Sh,this.a=G(u.firebaseHeaders||wu),v&&(this.a["X-Client-Version"]=v,this.g["X-Client-Version"]=v),v="Node"==Ce(),!(v=$.XMLHttpRequest||v&&ge.Z.INTERNAL.node&&ge.Z.INTERNAL.node.XMLHttpRequest)&&!zr())throw new B("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=zr()?new ol(self):wr()?new Dh(v):new yh,this.b=null}te(Wd,Qt),te(Dh,mu),Dh.prototype.a=function(){return new this.f},Dh.prototype.b=function(){return{}};var we,ir="idToken",cc=new Ii(3e4,6e4),lc={"Content-Type":"application/x-www-form-urlencoded"},Sh=new Ii(3e4,6e4),wu={"Content-Type":"application/json"};function Kd(u,f){f?u.a["X-Firebase-Locale"]=f:delete u.a["X-Firebase-Locale"]}function Io(u,f){f&&(u.l=Ih("https://securetoken.googleapis.com/v1/token",f),u.h=Ih("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",f),u.i=Ih("https://identitytoolkit.googleapis.com/v2/",f))}function Ih(u,f){return u=Hr(u),f=Hr(f.url),u.f=u.a+u.f,la(u,f.c),u.a=f.a,Ho(u,f.g),u.toString()}function Yd(u,f){f?(u.a["X-Client-Version"]=f,u.g["X-Client-Version"]=f):(delete u.a["X-Client-Version"],delete u.g["X-Client-Version"])}function Pp(u,f,v,w,D,O,P){(function zv(){var u=Cn();return!((u="Chrome"!=at(u)?null:(u=u.match(/\sChrome\/(\d+)/i))&&2==u.length?parseInt(u[1],10):null)&&30>u||Li&&_o&&!(9<_o))})()||zr()?u=et(u.u,u):(we||(we=new ot(function(U,le){!function Yv(u,f){((window.gapi||{}).client||{}).request?u():($[Eu]=function(){((window.gapi||{}).client||{}).request?u():f(Error("CORS_UNSUPPORTED"))},function kn(u,f){ui(u,null,f,void 0)}(Yi(no(Kr,{onload:Eu})),function(){f(Error("CORS_UNSUPPORTED"))}))}(U,le)})),u=et(u.s,u)),u(f,v,w,D,O,P)}Wn.prototype.T=function(){return this.b},Wn.prototype.u=function(u,f,v,w,D,O){if(zr()&&(void 0===$.fetch||void 0===$.Headers||void 0===$.Request))throw new B("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var P=new bh(this.f);if(O){P.g=Math.max(0,O);var U=setTimeout(function(){P.dispatchEvent("timeout")},O)}Uc(P,"complete",function(){U&&clearTimeout(U);var le=null;try{le=JSON.parse(function Gd(u){try{return u.a?u.a.responseText:""}catch(f){return dr(u.b,"Can not get responseText: "+f.message),""}}(this))||null}catch(a){le=null}f&&f(le)}),Qn(P,"ready",function(){U&&clearTimeout(U),fi(this)}),Qn(P,"timeout",function(){U&&clearTimeout(U),fi(this),f&&f(null)}),function Op(u,f,v,w,D){if(u.a)throw Error("[goog.net.XhrIo] Object is active with another request="+u.l+"; newUri="+f);v=v?v.toUpperCase():"GET",u.l=f,u.h="",u.P=v,u.J=!1,u.c=!0,u.a=u.D?u.D.a():Mp.a(),u.C=function vu(u){return u.c||(u.c=u.b())}(u.D?u.D:Mp),u.a.onreadystatechange=et(u.Wb,u);try{dr(u.b,Pr(u,"Opening Xhr")),u.N=!0,u.a.open(v,String(f),!0),u.N=!1}catch(P){return dr(u.b,Pr(u,"Error opening Xhr: "+P.message)),void _u(u,P)}f=w||"";var O=new _n(u.headers);D&&function Nt(u,f){if(u.forEach&&"function"==typeof u.forEach)u.forEach(f,void 0);else if(xt(u)||"string"==typeof u)yn(u,f,void 0);else for(var v=Ve(u),w=wo(u),D=w.length,O=0;O<D;O++)f.call(void 0,w[O],v&&v[O],u)}(D,function(P,U){O.set(U,P)}),D=function di(u){e:{for(var f=wh,v=u.length,w="string"==typeof u?u.split(""):u,D=0;D<v;D++)if(D in w&&f.call(void 0,w[D],D,u)){f=D;break e}f=-1}return 0>f?null:"string"==typeof u?u.charAt(f):u[f]}(O.Y()),w=$.FormData&&f instanceof $.FormData,!In(co,v)||D||w||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),O.forEach(function(P,U){this.a.setRequestHeader(U,P)},u),u.m&&(u.a.responseType=u.m),"withCredentials"in u.a&&u.a.withCredentials!==u.S&&(u.a.withCredentials=u.S);try{xp(u),0<u.g&&(u.u=function ul(u){return Li&&Wu(9)&&"number"==typeof u.timeout&&void 0!==u.ontimeout}(u.a),dr(u.b,Pr(u,"Will abort after "+u.g+"ms if incomplete, xhr2 "+u.u)),u.u?(u.a.timeout=u.g,u.a.ontimeout=et(u.Ma,u)):u.s=ii(u.Ma,u.g,u)),dr(u.b,Pr(u,"Sending request")),u.i=!0,u.a.send(f),u.i=!1}catch(P){dr(u.b,Pr(u,"Send error: "+P.message)),_u(u,P)}}(P,u,v,w,D)};var Kr=new Me(tn,"https://apis.google.com/js/client.js?onload=%{onload}"),Eu="__fcb"+Math.floor(1e6*Math.random()).toString();function _a(u){if("string"!=typeof(u=u.email)||!rw.test(u))throw new B("invalid-email")}function _m(u){"email"in u&&_a(u)}function Yr(u){if(!u[ir])throw u.mfaPendingCredential?new B("multi-factor-auth-required",null,G(u)):new B("internal-error")}function Cs(u){if(u.phoneNumber||u.temporaryProof){if(!u.phoneNumber||!u.temporaryProof)throw new B("internal-error")}else{if(!u.sessionInfo)throw new B("missing-verification-id");if(!u.code)throw new B("missing-verification-code")}}Wn.prototype.s=function(u,f,v,w,D){var O=this;we.then(function(){window.gapi.client.setApiKey(O.c);var P=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:u,method:v,body:w,headers:D,authType:"none",callback:function(U){window.gapi.auth.setToken(P),f&&f(U)}})}).o(function(P){f&&f({error:{message:P&&P.message||"CORS_UNSUPPORTED"}})})},Wn.prototype.Ab=function(){return qt(this,Mh,{})},Wn.prototype.Cb=function(u,f){return qt(this,Su,{idToken:u,email:f})},Wn.prototype.Db=function(u,f){return qt(this,Qo,{idToken:u,password:f})};var Cu={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Xd(u){if(!u.phoneVerificationInfo)throw new B("internal-error");if(!u.phoneVerificationInfo.sessionInfo)throw new B("missing-verification-id");if(!u.phoneVerificationInfo.code)throw new B("missing-verification-code")}function ll(u){if(!u.requestUri||!u.sessionId&&!u.postBody&&!u.pendingToken)throw new B("internal-error")}function Zd(u,f){return f.oauthIdToken&&f.providerId&&0==f.providerId.indexOf("oidc.")&&!f.pendingToken&&(u.sessionId?f.nonce=u.sessionId:u.postBody&&so(u=new qr(u.postBody),"nonce")&&(f.nonce=u.get("nonce"))),f}function Ah(u){var f=null;if(u.needConfirmation?(u.code="account-exists-with-different-credential",f=gu(u)):"FEDERATED_USER_ID_ALREADY_LINKED"==u.errorMessage?(u.code="credential-already-in-use",f=gu(u)):"EMAIL_EXISTS"==u.errorMessage?(u.code="email-already-in-use",f=gu(u)):u.errorMessage&&(f=Up(u.errorMessage)),f)throw f;Yr(u)}function Jd(u,f){return f.returnIdpCredential=!0,qt(u,wa,f)}function Qs(u,f){return f.returnIdpCredential=!0,qt(u,f_,f)}function ef(u,f){return f.returnIdpCredential=!0,f.autoCreate=!1,qt(u,jp,f)}function Yo(u){if(!u.oobCode)throw new B("invalid-action-code")}(I=Wn.prototype).Eb=function(u,f){var v={idToken:u},w=[];return Ns(Cu,function(D,O){var P=f[O];null===P?w.push(D):O in f&&(v[O]=P)}),w.length&&(v.deleteAttribute=w),qt(this,Su,v)},I.wb=function(u,f){return ie(u={requestType:"PASSWORD_RESET",email:u},f),qt(this,Zv,u)},I.xb=function(u,f){return ie(u={requestType:"EMAIL_SIGNIN",email:u},f),qt(this,ba,u)},I.vb=function(u,f){return ie(u={requestType:"VERIFY_EMAIL",idToken:u},f),qt(this,dc,u)},I.Fb=function(u,f,v){return ie(u={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:u,newEmail:f},v),qt(this,Sm,u)},I.gb=function(u){return qt(this,Bp,u)},I.ob=function(u,f){return qt(this,ey,{oobCode:u,newPassword:f})},I.Sa=function(u){return qt(this,tf,{oobCode:u})},I.kb=function(u){return qt(this,Em,{oobCode:u})};var Em={endpoint:"setAccountInfo",A:Yo,Z:"email",B:!0},tf={endpoint:"resetPassword",A:Yo,G:function(u){var f=u.requestType;if(!f||!u.email&&"EMAIL_SIGNIN"!=f&&"VERIFY_AND_CHANGE_EMAIL"!=f)throw new B("internal-error")},B:!0},Qv={endpoint:"signupNewUser",A:function(u){if(_a(u),!u.password)throw new B("weak-password")},G:Yr,V:!0,B:!0},ho={endpoint:"createAuthUri",B:!0},vi={endpoint:"deleteAccount",O:["idToken"]},hc={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(u){if(!Array.isArray(u.deleteProvider))throw new B("internal-error")}},Cm={endpoint:"emailLinkSignin",O:["email","oobCode"],A:_a,G:Yr,V:!0,B:!0},nf={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:_a,G:Yr,V:!0},Xv={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Xd,G:Yr,B:!0,Na:!0},hl={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Xd,G:Yr,B:!0,Na:!0},Dm={endpoint:"getAccountInfo"},ba={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(u){if("EMAIL_SIGNIN"!=u.requestType)throw new B("internal-error");_a(u)},Z:"email",B:!0},dc={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(u){if("VERIFY_EMAIL"!=u.requestType)throw new B("internal-error")},Z:"email",B:!0},Sm={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(u){if("VERIFY_AND_CHANGE_EMAIL"!=u.requestType)throw new B("internal-error")},Z:"email",B:!0},Zv={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(u){if("PASSWORD_RESET"!=u.requestType)throw new B("internal-error");_a(u)},Z:"email",B:!0},Jv={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},d_={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(u){if(!u.recaptchaSiteKey)throw new B("internal-error")}},ey={endpoint:"resetPassword",A:Yo,Z:"email",B:!0},Du={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Su={endpoint:"setAccountInfo",O:["idToken"],A:_m,V:!0},Qo={endpoint:"setAccountInfo",O:["idToken"],A:function(u){if(_m(u),!u.password)throw new B("weak-password")},G:Yr,V:!0},Mh={endpoint:"signupNewUser",G:Yr,V:!0,B:!0},Im={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(u){if(!u.phoneEnrollmentInfo)throw new B("internal-error");if(!u.phoneEnrollmentInfo.phoneNumber)throw new B("missing-phone-number");if(!u.phoneEnrollmentInfo.recaptchaToken)throw new B("missing-app-credential")},G:function(u){if(!u.phoneSessionInfo||!u.phoneSessionInfo.sessionInfo)throw new B("internal-error")},B:!0,Na:!0},Lp={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(u){if(!u.phoneSignInInfo||!u.phoneSignInInfo.recaptchaToken)throw new B("missing-app-credential")},G:function(u){if(!u.phoneResponseInfo||!u.phoneResponseInfo.sessionInfo)throw new B("internal-error")},B:!0,Na:!0},wa={endpoint:"verifyAssertion",A:ll,Za:Zd,G:Ah,V:!0,B:!0},jp={endpoint:"verifyAssertion",A:ll,Za:Zd,G:function(u){if(u.errorMessage&&"USER_NOT_FOUND"==u.errorMessage)throw new B("user-not-found");if(u.errorMessage)throw Up(u.errorMessage);Yr(u)},V:!0,B:!0},f_={endpoint:"verifyAssertion",A:function(u){if(ll(u),!u.idToken)throw new B("internal-error")},Za:Zd,G:Ah,V:!0},ty={endpoint:"verifyCustomToken",A:function(u){if(!u.token)throw new B("invalid-custom-token")},G:Yr,V:!0,B:!0},dl={endpoint:"verifyPassword",A:function(u){if(_a(u),!u.password)throw new B("wrong-password")},G:Yr,V:!0,B:!0},Bp={endpoint:"verifyPhoneNumber",A:Cs,G:Yr,B:!0},fc={endpoint:"verifyPhoneNumber",A:function(u){if(!u.idToken)throw new B("internal-error");Cs(u)},G:function(u){if(u.temporaryProof)throw u.code="credential-already-in-use",gu(u);Yr(u)}},Vp={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Cs,G:Yr,B:!0},Tm={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(u){if(!!u[ir]^!!u.refreshToken)throw new B("internal-error")},B:!0,Na:!0};function qt(u,f,v){if(!function oh(u,f){if(!f||!f.length)return!0;if(!u)return!1;for(var v=0;v<f.length;v++){var w=u[f[v]];if(null==w||""===w)return!1}return!0}(v,f.O))return An(new B("internal-error"));var O,w=!!f.Na,D=f.Vb||"POST";return Le(v).then(f.A).then(function(){return f.V&&(v.returnSecureToken=!0),f.B&&u.b&&void 0===v.tenantId&&(v.tenantId=u.b),function Qd(u,f,v,w,D,O,P){var U=Hr(f+v);Xn(U,"key",u.c),P&&Xn(U,"cb",Date.now().toString());var le="GET"==w;if(le)for(var a in D)D.hasOwnProperty(a)&&Xn(U,a,D[a]);return new ot(function(s,l){Pp(u,U.toString(),function(d){d?d.error?l(Hp(d,O||{})):s(d):l(new B("network-request-failed"))},w,le?void 0:nm(Id(D)),u.a,u.v.get())})}(u,w?u.i:u.h,f.endpoint,D,v,f.Ib,f.mb||!1)}).then(function(P){return O=P,f.Za?f.Za(v,O):O}).then(f.G).then(function(){if(!f.Z)return O;if(!(f.Z in O))throw new B("internal-error");return O[f.Z]})}function Up(u){return Hp({error:{errors:[{message:u}],code:400,message:u}})}function Hp(u,f){var v=(u.error&&u.error.errors&&u.error.errors[0]||{}).reason||"",w={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(v=w[v]?new B(w[v]):null)return v;for(var D in v=u.error&&u.error.message||"",ie(w={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},f||{}),f=(f=v.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<f.length?f[1]:void 0,w)if(0===v.indexOf(D))return new B(w[D],f);return!f&&u&&(f=dn(u)),new B("internal-error",f)}function Am(u){this.b=u,this.a=null,this.sb=function ny(u){return function iy(){return Jt||(Jt=new ot(function(u,f){function v(){ms(),Je("gapi.load")("gapi.iframes",{callback:u,ontimeout:function(){ms(),f(Error("Network Error"))},timeout:rf.get()})}if(Je("gapi.iframes.Iframe"))u();else if(Je("gapi.load"))v();else{var w="__iframefcb"+Math.floor(1e6*Math.random()).toString();$[w]=function(){Je("gapi.load")?v():f(Error("Network Error"))},Le(Yi(w=no(Mm,{onload:w}))).o(function(){f(Error("Network Error"))})}}).o(function(u){throw Jt=null,u}))}().then(function(){return new ot(function(f,v){Je("gapi.iframes.getContext")().open({where:document.body,url:u.b,messageHandlersFilter:Je("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(w){function D(){clearTimeout(O),f()}u.a=w,u.a.restyle({setHideOnLeave:!1});var O=setTimeout(function(){v(Error("Network Error"))},ry.get());w.ping(D).then(D,function(){v(Error("Network Error"))})})})})}(this)}var Mm=new Me(tn,"https://apis.google.com/js/api.js?onload=%{onload}"),rf=new Ii(3e4,6e4),ry=new Ii(5e3,15e3),Jt=null;function pc(u,f,v,w){this.l=u,this.h=f,this.i=v,this.g=w,this.f=null,u=this.g?Us((u=Hr(this.g.url)).c,u.a,u.g,"/emulator/auth/iframe"):Us("https",this.l,null,"/__/auth/iframe"),this.a=u,Xn(this.a,"apiKey",this.h),Xn(this.a,"appName",this.i),this.b=null,this.c=[]}function Ds(u,f,v,w,D,O){this.u=u,this.s=f,this.c=v,this.m=w,this.v=O,this.i=this.g=this.l=null,this.a=D,this.h=this.f=null}function gc(u){try{return ge.Z.app(u).auth().Ga()}catch(f){return[]}}function zp(u,f,v,w,D,O){this.s=u,this.g=f,this.b=v,this.f=O,this.c=w||null,this.i=D||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function $p(u){var f=eh();return function bm(u){return qt(u,Jv,{}).then(function(f){return f.authorizedDomains||[]})}(u).then(function(v){e:{var w=Hr(f),D=w.c;w=w.a;for(var O=0;O<v.length;O++){var P=v[O],U=w,le=D;if(0==P.indexOf("chrome-extension://")?U=Hr(P).a==U&&"chrome-extension"==le:"http"!=le&&"https"!=le?U=!1:om.test(P)?U=U==P:(P=P.split(".").join("\\."),U=new RegExp("^(.+\\."+P+"|"+P+")$","i").test(U)),U){v=!0;break e}}v=!1}if(!v)throw new Gs(eh())})}function Rm(u){return u.m||(u.m=qi().then(function(){if(!u.u){var f=u.c,v=u.i,w=gc(u.b),D=new pc(u.s,u.g,u.b,u.f);D.f=f,D.b=v,D.c=on(w||[]),u.u=D.toString()}u.v=new Am(u.u),function p_(u){if(!u.v)throw Error("IfcHandler must be initialized!");!function Rh(u,f){u.sb.then(function(){u.a.register("authEvent",f,Je("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(u.v,function(f){var v={};if(f&&f.authEvent){var w=!1;for(f=Ap(f.authEvent),v=0;v<u.h.length;v++)w=u.h[v](f)||w;return(v={}).status=w?"ACK":"ERROR",Le(v)}return v.status="ERROR",Le(v)})}(u)})),u.m}function km(u){return u.l||(u.C=u.c?Gc(u.c,gc(u.b)):null,u.l=new Wn(u.g,Lt(u.i),u.C),u.f&&Io(u.l,u.f)),u.l}function kh(u,f,v,w,D,O,P,U,le,a,s,l){return(u=new Ds(u,f,v,w,D,l)).l=O,u.g=P,u.i=U,u.b=G(le||null),u.f=a,u.zb(s).toString()}function cr(u){if(this.a=u||ge.Z.INTERNAL.reactNative&&ge.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new B("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ki(u){this.b=u,this.a={},this.f=et(this.c,this)}pc.prototype.toString=function(){return this.f?Xn(this.a,"v",this.f):oo(this.a.b,"v"),this.b?Xn(this.a,"eid",this.b):oo(this.a.b,"eid"),this.c.length?Xn(this.a,"fw",this.c.join(",")):oo(this.a.b,"fw"),this.a.toString()},Ds.prototype.zb=function(u){return this.h=u,this},Ds.prototype.toString=function(){if(this.v){var u=Hr(this.v.url);u=Us(u.c,u.a,u.g,"/emulator/auth/handler")}else u=Us("https",this.u,null,"/__/auth/handler");if(Xn(u,"apiKey",this.s),Xn(u,"appName",this.c),Xn(u,"authType",this.m),this.a.isOAuthProvider){var f=this.a;try{var v=ge.Z.app(this.c).auth().la()}catch(U){v=null}for(var w in f.pb=v,Xn(u,"providerId",this.a.providerId),f=Id((v=this.a).Jb))f[w]=f[w].toString();w=v.Qc,f=G(f);for(var D=0;D<w.length;D++){var O=w[D];O in f&&delete f[O]}v.qb&&v.pb&&!f[v.qb]&&(f[v.qb]=v.pb),W(f)||Xn(u,"customParameters",dn(f))}if("function"==typeof this.a.Rb&&(v=this.a.Rb()).length&&Xn(u,"scopes",v.join(",")),this.l?Xn(u,"redirectUrl",this.l):oo(u.b,"redirectUrl"),this.g?Xn(u,"eventId",this.g):oo(u.b,"eventId"),this.i?Xn(u,"v",this.i):oo(u.b,"v"),this.b)for(var P in this.b)this.b.hasOwnProperty(P)&&!Ur(u,P)&&Xn(u,P,this.b[P]);return this.h?Xn(u,"tid",this.h):oo(u.b,"tid"),this.f?Xn(u,"eid",this.f):oo(u.b,"eid"),(P=gc(this.c)).length&&Xn(u,"fw",P.join(",")),u.toString()},(I=zp.prototype).Pb=function(u,f,v){var w=new B("popup-closed-by-user"),D=new B("web-storage-unsupported"),O=this,P=!1;return this.ma().then(function(){(function Om(u){var f={type:"webStorageSupport"};return Rm(u).then(function(){return function qp(u,f){return u.sb.then(function(){return new ot(function(v){u.a.send(f.type,f,v,Je("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(u.v,f)}).then(function(v){if(v&&v.length&&void 0!==v[0].webStorageSupport)return v[0].webStorageSupport;throw Error()})})(O).then(function(U){U||(u&&tc(u),f(D),P=!0)})}).o(function(){}).then(function(){if(!P)return function wp(u){return new ot(function(f){return function v(){Hc(2e3).then(function(){if(u&&!u.closed)return v();f()})}()})}(u)}).then(function(){if(!P)return Hc(v).then(function(){f(w)})})},I.Yb=function(){var u=Cn();return!rh(u)&&!sm(u)},I.Ub=function(){return!1},I.Nb=function(u,f,v,w,D,O,P,U){if(!u)return An(new B("popup-blocked"));if(P&&!rh())return this.ma().o(function(a){tc(u),D(a)}),w(),Le();this.a||(this.a=$p(km(this)));var le=this;return this.a.then(function(){var a=le.ma().o(function(s){throw tc(u),D(s),s});return w(),a}).then(function(){jd(v),P||Sd(kh(le.s,le.g,le.b,f,v,null,O,le.c,void 0,le.i,U,le.f),u)}).o(function(a){throw"auth/network-request-failed"==a.code&&(le.a=null),a})},I.Ob=function(u,f,v,w){this.a||(this.a=$p(km(this)));var D=this;return this.a.then(function(){jd(f),Sd(kh(D.s,D.g,D.b,u,f,eh(),v,D.c,void 0,D.i,w,D.f))}).o(function(O){throw"auth/network-request-failed"==O.code&&(D.a=null),O})},I.ma=function(){var u=this;return Rm(this).then(function(){return u.v.sb}).o(function(){throw u.a=null,new B("network-request-failed")})},I.ac=function(){return!0},I.Ea=function(u){this.h.push(u)},I.Ta=function(u){Kn(this.h,function(f){return f==u})},(I=cr.prototype).get=function(u){return Le(this.a.getItem(u)).then(function(f){return f&&nc(f)})},I.set=function(u,f){return Le(this.a.setItem(u,dn(f)))},I.U=function(u){return Le(this.a.removeItem(u))},I.ca=function(){},I.ia=function(){};var Oh,sf=[];function Gp(u,f,v){W(u.a)&&u.b.addEventListener("message",u.f),void 0===u.a[f]&&(u.a[f]=[]),u.a[f].push(v)}function yi(u){this.a=u}function fl(u){this.c=u,this.b=!1,this.a=[]}function af(u,f,v,w){var D,P,U,le,O=v||{},a=null;if(u.b)return An(Error("connection_unavailable"));var s=w?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ot(function(d,g){l?(D=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),U=setTimeout(function(){g(Error("unsupported_event"))},s),u.a.push(a={messageChannel:l,onMessage:P=function(y){y.data.eventId===D&&("ack"===y.data.status?(clearTimeout(U),le=setTimeout(function(){g(Error("timeout"))},3e3)):"done"===y.data.status?(clearTimeout(le),void 0!==y.data.response?d(y.data.response):g(Error("unknown_error"))):(clearTimeout(U),clearTimeout(le),g(Error("invalid_response"))))}}),l.port1.addEventListener("message",P),u.c.postMessage({eventType:f,eventId:D,data:O},[l.port2])):g(Error("connection_unavailable"))}).then(function(d){return Qr(u,a),d}).o(function(d){throw Qr(u,a),d})}function Qr(u,f){if(f){var v=f.messageChannel;v&&(v.port1.removeEventListener("message",f.onMessage),v.port1.close()),Kn(u.a,function(D){return D==f})}}function Wp(){if(!Yp())throw new B("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=$.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var u=this;zr()&&self?(this.v=function xm(){var u=zr()?self:null;if(yn(sf,function(v){v.b==u&&(f=v)}),!f){var f=new ki(u);sf.push(f)}return f}(),Gp(this.v,"keyChanged",function(f,v){return Ph(u).then(function(w){return 0<w.length&&yn(u.a,function(D){D(w)}),{keyProcessed:In(w,v.key)}})}),Gp(this.v,"ping",function(){return Le(["keyChanged"])})):function Td(){var u=$.navigator;return u&&u.serviceWorker?Le().then(function(){return u.serviceWorker.ready}).then(function(f){return f.active||null}).o(function(){return null}):Le(null)}().then(function(f){(u.h=f)&&(u.g=new fl(new yi(f)),af(u.g,"ping",null,!0).then(function(v){v[0].fulfilled&&In(v[0].value,"keyChanged")&&(u.s=!0)}).o(function(){}))})}function uf(u){return new ot(function(f,v){var w=u.m.open("firebaseLocalStorageDb",1);w.onerror=function(D){try{D.preventDefault()}catch(O){}v(Error(D.target.error))},w.onupgradeneeded=function(D){D=D.target.result;try{D.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(O){v(O)}},w.onsuccess=function(D){(D=D.target.result).objectStoreNames.contains("firebaseLocalStorage")?f(D):function Kp(u){return new ot(function(f,v){var w=u.m.deleteDatabase("firebaseLocalStorageDb");w.onsuccess=function(){f()},w.onerror=function(D){v(Error(D.target.error))}})}(u).then(function(){return uf(u)}).then(function(O){f(O)}).o(function(O){v(O)})}})}function xh(u){return u.i||(u.i=uf(u)),u.i}function pl(u,f){var w=0;return new ot(function v(D,O){xh(u).then(f).then(D).o(function(P){if(!(3<++w))return xh(u).then(function(U){return U.close(),u.i=void 0,v(D,O)}).o(function(U){O(U)});O(P)})})}function Yp(){try{return!!$.indexedDB}catch(u){return!1}}function mc(u){return u.objectStore("firebaseLocalStorage")}function Ea(u,f){return u.transaction(["firebaseLocalStorage"],f?"readwrite":"readonly")}function vc(u){return new ot(function(f,v){u.onsuccess=function(w){w&&w.target?f(w.target.result):f()},u.onerror=function(w){v(w.target.error)}})}function Pm(u,f){return u.g&&u.h&&function oi(){var u=$.navigator;return u&&u.serviceWorker&&u.serviceWorker.controller||null}()===u.h?af(u.g,"keyChanged",{key:f},u.s).then(function(){}).o(function(){}):Le()}function Ph(u){return xh(u).then(function(f){var v=mc(Ea(f,!1));return v.getAll?vc(v.getAll()):new ot(function(w,D){var O=[],P=v.openCursor();P.onsuccess=function(U){(U=U.target.result)?(O.push(U.value),U.continue()):w(O)},P.onerror=function(U){D(U.target.error)}})}).then(function(f){var v={},w=[];if(0==u.b){for(w=0;w<f.length;w++)v[f[w].fbase_key]=f[w].value;w=im(u.c,v),u.c=v}return w})}function Nm(u){u.l&&u.l.cancel("STOP_EVENT"),u.f&&(clearTimeout(u.f),u.f=null)}function Xs(u){var f=this,v=null;this.a=[],this.type="indexedDB",this.c=u,this.b=Le().then(function(){if(Yp()){var w=rt(),D="__sak"+w;return Oh||(Oh=new Wp),(v=Oh).set(D,w).then(function(){return v.get(D)}).then(function(O){if(O!==w)throw Error("indexedDB not supported!");return v.U(D)}).then(function(){return v}).o(function(){return f.c})}return f.c}).then(function(w){return f.type=w.type,w.ca(function(D){yn(f.a,function(O){O(D)})}),w})}function gl(){this.a={},this.type="inMemory"}function yc(){if(!function Qp(){var u="Node"==Ce();if(!(u=ml()||u&&ge.Z.INTERNAL.node&&ge.Z.INTERNAL.node.localStorage))return!1;try{return u.setItem("__sak","1"),u.removeItem("__sak"),!0}catch(f){return!1}}())throw"Node"==Ce()?new B("internal-error","The LocalStorage compatibility library was not found."):new B("web-storage-unsupported");this.a=ml()||ge.Z.INTERNAL.node.localStorage,this.type="localStorage"}function ml(){try{var u=$.localStorage,f=rt();return u&&(u.setItem(f,"1"),u.removeItem(f)),u}catch(v){return null}}function cf(){this.type="nullStorage"}function lf(){if(!function sy(){var u="Node"==Ce();if(!(u=Fm()||u&&ge.Z.INTERNAL.node&&ge.Z.INTERNAL.node.sessionStorage))return!1;try{return u.setItem("__sak","1"),u.removeItem("__sak"),!0}catch(f){return!1}}())throw"Node"==Ce()?new B("internal-error","The SessionStorage compatibility library was not found."):new B("web-storage-unsupported");this.a=Fm()||ge.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Fm(){try{var u=$.sessionStorage,f=rt();return u&&(u.setItem(f,"1"),u.removeItem(f)),u}catch(v){return null}}function ay(){var u={};u.Browser=vl,u.Node=yl,u.ReactNative=hf,u.Worker=Nh,this.a=u[Ce()]}ki.prototype.c=function(u){var f=u.data.eventType,v=u.data.eventId,w=this.a[f];if(w&&0<w.length){u.ports[0].postMessage({status:"ack",eventId:v,eventType:f,response:null});var D=[];yn(w,function(O){D.push(Le().then(function(){return O(u.origin,u.data.data)}))}),M(D).then(function(O){var P=[];yn(O,function(U){P.push({fulfilled:U.Qb,value:U.value,reason:U.reason?U.reason.message:void 0})}),yn(P,function(U){for(var le in U)void 0===U[le]&&delete U[le]}),u.ports[0].postMessage({status:"done",eventId:v,eventType:f,response:P})})}},yi.prototype.postMessage=function(u,f){this.a.postMessage(u,f)},fl.prototype.close=function(){for(;0<this.a.length;)Qr(this,this.a[0]);this.b=!0},(I=Wp.prototype).set=function(u,f){var v=this,w=!1;return pl(this,function(D){return vc((D=mc(Ea(D,!0))).get(u))}).then(function(D){return pl(v,function(O){if(O=mc(Ea(O,!0)),D)return D.value=f,vc(O.put(D));v.b++,w=!0;var P={};return P.fbase_key=u,P.value=f,vc(O.add(P))})}).then(function(){return v.c[u]=f,Pm(v,u)}).oa(function(){w&&v.b--})},I.get=function(u){return pl(this,function(f){return vc(mc(Ea(f,!1)).get(u))}).then(function(f){return f&&f.value})},I.U=function(u){var f=this,v=!1;return pl(this,function(w){return v=!0,f.b++,vc(mc(Ea(w,!0)).delete(u))}).then(function(){return delete f.c[u],Pm(f,u)}).oa(function(){v&&f.b--})},I.ca=function(u){0==this.a.length&&function oy(u){Nm(u),function f(){u.f=setTimeout(function(){u.l=Ph(u).then(function(v){0<v.length&&yn(u.a,function(w){w(v)})}).then(function(){f()}).o(function(v){"STOP_EVENT"!=v.message&&f()})},800)}()}(this),this.a.push(u)},I.ia=function(u){Kn(this.a,function(f){return f==u}),0==this.a.length&&Nm(this)},(I=Xs.prototype).get=function(u){return this.b.then(function(f){return f.get(u)})},I.set=function(u,f){return this.b.then(function(v){return v.set(u,f)})},I.U=function(u){return this.b.then(function(f){return f.U(u)})},I.ca=function(u){this.a.push(u)},I.ia=function(u){Kn(this.a,function(f){return f==u})},(I=gl.prototype).get=function(u){return Le(this.a[u])},I.set=function(u,f){return this.a[u]=f,Le()},I.U=function(u){return delete this.a[u],Le()},I.ca=function(){},I.ia=function(){},(I=yc.prototype).get=function(u){var f=this;return Le().then(function(){return nc(f.a.getItem(u))})},I.set=function(u,f){var v=this;return Le().then(function(){var w=dn(f);null===w?v.U(u):v.a.setItem(u,w)})},I.U=function(u){var f=this;return Le().then(function(){f.a.removeItem(u)})},I.ca=function(u){$.window&&Vi($.window,"storage",u)},I.ia=function(u){$.window&&bo($.window,"storage",u)},(I=cf.prototype).get=function(){return Le(null)},I.set=function(){return Le()},I.U=function(){return Le()},I.ca=function(){},I.ia=function(){},(I=lf.prototype).get=function(u){var f=this;return Le().then(function(){return nc(f.a.getItem(u))})},I.set=function(u,f){var v=this;return Le().then(function(){var w=dn(f);null===w?v.U(u):v.a.setItem(u,w)})},I.U=function(u){var f=this;return Le().then(function(){f.a.removeItem(u)})},I.ca=function(){},I.ia=function(){};var Xp,df,vl={F:yc,cb:lf},yl={F:yc,cb:lf},hf={F:cr,cb:cf},Nh={F:yc,cb:cf},To={rd:"local",NONE:"none",td:"session"};function Zp(){var u=!(sm(Cn())||!Co()),f=rh(),v=ha();this.m=u,this.h=f,this.l=v,this.a={},Xp||(Xp=new ay),u=Xp;try{this.g=!_p()&&zn()||!$.indexedDB?new u.a.F:new Xs(zr()?new gl:new u.a.F)}catch(w){this.g=new gl,this.h=!0}try{this.i=new u.a.cb}catch(w){this.i=new gl}this.v=new gl,this.f=et(this.Zb,this),this.b={}}function Ao(){return df||(df=new Zp),df}function _c(u,f){switch(f){case"session":return u.i;case"none":return u.v;default:return u.g}}function ci(u,f){return"firebase:"+u.name+(f?":"+f:"")}function Iu(u,f,v){return v=ci(f,v),"local"==f.F&&(u.b[v]=null),_c(u,f.F).U(v)}function Fh(u){u.c&&(clearInterval(u.c),u.c=null)}function Zs(u){this.a=u,this.b=Ao()}(I=Zp.prototype).get=function(u,f){return _c(this,u.F).get(ci(u,f))},I.set=function(u,f,v){var w=ci(u,v),D=this,O=_c(this,u.F);return O.set(w,f).then(function(){return O.get(w)}).then(function(P){"local"==u.F&&(D.b[w]=P)})},I.addListener=function(u,f,v){u=ci(u,f),this.l&&(this.b[u]=$.localStorage.getItem(u)),W(this.a)&&(_c(this,"local").ca(this.f),this.h||(_p()||!zn())&&$.indexedDB||!this.l||function ff(u){Fh(u),u.c=setInterval(function(){for(var f in u.a){var v=$.localStorage.getItem(f),w=u.b[f];v!=w&&(u.b[f]=v,v=new Br({type:"storage",key:f,target:window,oldValue:w,newValue:v,a:!0}),u.Zb(v))}},1e3)}(this)),this.a[u]||(this.a[u]=[]),this.a[u].push(v)},I.removeListener=function(u,f,v){u=ci(u,f),this.a[u]&&(Kn(this.a[u],function(w){return w==v}),0==this.a[u].length&&delete this.a[u]),W(this.a)&&(_c(this,"local").ia(this.f),Fh(this))},I.Zb=function(u){if(u&&u.g){var f=u.a.key;if(null==f)for(var v in this.a){var w=this.b[v];void 0===w&&(w=null);var D=$.localStorage.getItem(v);D!==w&&(this.b[v]=D,this.nb(v))}else if(0==f.indexOf("firebase:")&&this.a[f]){if(void 0!==u.a.a?_c(this,"local").ia(this.f):Fh(this),this.m)if(v=$.localStorage.getItem(f),(w=u.a.newValue)!==v)null!==w?$.localStorage.setItem(f,w):$.localStorage.removeItem(f);else if(this.b[f]===w&&void 0===u.a.a)return;var O=this;v=function(){(void 0!==u.a.a||O.b[f]!==$.localStorage.getItem(f))&&(O.b[f]=$.localStorage.getItem(f),O.nb(f))},Li&&_o&&10==_o&&$.localStorage.getItem(f)!==u.a.newValue&&u.a.newValue!==u.a.oldValue?setTimeout(v,10):v()}}else yn(u,et(this.nb,this))},I.nb=function(u){this.a[u]&&yn(this.a[u],function(f){f()})};var rg,Lh={name:"authEvent",F:"local"};function tg(){this.a=Ao()}function jh(u,f){this.b=Ca,this.f=$.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=u,this.h=f,this.l=$.Int32Array?new Int32Array(64):Array(64),void 0===rg&&(rg=$.Int32Array?new Int32Array(Bh):Bh),this.reset()}te(jh,function ng(){this.b=-1});for(var Ca=64,Tu=Ca-1,Js=[],ig=0;ig<Tu;ig++)Js[ig]=0;var Da=jr(128,Js);function pf(u){for(var f=u.f,v=u.l,w=0,D=0;D<f.length;)v[w++]=f[D]<<24|f[D+1]<<16|f[D+2]<<8|f[D+3],D=4*w;for(f=16;64>f;f++){var O=(0|v[f-16])+(((D=0|v[f-15])>>>7|D<<25)^(D>>>18|D<<14)^D>>>3)|0,P=(0|v[f-7])+(((w=0|v[f-2])>>>17|w<<15)^(w>>>19|w<<13)^w>>>10)|0;v[f]=O+P|0}w=0|u.a[0],D=0|u.a[1];var U=0|u.a[2],le=0|u.a[3],a=0|u.a[4],s=0|u.a[5],l=0|u.a[6];for(O=0|u.a[7],f=0;64>f;f++){var d=((w>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10))+(w&D^w&U^D&U)|0;P=(O=O+((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))|0)+((P=(P=a&s^~a&l)+(0|rg[f])|0)+(0|v[f])|0)|0,O=l,l=s,s=a,a=le+P|0,le=U,U=D,D=w,w=P+d|0}u.a[0]=u.a[0]+w|0,u.a[1]=u.a[1]+D|0,u.a[2]=u.a[2]+U|0,u.a[3]=u.a[3]+le|0,u.a[4]=u.a[4]+a|0,u.a[5]=u.a[5]+s|0,u.a[6]=u.a[6]+l|0,u.a[7]=u.a[7]+O|0}function gf(u,f,v){void 0===v&&(v=f.length);var w=0,D=u.c;if("string"==typeof f)for(;w<v;)u.f[D++]=f.charCodeAt(w++),D==u.b&&(pf(u),D=0);else{if(!xt(f))throw Error("message must be string or array");for(;w<v;){var O=f[w++];if(!("number"==typeof O&&0<=O&&255>=O&&O==(0|O)))throw Error("message must be a byte array");u.f[D++]=O,D==u.b&&(pf(u),D=0)}}u.c=D,u.g+=v}jh.prototype.reset=function(){this.g=this.c=0,this.a=$.Int32Array?new Int32Array(this.h):on(this.h)};var Bh=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Lm(){jh.call(this,8,uy)}te(Lm,jh);var uy=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function mf(u,f,v,w,D,O){this.v=u,this.i=f,this.l=v,this.m=w||null,this.u=D||null,this.s=O,this.h=f+":"+v,this.C=new tg,this.g=new Zs(this.h),this.f=null,this.b=[],this.a=this.c=null}function bc(u){return new B("invalid-cordova-configuration",u)}function vf(u,f){for(var v=0;v<u.b.length;v++)try{u.b[v](f)}catch(w){}}function Bm(u){return u.f||(u.f=u.ma().then(function(){return new ot(function(f){u.Ea(function v(w){return f(w),u.Ta(v),!1}),function Vm(u){function f(P){w=!0,D&&D.cancel(),Uh(u).then(function(U){var le=v;if(U&&P&&P.url){var a=null;-1!=(le=tl(P.url)).indexOf("/__/auth/callback")&&(a=(a="object"==typeof(a=nc(Ur(a=Hr(le),"firebaseError")||null))?he(a):null)?new mi(U.c,U.b,null,null,a,null,U.T()):new mi(U.c,U.b,le,U.f,null,null,U.T())),le=a||v}vf(u,le)})}var v=new mi("unknown",null,null,null,new B("no-auth-event")),w=!1,D=Hc(500).then(function(){return Uh(u).then(function(){w||vf(u,v)})}),O=$.handleOpenURL;$.handleOpenURL=function(P){if(0==P.toLowerCase().indexOf(Je("BuildInfo.packageName",$).toLowerCase()+"://")&&f({url:P}),"function"==typeof O)try{O(P)}catch(U){console.error(U)}},pu||(pu=new mn),function ya(u){var f=pu;f.a.push(u),f.b||(f.b=function(v){for(var w=0;w<f.a.length;w++)f.a[w](v)},"function"==typeof(u=Je("universalLinks.subscribe",$))&&u(null,f.b))}(f)}(u)})})),u.f}function Uh(u){var f=null;return function eg(u){return u.b.get(Lh,u.a).then(function(f){return Ap(f)})}(u.g).then(function(v){return f=v,Iu((v=u.g).b,Lh,v.a)}).then(function(){return f})}function Au(u){this.a=u,this.b=Ao()}(I=mf.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=function se(){return me(void 0)?qi().then(function(){return new ot(function(u,f){var v=$.document,w=setTimeout(function(){f(Error("Cordova framework is not ready."))},1e3);v.addEventListener("deviceready",function(){clearTimeout(w),u()},!1)})}):An(Error("Cordova must run in an Android or iOS file scheme."))}().then(function(){if("function"!=typeof Je("universalLinks.subscribe",$))throw bc("cordova-universal-links-plugin-fix is not installed");if(void 0===Je("BuildInfo.packageName",$))throw bc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Je("cordova.plugins.browsertab.openUrl",$))throw bc("cordova-plugin-browsertab is not installed");if("function"!=typeof Je("cordova.InAppBrowser.open",$))throw bc("cordova-plugin-inappbrowser is not installed")},function(){throw new B("cordova-not-ready")})},I.Pb=function(u,f){return f(new B("operation-not-supported-in-this-environment")),Le()},I.Nb=function(){return An(new B("operation-not-supported-in-this-environment"))},I.ac=function(){return!1},I.Yb=function(){return!0},I.Ub=function(){return!0},I.Ob=function(u,f,v,w){if(this.c)return An(new B("redirect-operation-pending"));var D=this,O=$.document,P=null,U=null,le=null,a=null;return this.c=Le().then(function(){return jd(f),Bm(D)}).then(function(){return function Vh(u,f,v,w,D){var O=function og(){for(var u=20,f=[];0<u;)f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),u--;return f.join("")}(),P=new mi(f,w,null,O,new B("no-auth-event"),null,D),U=Je("BuildInfo.packageName",$);if("string"!=typeof U)throw new B("invalid-cordova-configuration");var le=Je("BuildInfo.displayName",$),a={};if(Cn().toLowerCase().match(/iphone|ipad|ipod/))a.ibi=U;else{if(!Cn().toLowerCase().match(/android/))return An(new B("operation-not-supported-in-this-environment"));a.apn=U}le&&(a.appDisplayName=le),O=function jm(u){var f=new Lm;gf(f,u),u=[];var v=8*f.g;gf(f,Da,56>f.c?56-f.c:f.b-(f.c-56));for(var w=63;56<=w;w--)f.f[w]=255&v,v/=256;for(pf(f),w=v=0;w<f.i;w++)for(var D=24;0<=D;D-=8)u[v++]=f.a[w]>>D&255;return function Nn(u){return Pt(u,function(f){return 1<(f=f.toString(16)).length?f:"0"+f}).join("")}(u)}(O),a.sessionId=O;var s=kh(u.v,u.i,u.l,f,v,null,w,u.m,a,u.u,D,u.s);return u.ma().then(function(){var l=u.h;return u.C.a.set(Lh,P.w(),l)}).then(function(){var l=Je("cordova.plugins.browsertab.isAvailable",$);if("function"!=typeof l)throw new B("invalid-cordova-configuration");var d=null;l(function(g){if(g){if("function"!=typeof(d=Je("cordova.plugins.browsertab.openUrl",$)))throw new B("invalid-cordova-configuration");d(s)}else{if("function"!=typeof(d=Je("cordova.InAppBrowser.open",$)))throw new B("invalid-cordova-configuration");g=Cn(),u.a=d(s,g.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||g.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(D,u,f,v,w)}).then(function(){return new ot(function(s,l){U=function(){var d=Je("cordova.plugins.browsertab.close",$);return s(),"function"==typeof d&&d(),D.a&&"function"==typeof D.a.close&&(D.a.close(),D.a=null),!1},D.Ea(U),a=function(){Mn()&&le()},O.addEventListener("resume",le=function(){P||(P=Hc(2e3).then(function(){l(new B("redirect-cancelled-by-user"))}))},!1),Cn().toLowerCase().match(/android/)||O.addEventListener("visibilitychange",a,!1)}).o(function(s){return Uh(D).then(function(){throw s})})}).oa(function(){le&&O.removeEventListener("resume",le,!1),a&&O.removeEventListener("visibilitychange",a,!1),P&&P.cancel(),U&&D.Ta(U),D.c=null})},I.Ea=function(u){this.b.push(u),Bm(this).o(function(f){"auth/invalid-cordova-configuration"===f.code&&(f=new mi("unknown",null,null,null,new B("no-auth-event")),u(f))})},I.Ta=function(u){Kn(this.b,function(f){return f==u})};var Hh={name:"pendingRedirect",F:"session"};function yf(u){return Iu(u.b,Hh,u.a)}function bf(u,f,v,w){this.i={},this.u=0,this.D=u,this.v=f,this.m=v,this.J=w,this.h=[],this.f=!1,this.l=et(this.s,this),this.b=new Wh,this.C=new hg,this.g=new Au(Cf(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=ag(this.D,this.v,this.m,We,this.J)}function ag(u,f,v,w,D){var O=ge.Z.SDK_VERSION||null;return me()?new mf(u,f,v,O,w,D):new zp(u,f,v,O,w,D)}function ug(u){u.f||(u.f=!0,u.a.Ea(u.l));var f=u.a;return u.a.ma().o(function(v){throw u.a==f&&u.reset(),v})}function qh(u){u.a.Yb()&&ug(u).o(function(f){var v=new mi("unknown",null,null,null,new B("operation-not-supported-in-this-environment"));Gh(f)&&u.s(v)}),u.a.Ub()||Df(u.b)}function _l(u,f){In(u.h,f)||u.h.push(f),u.f||function _f(u){return u.b.get(Hh,u.a).then(function(f){return"pending"==f})}(u.g).then(function(v){v?yf(u.g).then(function(){ug(u).o(function(w){var D=new mi("unknown",null,null,null,new B("operation-not-supported-in-this-environment"));Gh(w)&&u.s(D)})}):qh(u)}).o(function(){qh(u)})}function wf(u,f){Kn(u.h,function(v){return v==f})}bf.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=ag(this.D,this.v,this.m,null,this.J),this.i={}},bf.prototype.s=function(u){if(!u)throw new B("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),u&&u.getUid()&&this.i.hasOwnProperty(u.getUid()))return!1;for(var f=!1,v=0;v<this.h.length;v++){var w=this.h[v];if(w.Gb(u.c,u.b)){(f=this.c[u.c])&&(f.h(u,w),u&&(u.f||u.b)&&(this.i[u.getUid()]=!0,this.u=Date.now())),f=!0;break}}return Df(this.b),f};var zh=new Ii(2e3,1e4),$h=new Ii(3e4,6e4);function cg(u,f,v,w,D,O,P){return u.a.Nb(f,v,w,function(){u.f||(u.f=!0,u.a.Ea(u.l))},function(){u.reset()},D,O,P)}function Gh(u){return!(!u||"auth/cordova-not-ready"!=u.code)}function lg(u,f,v,w,D){var O;return function sg(u){return u.b.set(Hh,"pending",u.a)}(u.g).then(function(){return u.a.Ob(f,v,w,D).o(function(P){if(Gh(P))throw new B("operation-not-supported-in-this-environment");return O=P,yf(u.g).then(function(){throw O})}).then(function(){return u.a.ac()?new ot(function(){}):yf(u.g).then(function(){return u.ra()}).then(function(){}).o(function(){})})})}function Ef(u,f,v,w,D){return u.a.Pb(w,function(O){f.na(v,null,O,D)},zh.get())}bf.prototype.ra=function(){return this.b.ra()};var Sa={};function Cf(u,f,v){return u=u+":"+f,v&&(u=u+":"+v.url),u}function Ia(u,f,v,w){var D=Cf(f,v,w);return Sa[D]||(Sa[D]=new bf(u,f,v,w)),Sa[D]}function Wh(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Df(u){u.g||(u.g=!0,Mu(u,!1,null,null))}function Kh(u){u.g&&!u.i&&Mu(u,!1,null,null)}function cy(u,f){if(u.b=function(){return Le(f)},u.f.length)for(var v=0;v<u.f.length;v++)u.f[v](f)}function Mu(u,f,v,w){f?w?function ea(u,f){if(u.b=function(){return An(f)},u.c.length)for(var v=0;v<u.c.length;v++)u.c[v](f)}(u,w):cy(u,v):cy(u,{user:null}),u.f=[],u.c=[]}function hg(){}function Um(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(u){this.jb=u},enumerable:!1})}function fo(u,f){this.a=f,$e(this,"verificationId",u)}function Sf(u,f,v,w){return new rr(u).gb(f,v).then(function(D){return new fo(D,w)})}function Hm(u){var f=Zc(u);if(!(f&&f.exp&&f.auth_time&&f.iat))throw new B("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");fe(this,{token:u,expirationTime:uo(1e3*f.exp),authTime:uo(1e3*f.auth_time),issuedAtTime:uo(1e3*f.iat),signInProvider:f.firebase&&f.firebase.sign_in_provider?f.firebase.sign_in_provider:null,signInSecondFactor:f.firebase&&f.firebase.sign_in_second_factor?f.firebase.sign_in_second_factor:null,claims:f})}function dg(u,f,v){var w=f&&f[If];if(!w)throw new B("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=u,this.f=G(f),this.g=v,this.c=new Fd(null,w),this.b=[];var D=this;yn(f[qm]||[],function(O){(O=ah(O))&&D.b.push(O)}),$e(this,"auth",this.a),$e(this,"session",this.c),$e(this,"hints",this.b)}Wh.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Wh.prototype.h=function(u,f){if(u){this.reset(),this.g=!0;var v=u.c,w=u.b,D=u.a&&"auth/web-storage-unsupported"==u.a.code,O=u.a&&"auth/operation-not-supported-in-this-environment"==u.a.code;this.i=!(!D&&!O),"unknown"!=v||D||O?u.a?(Mu(this,!0,null,u.a),Le()):f.Fa(v,w)?function Yh(u,f,v){v=v.Fa(f.c,f.b);var w=f.g,D=f.f,O=f.i,P=f.T(),U=!!f.c.match(/Redirect$/);v(w,D,P,O).then(function(le){Mu(u,U,le,null)}).o(function(le){Mu(u,U,null,le)})}(this,u,f):An(new B("invalid-auth-event")):(Mu(this,!1,null,null),Le())}else An(new B("invalid-auth-event"))},Wh.prototype.ra=function(){var u=this;return new ot(function(f,v){u.b?u.b().then(f,v):(u.f.push(f),u.c.push(v),function ly(u){var f=new B("timeout");u.a&&u.a.cancel(),u.a=Hc($h.get()).then(function(){u.b||(u.g=!0,Mu(u,!0,null,f))})}(u))})},hg.prototype.h=function(u,f){if(u){var v=u.c,w=u.b;u.a?(f.na(u.c,null,u.a,u.b),Le()):f.Fa(v,w)?function hy(u,f){var v=u.b,w=u.c;f.Fa(w,v)(u.g,u.f,u.T(),u.i).then(function(D){f.na(w,D,null,v)}).o(function(D){f.na(w,null,D,v)})}(u,f):An(new B("invalid-auth-event"))}else An(new B("invalid-auth-event"))},fo.prototype.confirm=function(u){return u=hm(this.verificationId,u),this.a(u)};var qm="mfaInfo",If="mfaPendingCredential";function Qh(u,f,v,w){B.call(this,"multi-factor-auth-required",w,f),this.b=new dg(u,f,v),$e(this,"resolver",this.b)}function fg(u,f,v){if(u&&ft(u.serverResponse)&&"auth/multi-factor-auth-required"===u.code)try{return new Qh(f,u.serverResponse,v,u.message)}catch(w){}return null}function pg(){}function mt(u){$e(this,"factorId",u.fa),this.a=u}function an(u){if(mt.call(this,u),this.a.fa!=rr.PROVIDER_ID)throw new B("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ta(u,f){for(var v in yr.call(this,u),f)this[v]=f[v]}function Tf(u,f){this.a=u,this.b=[],this.c=et(this.yc,this),Vi(this.a,"userReloaded",this.c);var v=[];f&&f.multiFactor&&f.multiFactor.enrolledFactors&&yn(f.multiFactor.enrolledFactors,function(w){var D=null,O={};if(w){w.uid&&(O[jt]=w.uid),w.displayName&&(O[Ad]=w.displayName),w.enrollmentTime&&(O[ve]=new Date(w.enrollmentTime).toISOString()),w.phoneNumber&&(O[Ai]=w.phoneNumber);try{D=new tr(O)}catch(P){}w=D}else w=null;w&&v.push(w)}),po(this,v)}function po(u,f){u.b=f,$e(u,"enrolledFactors",f)}function Mf(u,f,v){if(this.h=u,this.i=f,this.g=v,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function bl(u,f){u.stop(),u.b=Hc(function $m(u,f){return f?(u.a=u.c,u.g()):(f=u.a,u.a*=2,u.a>u.f&&(u.a=u.f),f)}(u,f)).then(function(){return function $v(){var u=$.document,f=null;return Mn()||!u?Le():new ot(function(v){f=function(){Mn()&&(u.removeEventListener("visibilitychange",f,!1),v())},u.addEventListener("visibilitychange",f,!1)}).o(function(v){throw u.removeEventListener("visibilitychange",f,!1),v})}()}).then(function(){return u.h()}).then(function(){bl(u,!0)}).o(function(v){u.i(v)&&bl(u,!1)})}function Mo(u){this.f=u,this.b=this.a=null,this.c=Date.now()}function wc(u,f){void 0===f&&(f=u.b?(f=u.b).a-f.g:0),u.c=Date.now()+1e3*f}function Rf(u,f){u.b=su(f[ir]||""),u.a=f.refreshToken,wc(u,void 0!==(f=f.expiresIn)?Number(f):void 0)}function Ec(u,f){this.a=u||null,this.b=f||null,fe(this,{lastSignInTime:uo(f||null),creationTime:uo(u||null)})}function Jh(u,f,v,w,D,O){fe(this,{uid:u,displayName:w||null,photoURL:D||null,email:v||null,phoneNumber:O||null,providerId:f})}function _i(u,f,v){this.N=[],this.l=u.apiKey,this.m=u.appName,this.s=u.authDomain||null;var w=ge.Z.SDK_VERSION?Gc(ge.Z.SDK_VERSION):null;this.a=new Wn(this.l,Lt(We),w),(this.u=u.emulatorConfig||null)&&Io(this.a,this.u),this.h=new Mo(this.a),xf(this,f[ir]),Rf(this.h,f),$e(this,"refreshToken",this.h.a),Pf(this,v||{}),br.call(this),this.P=!1,this.s&&Hs()&&(this.b=Ia(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function py(u){return new Mf(function(){return u.I(!0)},function(f){return!(!f||"auth/network-request-failed"!=f.code)},function(){var f=u.h.c-Date.now()-3e5;return 0<f?f:0})}(this),this.ba=et(this.ib,this);var D=this;this.za=null,this.Pa=function(O){D.xa(O.h)},this.qa=null,this.Ba=function(O){ed(D,O.c)},this.$=null,this.aa=[],this.Oa=function(O){td(D,O.f)},this.ja=null,this.S=new Tf(this,v),$e(this,"multiFactor",this.S)}function ed(u,f){u.u=f,Io(u.a,f),u.b&&(f=u.b,u.b=Ia(u.s,u.l,u.m,u.u),u.P&&(wf(f,u),_l(u.b,u)))}function Ru(u,f){u.qa&&bo(u.qa,"languageCodeChanged",u.Pa),(u.qa=f)&&Vi(f,"languageCodeChanged",u.Pa)}function wl(u,f){u.$&&bo(u.$,"emulatorConfigChanged",u.Ba),(u.$=f)&&Vi(f,"emulatorConfigChanged",u.Ba)}function td(u,f){u.aa=f,Yd(u.a,ge.Z.SDK_VERSION?Gc(ge.Z.SDK_VERSION,u.aa):null)}function kf(u,f){u.ja&&bo(u.ja,"frameworkChanged",u.Oa),(u.ja=f)&&Vi(f,"frameworkChanged",u.Oa)}function gg(u){try{return ge.Z.app(u.m).auth()}catch(f){throw new B("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+u.m+"'!")}}function Gm(u){u.J||u.D.b||(u.D.start(),bo(u,"tokenChanged",u.ba),Vi(u,"tokenChanged",u.ba))}function Of(u){bo(u,"tokenChanged",u.ba),u.D.stop()}function xf(u,f){u.Aa=f,$e(u,"_lat",f)}function Cc(u){for(var f=[],v=0;v<u.W.length;v++)f.push(u.W[v](u));return M(f).then(function(){return u})}function Dc(u){u.b&&!u.P&&(u.P=!0,_l(u.b,u))}function Pf(u,f){fe(u,{uid:f.uid,displayName:f.displayName||null,photoURL:f.photoURL||null,email:f.email||null,emailVerified:f.emailVerified||!1,phoneNumber:f.phoneNumber||null,isAnonymous:f.isAnonymous||!1,tenantId:f.tenantId||null,metadata:new Ec(f.createdAt,f.lastLoginAt),providerData:[]}),u.a.b=u.tenantId}function nd(){}function Yt(u){return Le().then(function(){if(u.J)throw new B("app-deleted")})}function vg(u){return Pt(u.providerData,function(f){return f.providerId})}function yg(u,f){f&&(rd(u,f.providerId),u.providerData.push(f))}function rd(u,f){Kn(u.providerData,function(v){return v.providerId==f})}function Dn(u,f,v){("uid"!=f||v)&&u.hasOwnProperty(f)&&$e(u,f,v)}function Oi(u,f){u!=f&&(fe(u,{uid:f.uid,displayName:f.displayName,photoURL:f.photoURL,email:f.email,emailVerified:f.emailVerified,phoneNumber:f.phoneNumber,isAnonymous:f.isAnonymous,tenantId:f.tenantId,providerData:[]}),$e(u,"metadata",f.metadata?function Zh(u){return new Ec(u.a,u.b)}(f.metadata):new Ec),yn(f.providerData,function(v){yg(u,v)}),function Xh(u,f){u.b=f.b,u.a=f.a,u.c=f.c}(u.h,f.h),$e(u,"refreshToken",u.h.a),po(u.S,f.S.b))}function Ta(u){return u.I().then(function(f){var v=u.isAnonymous;return function _g(u,f){return qt(u.a,Dm,{idToken:f}).then(et(u.Kc,u))}(u,f).then(function(){return v||Dn(u,"isAnonymous",!1),f})})}function na(u,f){f[ir]&&u.Aa!=f[ir]&&(Rf(u.h,f),u.dispatchEvent(new ta("tokenChanged")),xf(u,f[ir]),Dn(u,"refreshToken",u.h.a))}function Nf(u,f){return Ta(u).then(function(){if(In(vg(u),f))return Cc(u).then(function(){throw new B("provider-already-linked")})})}function Xo(u,f,v){return zi({user:u,credential:il(f),additionalUserInfo:f=ph(f),operationType:v})}function Aa(u,f){return na(u,f),u.reload().then(function(){return u})}function Wm(u,f,v,w,D){if(!Hs())return An(new B("operation-not-supported-in-this-environment"));if(u.i&&!D)return An(u.i);var O=fh(v.providerId),P=rt(u.uid+":::"),U=null;(!rh()||Co())&&u.s&&v.isOAuthProvider&&(U=kh(u.s,u.l,u.m,f,v,null,P,ge.Z.SDK_VERSION||null,null,null,u.tenantId,u.u));var le=th(U,O&&O.va,O&&O.ua);return w=w().then(function(){if(or(u),!D)return u.I().then(function(){})}).then(function(){return cg(u.b,le,f,v,P,!!U,u.tenantId)}).then(function(){return new ot(function(a,s){u.na(f,null,new B("cancelled-popup-request"),u.g||null),u.f=a,u.C=s,u.g=P,u.c=Ef(u.b,u,f,le,P)})}).then(function(a){return le&&tc(le),a?zi(a):null}).o(function(a){throw le&&tc(le),a}),zt(u,w,D)}function bg(u,f,v,w,D){if(!Hs())return An(new B("operation-not-supported-in-this-environment"));if(u.i&&!D)return An(u.i);var O=null,P=rt(u.uid+":::");return w=w().then(function(){if(or(u),!D)return u.I().then(function(){})}).then(function(){return u.ga=P,Cc(u)}).then(function(U){return u.ha&&(U=(U=u.ha).b.set(Ts,u.w(),U.a)),U}).then(function(){return lg(u.b,f,v,P,u.tenantId)}).o(function(U){if(O=U,u.ha)return id(u.ha);throw O}).then(function(){if(O)throw O}),zt(u,w,D)}function or(u){if(!u.b||!u.P)throw new B(u.b&&!u.P?"internal-error":"auth-domain-config-required")}function zt(u,f,v){var w=function Ff(u,f,v){return u.i&&!v?(f.cancel(),An(u.i)):f.o(function(w){throw!w||"auth/user-disabled"!=w.code&&"auth/user-token-expired"!=w.code||(u.i||u.dispatchEvent(new ta("userInvalidated")),u.i=w),w})}(u,f,v);return u.N.push(w),w.oa(function(){jn(u.N,w)}),w.o(function(D){var O=null;throw D&&"auth/multi-factor-auth-required"===D.code&&(O=fg(D.w(),gg(u),et(u.jc,u))),O||D})}function wg(u){if(!u.apiKey)return null;var f={apiKey:u.apiKey,authDomain:u.authDomain,appName:u.appName,emulatorConfig:u.emulatorConfig},v={};if(!u.stsTokenManager||!u.stsTokenManager.accessToken)return null;v[ir]=u.stsTokenManager.accessToken,v.refreshToken=u.stsTokenManager.refreshToken||null;var w=u.stsTokenManager.expirationTime;w&&(v.expiresIn=(w-Date.now())/1e3);var D=new _i(f,v,u);return u.providerData&&yn(u.providerData,function(O){O&&yg(D,zi(O))}),u.redirectEventId&&(D.ga=u.redirectEventId),D}function Sc(u){this.a=u,this.b=Ao()}dg.prototype.Rc=function(u){var f=this;return u.tb(this.a.a,this.c).then(function(v){var w=G(f.f);return delete w[qm],delete w[If],ie(w,v),f.g(w)})},te(Qh,B),pg.prototype.tb=function(u,f,v){return f.type==pa?function zm(u,f,v,w){return v.Ha().then(function(D){return D={idToken:D},void 0!==w&&(D.displayName=w),ie(D,{phoneVerificationInfo:fu(u.a)}),qt(f,Xv,D)})}(this,u,f,v):function dy(u,f,v){return v.Ha().then(function(w){return ie(w={mfaPendingCredential:w},{phoneVerificationInfo:fu(u.a)}),qt(f,hl,w)})}(this,u,f)},te(mt,pg),te(an,mt),te(ta,yr),(I=Tf.prototype).yc=function(u){po(this,function Af(u){var f=[];return yn(u.mfaInfo||[],function(v){(v=ah(v))&&f.push(v)}),f}(u.hd))},I.Sb=function(){return this.a.I().then(function(u){return new Fd(u,null)})},I.fc=function(u,f){var v=this,w=this.a.a;return this.Sb().then(function(D){return u.tb(w,D,f)}).then(function(D){return na(v.a,D),v.a.reload()})},I.bd=function(u){var f=this,v="string"==typeof u?u:u.uid,w=this.a.a;return this.a.I().then(function(D){return qt(w,Tm,{idToken:D,mfaEnrollmentId:v})}).then(function(D){var O=Ul(f.b,function(P){return P.uid!=v});return po(f,O),na(f.a,D),f.a.reload().o(function(P){if("auth/user-token-expired"!=P.code)throw P})})},I.w=function(){return{multiFactor:{enrolledFactors:Pt(this.b,function(u){return u.w()})}}},Mf.prototype.start=function(){this.a=this.c,bl(this,!0)},Mf.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Mo.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},Mo.prototype.getToken=function(u){return u=!!u,this.b&&!this.a?An(new B("user-token-expired")):u||!this.b||Date.now()>this.c-3e4?this.a?function fy(u,f){return function Np(u,f){return new ot(function(v,w){"refresh_token"==f.grant_type&&f.refresh_token||"authorization_code"==f.grant_type&&f.code?Pp(u,u.l+"?key="+encodeURIComponent(u.c),function(D){D?D.error?w(Hp(D)):D.access_token&&D.refresh_token?v(D):w(new B("internal-error")):w(new B("network-request-failed"))},"POST",nu(f).toString(),u.g,u.m.get()):w(new B("internal-error"))})}(u.f,f).then(function(v){return u.b=su(v.access_token),u.a=v.refresh_token,wc(u,v.expires_in),{accessToken:u.b.toString(),refreshToken:u.a}}).o(function(v){throw"auth/user-token-expired"==v.code&&(u.a=null),v})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Le(null):Le({accessToken:this.b.toString(),refreshToken:this.a})},Ec.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},te(_i,br),_i.prototype.xa=function(u){this.za=u,Kd(this.a,u)},_i.prototype.la=function(){return this.za},_i.prototype.Ga=function(){return on(this.aa)},_i.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},$e(_i.prototype,"providerId","firebase"),(I=_i.prototype).reload=function(){var u=this;return zt(this,Yt(this).then(function(){return Ta(u).then(function(){return Cc(u)}).then(nd)}))},I.oc=function(u){return this.I(u).then(function(f){return new Hm(f)})},I.I=function(u){var f=this;return zt(this,Yt(this).then(function(){return f.h.getToken(u)}).then(function(v){if(!v)throw new B("internal-error");return v.accessToken!=f.Aa&&(xf(f,v.accessToken),f.dispatchEvent(new ta("tokenChanged"))),Dn(f,"refreshToken",v.refreshToken),v.accessToken}))},I.Kc=function(u){if(!(u=u.users)||!u.length)throw new B("internal-error");Pf(this,{uid:(u=u[0]).localId,displayName:u.displayName,photoURL:u.photoUrl,email:u.email,emailVerified:!!u.emailVerified,phoneNumber:u.phoneNumber,lastLoginAt:u.lastLoginAt,createdAt:u.createdAt,tenantId:u.tenantId});for(var f=function gy(u){return(u=u.providerUserInfo)&&u.length?Pt(u,function(f){return new Jh(f.rawId,f.providerId,f.email,f.displayName,f.photoUrl,f.phoneNumber)}):[]}(u),v=0;v<f.length;v++)yg(this,f[v]);Dn(this,"isAnonymous",!(this.email&&u.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ta("userReloaded",{hd:u}))},I.Lc=function(u){return rc("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(u)},I.ub=function(u){var f=this,v=null;return zt(this,u.c(this.a,this.uid).then(function(w){return na(f,w),v=Xo(f,w,"reauthenticate"),f.i=null,f.reload()}).then(function(){return v}),!0)},I.Cc=function(u){return rc("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(u)},I.rb=function(u){var f=this,v=null;return zt(this,Nf(this,u.providerId).then(function(){return f.I()}).then(function(w){return u.b(f.a,w)}).then(function(w){return v=Xo(f,w,"link"),Aa(f,w)}).then(function(){return v}))},I.Dc=function(u,f){var v=this;return zt(this,Nf(this,"phone").then(function(){return Sf(gg(v),u,f,et(v.rb,v))}))},I.Mc=function(u,f){var v=this;return zt(this,Le().then(function(){return Sf(gg(v),u,f,et(v.ub,v))}),!0)},I.Cb=function(u){var f=this;return zt(this,this.I().then(function(v){return f.a.Cb(v,u)}).then(function(v){return na(f,v),f.reload()}))},I.ed=function(u){var f=this;return zt(this,this.I().then(function(v){return u.b(f.a,v)}).then(function(v){return na(f,v),f.reload()}))},I.Db=function(u){var f=this;return zt(this,this.I().then(function(v){return f.a.Db(v,u)}).then(function(v){return na(f,v),f.reload()}))},I.Eb=function(u){if(void 0===u.displayName&&void 0===u.photoURL)return Yt(this);var f=this;return zt(this,this.I().then(function(v){return f.a.Eb(v,{displayName:u.displayName,photoUrl:u.photoURL})}).then(function(v){return na(f,v),Dn(f,"displayName",v.displayName||null),Dn(f,"photoURL",v.photoUrl||null),yn(f.providerData,function(w){"password"===w.providerId&&($e(w,"displayName",f.displayName),$e(w,"photoURL",f.photoURL))}),Cc(f)}).then(nd))},I.cd=function(u){var f=this;return zt(this,Ta(this).then(function(v){return In(vg(f),u)?function Th(u,f,v){return qt(u,hc,{idToken:f,deleteProvider:v})}(f.a,v,[u]).then(function(w){var D={};return yn(w.providerUserInfo||[],function(O){D[O.providerId]=!0}),yn(vg(f),function(O){D[O]||rd(f,O)}),D[rr.PROVIDER_ID]||$e(f,"phoneNumber",null),Cc(f)}):Cc(f).then(function(){throw new B("no-such-provider")})}))},I.delete=function(){var u=this;return zt(this,this.I().then(function(f){return qt(u.a,vi,{idToken:f})}).then(function(){u.dispatchEvent(new ta("userDeleted"))})).then(function(){for(var f=0;f<u.N.length;f++)u.N[f].cancel("app-deleted");Ru(u,null),wl(u,null),kf(u,null),u.N=[],u.J=!0,Of(u),$e(u,"refreshToken",null),u.b&&wf(u.b,u)})},I.Gb=function(u,f){return!!("linkViaPopup"==u&&(this.g||null)==f&&this.f||"reauthViaPopup"==u&&(this.g||null)==f&&this.f||"linkViaRedirect"==u&&(this.ga||null)==f||"reauthViaRedirect"==u&&(this.ga||null)==f)},I.na=function(u,f,v,w){"linkViaPopup"!=u&&"reauthViaPopup"!=u||w!=(this.g||null)||(v&&this.C?this.C(v):f&&!v&&this.f&&this.f(f),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},I.Fa=function(u,f){return"linkViaPopup"==u&&f==(this.g||null)?et(this.Lb,this):"reauthViaPopup"==u&&f==(this.g||null)?et(this.Mb,this):"linkViaRedirect"==u&&(this.ga||null)==f?et(this.Lb,this):"reauthViaRedirect"==u&&(this.ga||null)==f?et(this.Mb,this):null},I.Ec=function(u){var f=this;return Wm(this,"linkViaPopup",u,function(){return Nf(f,u.providerId).then(function(){return Cc(f)})},!1)},I.Nc=function(u){return Wm(this,"reauthViaPopup",u,function(){return Le()},!0)},I.Fc=function(u){var f=this;return bg(this,"linkViaRedirect",u,function(){return Nf(f,u.providerId)},!1)},I.Oc=function(u){return bg(this,"reauthViaRedirect",u,function(){return Le()},!0)},I.Lb=function(u,f,v,w){var D=this;this.c&&(this.c.cancel(),this.c=null);var O=null;return zt(this,this.I().then(function(P){return Qs(D.a,{requestUri:u,postBody:w,sessionId:f,idToken:P})}).then(function(P){return O=Xo(D,P,"link"),Aa(D,P)}).then(function(){return O}))},I.Mb=function(u,f,v,w){var D=this;this.c&&(this.c.cancel(),this.c=null);var O=null;return zt(this,Le().then(function(){return nr(ef(D.a,{requestUri:u,sessionId:f,postBody:w,tenantId:v}),D.uid)}).then(function(U){return O=Xo(D,U,"reauthenticate"),na(D,U),D.i=null,D.reload()}).then(function(){return O}),!0)},I.vb=function(u){var f=this,v=null;return zt(this,this.I().then(function(w){return v=w,void 0===u||W(u)?{}:Do(new ch(u))}).then(function(w){return f.a.vb(v,w)}).then(function(w){if(f.email!=w)return f.reload()}).then(function(){}))},I.Fb=function(u,f){var v=this,w=null;return zt(this,this.I().then(function(D){return w=D,void 0===f||W(f)?{}:Do(new ch(f))}).then(function(D){return v.a.Fb(w,u,D)}).then(function(D){if(v.email!=D)return v.reload()}).then(function(){}))},I.jc=function(u){var f=null,v=this;return zt(this,u=nr(Le(u),v.uid).then(function(w){return f=Xo(v,w,"reauthenticate"),na(v,w),v.i=null,v.reload()}).then(function(){return f}),!0)},I.toJSON=function(){return this.w()},I.w=function(){var u={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ie(u,this.metadata.w()),yn(this.providerData,function(f){u.providerData.push(function qs(u){var v,f={};for(v in u)u.hasOwnProperty(v)&&(f[v]=u[v]);return f}(f))}),ie(u,this.S.w()),u};var Ts={name:"redirectUser",F:"session"};function id(u){return Iu(u.b,Ts,u.a)}function Eg(u){this.a=u,this.b=Ao(),this.c=null,this.f=function El(u){var f=Zo("local"),v=Zo("session"),w=Zo("none");return function Jp(u,f,v){var w=ci(f,v),D=_c(u,f.F);return u.get(f,v).then(function(O){var P=null;try{P=nc($.localStorage.getItem(w))}catch(U){}if(P&&!O)return $.localStorage.removeItem(w),u.set(f,P,v);P&&O&&"localStorage"!=D.type&&$.localStorage.removeItem(w)})}(u.b,f,u.a).then(function(){return u.b.get(v,u.a)}).then(function(D){return D?v:u.b.get(w,u.a).then(function(O){return O?w:u.b.get(f,u.a).then(function(P){return P?f:u.b.get(Ra,u.a).then(function(U){return U?Zo(U):f})})})}).then(function(D){return u.c=D,Lf(u,D.F)}).o(function(){u.c||(u.c=f)})}(this),this.b.addListener(Zo("local"),this.a,et(this.g,this))}function Lf(u,f){var w,v=[];for(w in To)To[w]!==f&&v.push(Iu(u.b,Zo(To[w]),u.a));return v.push(Iu(u.b,Ra,u.a)),function k(u){return new ot(function(f,v){var w=u.length,D=[];if(w)for(var O=function(a,s){w--,D[a]=s,0==w&&f(D)},P=function(a){v(a)},U=0;U<u.length;U++)Xu(u[U],en(O,U),P);else f(D)})}(v)}Eg.prototype.g=function(){var u=this,f=Zo("local");Ic(this,function(){return Le().then(function(){return u.c&&"local"!=u.c.F?u.b.get(f,u.a):null}).then(function(v){if(v)return Lf(u,"local").then(function(){u.c=f})})})};var Ra={name:"persistence",F:"session"};function Zo(u){return{name:"authUser",F:u}}function ka(u,f){return Ic(u,function(){return u.b.set(u.c,f.w(),u.a)})}function Oa(u){return Ic(u,function(){return Iu(u.b,u.c,u.a)})}function Cg(u,f,v){return Ic(u,function(){return u.b.get(u.c,u.a).then(function(w){return w&&f&&(w.authDomain=f),w&&v&&(w.emulatorConfig=v),wg(w||{})})})}function Ic(u,f){return u.f=u.f.then(f,f),u.f}function es(u){if(this.l=!1,$e(this,"settings",new Um),$e(this,"app",u),!fn(this).options||!fn(this).options.apiKey)throw new B("invalid-api-key");u=ge.Z.SDK_VERSION?Gc(ge.Z.SDK_VERSION):null,this.a=new Wn(fn(this).options&&fn(this).options.apiKey,Lt(We),u),this.P=[],this.s=[],this.N=[],this.Pa=ge.Z.INTERNAL.createSubscribe(et(this.zc,this)),this.W=void 0,this.ib=ge.Z.INTERNAL.createSubscribe(et(this.Ac,this)),ku(this,null),this.i=new Eg(fn(this).options.apiKey+":"+fn(this).name),this.D=new Sc(fn(this).options.apiKey+":"+fn(this).name),this.$=Jn(this,function Dg(u){var f=fn(u).options.authDomain,v=function Qm(u){var f=function Km(u,f){return u.b.get(Ts,u.a).then(function(v){return v&&f&&(v.authDomain=f),wg(v||{})})}(u.D,fn(u).options.authDomain).then(function(v){return(u.m=v)&&(v.ha=u.D),id(u.D)});return Jn(u,f)}(u).then(function(){return Cg(u.i,f,u.R)}).then(function(w){return w?(w.ha=u.D,u.m&&(u.m.ga||null)==(w.ga||null)?w:w.reload().then(function(){return ka(u.i,w).then(function(){return w})}).o(function(D){return"auth/network-request-failed"==D.code?w:Oa(u.i)})):null}).then(function(w){ku(u,w||null)});return Jn(u,v)}(this)),this.h=Jn(this,function Hf(u){return u.$.then(function(){return Vf(u)}).o(function(){}).then(function(){if(!u.l)return u.ja()}).o(function(){}).then(function(){if(!u.l){u.ba=!0;var f=u.i;f.b.addListener(Zo("local"),f.a,u.ja)}})}(this)),this.ba=!1,this.ja=et(this.Zc,this),this.Ba=et(this.da,this),this.qa=et(this.mc,this),this.za=et(this.wc,this),this.Aa=et(this.xc,this),this.b=null,function my(u){var f=fn(u).options.authDomain,v=fn(u).options.apiKey;f&&Hs()&&(u.Oa=u.$.then(function(){if(!u.l){if(u.b=Ia(f,v,fn(u).name,u.R),_l(u.b,u),Ot(u)&&Dc(Ot(u)),u.m){Dc(u.m);var w=u.m;w.xa(u.la()),Ru(w,u),td(w=u.m,u.J),kf(w,u),ed(w=u.m,u.R),wl(w,u),u.m=null}return u.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=et(this.delete,this),this.INTERNAL.logFramework=et(this.Gc,this),this.u=0,br.call(this),function Ym(u){Object.defineProperty(u,"lc",{get:function(){return this.la()},set:function(f){this.xa(f)},enumerable:!1}),u.aa=null,Object.defineProperty(u,"ti",{get:function(){return this.T()},set:function(f){this.zb(f)},enumerable:!1}),u.S=null,Object.defineProperty(u,"emulatorConfig",{get:function(){if(this.R){var f=Hr(this.R.url);f=zi({protocol:f.c,host:f.a,port:f.g,options:zi({disableWarnings:this.R.ec})})}else f=null;return f},enumerable:!1})}(this),this.J=[],this.R=null}function jf(u){yr.call(this,"languageCodeChanged"),this.h=u}function Bf(u){yr.call(this,"emulatorConfigChanged"),this.c=u}function od(u){yr.call(this,"frameworkChanged"),this.f=u}function ra(u){return u.Oa||An(new B("auth-domain-config-required"))}function Vf(u){if(!Hs())return An(new B("operation-not-supported-in-this-environment"));var f=ra(u).then(function(){return u.b.ra()}).then(function(v){return v?zi(v):null});return Jn(u,f)}function ku(u,f){Ot(u)&&(function mg(u,f){Kn(u.W,function(v){return v==f})}(Ot(u),u.Ba),bo(Ot(u),"tokenChanged",u.qa),bo(Ot(u),"userDeleted",u.za),bo(Ot(u),"userInvalidated",u.Aa),Of(Ot(u))),f&&(f.W.push(u.Ba),Vi(f,"tokenChanged",u.qa),Vi(f,"userDeleted",u.za),Vi(f,"userInvalidated",u.Aa),0<u.u&&Gm(f)),$e(u,"currentUser",f),f&&(f.xa(u.la()),Ru(f,u),td(f,u.J),kf(f,u),ed(f,u.R),wl(f,u))}function Nr(u,f){var v=null,w=null;return Jn(u,f.then(function(D){return v=il(D),w=ph(D),function Uf(u,f){var v={};return v.apiKey=fn(u).options.apiKey,v.authDomain=fn(u).options.authDomain,v.appName=fn(u).name,u.R&&(v.emulatorConfig=u.R),u.$.then(function(){return function Ma(u,f,v,w){var D=new _i(u,f);return v&&(D.ha=v),w&&td(D,w),D.reload().then(function(){return D})}(v,f,u.D,u.Ga())}).then(function(w){return Ot(u)&&w.uid==Ot(u).uid?(Oi(Ot(u),w),u.da(w)):(ku(u,w),Dc(w),u.da(w))}).then(function(){ia(u)})}(u,D)},function(D){var O=null;throw D&&"auth/multi-factor-auth-required"===D.code&&(O=fg(D.w(),u,et(u.kc,u))),O||D}).then(function(){return zi({user:Ot(u),credential:v,additionalUserInfo:w,operationType:"signIn"})}))}function fn(u){return u.app}function Ot(u){return u.currentUser}function Dl(u){return Ot(u)&&Ot(u)._lat||null}function ia(u){if(u.ba){for(var f=0;f<u.s.length;f++)u.s[f]&&u.s[f](Dl(u));if(u.W!==u.getUid()&&u.N.length)for(u.W=u.getUid(),f=0;f<u.N.length;f++)u.N[f]&&u.N[f](Dl(u))}}function Jn(u,f){return u.P.push(f),f.oa(function(){jn(u.P,f)}),f}function ts(){}function Ou(){this.a={},this.b=1e12}Eg.prototype.yb=function(u){var f=null,v=this;return function Ss(u){var f=new B("invalid-persistence-type"),v=new B("unsupported-persistence-type");e:{for(w in To)if(To[w]==u){var w=!0;break e}w=!1}if(!w||"string"!=typeof u)throw f;switch(Ce()){case"ReactNative":if("session"===u)throw v;break;case"Node":if("none"!==u)throw v;break;case"Worker":if("session"===u||!Yp()&&"none"!==u)throw v;break;default:if(!ha()&&"none"!==u)throw v}}(u),Ic(this,function(){return u!=v.c.F?v.b.get(v.c,v.a).then(function(w){return f=w,Lf(v,u)}).then(function(){if(v.c=Zo(u),f)return v.b.set(v.c,f,v.a)}):Le()})},te(es,br),te(jf,yr),te(Bf,yr),te(od,yr),(I=es.prototype).yb=function(u){return Jn(this,u=this.i.yb(u))},I.xa=function(u){this.aa===u||this.l||(this.aa=u,Kd(this.a,this.aa),this.dispatchEvent(new jf(this.la())))},I.la=function(){return this.aa},I.fd=function(){var u=$.navigator;this.xa(u&&(u.languages&&u.languages[0]||u.language||u.userLanguage)||null)},I.gd=function(u,f){if(!this.R){if(!/^https?:\/\//.test(u))throw new B("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function Cl(u){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),$.document&&!u&&qi().then(function(){var f=$.document.createElement("div");f.innerText="Running in emulator mode. Do not use with production credentials.",f.style.position="fixed",f.style.width="100%",f.style.backgroundColor="#ffffff",f.style.border=".1em solid #000000",f.style.color="#b50000",f.style.bottom="0px",f.style.left="0px",f.style.margin="0px",f.style.zIndex=1e4,f.style.textAlign="center",f.classList.add("firebase-emulator-warning"),$.document.body.appendChild(f)})})(f=!!f&&!!f.disableWarnings),this.R={url:u,ec:f},this.settings.jb=!0,Io(this.a,this.R),this.dispatchEvent(new Bf(this.R))}},I.Gc=function(u){this.J.push(u),Yd(this.a,ge.Z.SDK_VERSION?Gc(ge.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new od(this.J))},I.Ga=function(){return on(this.J)},I.zb=function(u){this.S===u||this.l||(this.S=u,this.a.b=this.S)},I.T=function(){return this.S},I.toJSON=function(){return{apiKey:fn(this).options.apiKey,authDomain:fn(this).options.authDomain,appName:fn(this).name,currentUser:Ot(this)&&Ot(this).w()}},I.Gb=function(u,f){switch(u){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==f&&!!this.f;default:return!1}},I.na=function(u,f,v,w){"signInViaPopup"==u&&this.g==w&&(v&&this.C?this.C(v):f&&!v&&this.f&&this.f(f),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},I.Fa=function(u,f){return"signInViaRedirect"==u||"signInViaPopup"==u&&this.g==f&&this.f?et(this.ic,this):null},I.ic=function(u,f,v,w){var D=this,O={requestUri:u,postBody:w,sessionId:f,tenantId:v};return this.c&&(this.c.cancel(),this.c=null),D.$.then(function(){return Nr(D,Jd(D.a,O))})},I.Xc=function(u){if(!Hs())return An(new B("operation-not-supported-in-this-environment"));var f=this,v=fh(u.providerId),w=rt(),D=null;(!rh()||Co())&&fn(this).options.authDomain&&u.isOAuthProvider&&(D=kh(fn(this).options.authDomain,fn(this).options.apiKey,fn(this).name,"signInViaPopup",u,null,w,ge.Z.SDK_VERSION||null,null,null,this.T(),this.R));var O=th(D,v&&v.va,v&&v.ua);return Jn(this,v=ra(this).then(function(P){return cg(P,O,"signInViaPopup",u,w,!!D,f.T())}).then(function(){return new ot(function(P,U){f.na("signInViaPopup",null,new B("cancelled-popup-request"),f.g),f.f=P,f.C=U,f.g=w,f.c=Ef(f.b,f,"signInViaPopup",O,w)})}).then(function(P){return O&&tc(O),P?zi(P):null}).o(function(P){throw O&&tc(O),P}))},I.Yc=function(u){if(!Hs())return An(new B("operation-not-supported-in-this-environment"));var f=this,v=ra(this).then(function(){return function Jo(u){return Ic(u,function(){return u.b.set(Ra,u.c.F,u.a)})}(f.i)}).then(function(){return lg(f.b,"signInViaRedirect",u,void 0,f.T())});return Jn(this,v)},I.ra=function(){var u=this;return Vf(this).then(function(f){return u.b&&Kh(u.b.b),f}).o(function(f){throw u.b&&Kh(u.b.b),f})},I.dd=function(u){if(!u)return An(new B("null-user"));if(this.S!=u.tenantId)return An(new B("tenant-id-mismatch"));var f=this,v={};v.apiKey=fn(this).options.apiKey,v.authDomain=fn(this).options.authDomain,v.appName=fn(this).name;var w=function Is(u,f,v,w){var D=u.h,O={};return O[ir]=D.b&&D.b.toString(),O.refreshToken=D.a,f=new _i(f||{apiKey:u.l,authDomain:u.s,appName:u.m},O),v&&(f.ha=v),w&&td(f,w),Oi(f,u),f}(u,v,f.D,f.Ga());return Jn(this,this.h.then(function(){if(fn(f).options.apiKey!=u.l)return w.reload()}).then(function(){return Ot(f)&&u.uid==Ot(f).uid?(Oi(Ot(f),u),f.da(u)):(ku(f,w),Dc(w),f.da(w))}).then(function(){ia(f)}))},I.Bb=function(){var u=this;return Jn(this,this.h.then(function(){return u.b&&Kh(u.b.b),Ot(u)?(ku(u,null),Oa(u.i).then(function(){ia(u)})):Le()}))},I.Zc=function(){var u=this;return Cg(this.i,fn(this).options.authDomain).then(function(f){if(!u.l){var v;if(v=Ot(u)&&f){v=Ot(u).uid;var w=f.uid;v=null!=v&&""!==v&&null!=w&&""!==w&&v==w}if(v)return Oi(Ot(u),f),Ot(u).I();(Ot(u)||f)&&(ku(u,f),f&&(Dc(f),f.ha=u.D),u.b&&_l(u.b,u),ia(u))}})},I.da=function(u){return ka(this.i,u)},I.mc=function(){ia(this),this.da(Ot(this))},I.wc=function(){this.Bb()},I.xc=function(){this.Bb()},I.kc=function(u){var f=this;return this.h.then(function(){return Nr(f,Le(u))})},I.zc=function(u){var f=this;this.addAuthTokenListener(function(){u.next(Ot(f))})},I.Ac=function(u){var f=this;!function oa(u,f){u.N.push(f),Jn(u,u.h.then(function(){!u.l&&In(u.N,f)&&u.W!==u.getUid()&&(u.W=u.getUid(),f(Dl(u)))}))}(this,function(){u.next(Ot(f))})},I.Ic=function(u,f,v){var w=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof u?u(Ot(w)):"function"==typeof u.next&&u.next(Ot(w))}),this.Pa(u,f,v)},I.Hc=function(u,f,v){var w=this;return this.ba&&Promise.resolve().then(function(){w.W=w.getUid(),"function"==typeof u?u(Ot(w)):"function"==typeof u.next&&u.next(Ot(w))}),this.ib(u,f,v)},I.nc=function(u){var f=this;return Jn(this,this.h.then(function(){return Ot(f)?Ot(f).I(u).then(function(w){return{accessToken:w}}):null}))},I.Tc=function(u){var f=this;return this.h.then(function(){return Nr(f,qt(f.a,ty,{token:u}))}).then(function(v){var w=v.user;return Dn(w,"isAnonymous",!1),f.da(w),v})},I.Uc=function(u,f){var v=this;return this.h.then(function(){return Nr(v,qt(v.a,dl,{email:u,password:f}))})},I.dc=function(u,f){var v=this;return this.h.then(function(){return Nr(v,qt(v.a,Qv,{email:u,password:f}))})},I.ab=function(u){var f=this;return this.h.then(function(){return Nr(f,u.ka(f.a))})},I.Sc=function(u){return rc("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(u)},I.Ab=function(){var u=this;return this.h.then(function(){var f=Ot(u);if(f&&f.isAnonymous){var v=zi({providerId:null,isNewUser:!1});return zi({user:f,credential:null,additionalUserInfo:v,operationType:"signIn"})}return Nr(u,u.a.Ab()).then(function(w){var D=w.user;return Dn(D,"isAnonymous",!0),u.da(D),w})})},I.getUid=function(){return Ot(this)&&Ot(this).uid||null},I.cc=function(u){this.addAuthTokenListener(u),this.u++,0<this.u&&Ot(this)&&Gm(Ot(this))},I.Pc=function(u){var f=this;yn(this.s,function(v){v==u&&f.u--}),0>this.u&&(this.u=0),0==this.u&&Ot(this)&&Of(Ot(this)),this.removeAuthTokenListener(u)},I.addAuthTokenListener=function(u){var f=this;this.s.push(u),Jn(this,this.h.then(function(){f.l||In(f.s,u)&&u(Dl(f))}))},I.removeAuthTokenListener=function(u){Kn(this.s,function(f){return f==u})},I.delete=function(){this.l=!0;for(var u=0;u<this.P.length;u++)this.P[u].cancel("app-deleted");return this.P=[],this.i&&(u=this.i).b.removeListener(Zo("local"),u.a,this.ja),this.b&&(wf(this.b,this),Kh(this.b.b)),Promise.resolve()},I.hc=function(u){return Jn(this,function Fp(u,f){return qt(u,ho,{identifier:f,continueUri:pi()?eh():"http://localhost"}).then(function(v){return v.signinMethods||[]})}(this.a,u))},I.Bc=function(u){return!!ws(u)},I.xb=function(u,f){var v=this;return Jn(this,Le().then(function(){var w=new ch(f);if(!w.c)throw new B("argument-error",Go+" must be true when sending sign in link to email");return Do(w)}).then(function(w){return v.a.xb(u,w)}).then(function(){}))},I.jd=function(u){return this.Sa(u).then(function(f){return f.data.email})},I.ob=function(u,f){return Jn(this,this.a.ob(u,f).then(function(){}))},I.Sa=function(u){return Jn(this,this.a.Sa(u).then(function(f){return new Ep(f)}))},I.kb=function(u){return Jn(this,this.a.kb(u).then(function(){}))},I.wb=function(u,f){var v=this;return Jn(this,Le().then(function(){return void 0===f||W(f)?{}:Do(new ch(f))}).then(function(w){return v.a.wb(u,w)}).then(function(){}))},I.Wc=function(u,f){return Jn(this,Sf(this,u,f,et(this.ab,this)))},I.Vc=function(u,f){var v=this;return Jn(this,Le().then(function(){var w=f||eh(),D=rl(u,w);if(!(w=ws(w)))throw new B("argument-error","Invalid email link!");if(w.tenantId!==v.T())throw new B("tenant-id-mismatch");return v.ab(D)}))},ts.prototype.render=function(){},ts.prototype.reset=function(){},ts.prototype.getResponse=function(){},ts.prototype.execute=function(){};var sd=null;function qf(u,f){return(f=Sl(f))&&u.a[f]||null}function Sl(u){return(u=void 0===u?1e12:u)?u.toString():null}function As(u,f){this.g=!1,this.c=f,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Xa(u);var v=this;this.i=function(){v.execute()},this.h?this.execute():Vi(this.f,"click",this.i)}function zf(u){if(u.g)throw Error("reCAPTCHA mock was already deleted!")}function Sg(){}function ad(){}Ou.prototype.render=function(u,f){return this.a[this.b.toString()]=new As(u,f),this.b++},Ou.prototype.reset=function(u){var f=qf(this,u);u=Sl(u),f&&u&&(f.delete(),delete this.a[u])},Ou.prototype.getResponse=function(u){return(u=qf(this,u))?u.getResponse():null},Ou.prototype.execute=function(u){(u=qf(this,u))&&u.execute()},As.prototype.getResponse=function(){return zf(this),this.b},As.prototype.execute=function(){zf(this);var u=this;this.a||(this.a=setTimeout(function(){u.b=function nh(){for(var u=50,f=[];0<u;)f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),u--;return f.join("")}();var f=u.c.callback,v=u.c["expired-callback"];if(f)try{f(u.b)}catch(w){}u.a=setTimeout(function(){if(u.a=null,u.b=null,v)try{v()}catch(w){}u.h&&u.execute()},6e4)},500))},As.prototype.delete=function(){zf(this),this.g=!0,clearTimeout(this.a),this.a=null,bo(this.f,"click",this.i)},$e(Sg,"FACTOR_ID","phone"),ad.prototype.g=function(){return sd||(sd=new Ou),Le(sd)},ad.prototype.c=function(){};var $f=null;function Gf(){this.b=$.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ig=new Me(tn,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Tg=new Ii(3e4,6e4);Gf.prototype.g=function(u){var f=this;return new ot(function(v,w){var D=setTimeout(function(){w(new B("network-request-failed"))},Tg.get());!$.grecaptcha||u!==f.f&&!f.b?($[f.a]=function(){if($.grecaptcha){f.f=u;var P=$.grecaptcha.render;$.grecaptcha.render=function(U,le){return U=P(U,le),f.b++,U},clearTimeout(D),v($.grecaptcha)}else clearTimeout(D),w(new B("internal-error"));delete $[f.a]},Le(Yi(no(Ig,{onload:f.a,hl:u||""}))).o(function(){clearTimeout(D),w(new B("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(D),v($.grecaptcha))})},Gf.prototype.c=function(){this.b--};var Wf=null;function Ro(u,f,v,w,D,O,P){if($e(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=f,this.g=null,P?($f||($f=new ad),P=$f):(Wf||(Wf=new Gf),P=Wf),this.m=P,this.a=v||{theme:"light",type:"image"},this.h=[],this.a[Xm])throw new B("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[g_],!$.document)throw new B("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Xa(f)||!this.i&&Xa(f).hasChildNodes())throw new B("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Wn(u,O||null,D||null),this.u=w||function(){return null};var U=this;this.l=[];var le=this.a[Il];this.a[Il]=function(s){if(sa(U,s),"function"==typeof le)le(s);else if("string"==typeof le){var l=Je(le,$);"function"==typeof l&&l(s)}};var a=this.a[ud];this.a[ud]=function(){if(sa(U,null),"function"==typeof a)a();else if("string"==typeof a){var s=Je(a,$);"function"==typeof s&&s()}}}var Il="callback",ud="expired-callback",Xm="sitekey",g_="size";function sa(u,f){for(var v=0;v<u.l.length;v++)try{u.l[v](f)}catch(w){}}function Kf(u,f){return u.h.push(f),f.oa(function(){jn(u.h,f)}),f}function cd(u){if(u.J)throw new B("internal-error","RecaptchaVerifier instance has been destroyed.")}function Tl(u,f,v){var w=!1;try{this.b=v||ge.Z.app()}catch(P){throw new B("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new B("invalid-api-key");v=this.b.options.apiKey;var D=this,O=null;try{O=this.b.auth().Ga()}catch(P){}try{w=this.b.auth().settings.appVerificationDisabledForTesting}catch(P){}O=ge.Z.SDK_VERSION?Gc(ge.Z.SDK_VERSION,O):null,Ro.call(this,v,u,f,function(){try{var P=D.b.auth().la()}catch(U){P=null}return P},O,Lt(We),w)}function Al(u,f,v,w){e:{v=Array.prototype.slice.call(v);for(var D=0,O=!1,P=0;P<f.length;P++)if(f[P].optional)O=!0;else{if(O)throw new B("internal-error","Argument validator encountered a required argument after an optional argument.");D++}if(O=f.length,v.length<D||O<v.length)w="Expected "+(D==O?1==D?"1 argument":D+" arguments":D+"-"+O+" arguments")+" but got "+v.length+".";else{for(D=0;D<v.length;D++)if(O=f[D].optional&&void 0===v[D],!f[D].M(v[D])&&!O){if(f=f[D],0>D||D>=Yf.length)throw new B("internal-error","Argument validator received an unsupported number of arguments.");v=Yf[D],w=(w?"":v+" argument ")+(f.name?'"'+f.name+'" ':"")+"must be "+f.K+".";break e}w=null}}if(w)throw new B("argument-error",u+" failed: "+w)}(I=Ro.prototype).Ia=function(){var u=this;return this.f?this.f:this.f=Kf(this,Le().then(function(){if(pi()&&!zr())return qi();throw new B("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return u.m.g(u.u())}).then(function(f){return u.g=f,qt(u.s,d_,{})}).then(function(f){u.a[Xm]=f.recaptchaSiteKey}).o(function(f){throw u.f=null,f}))},I.render=function(){cd(this);var u=this;return Kf(this,this.Ia().then(function(){if(null===u.c){var f=u.v;if(!u.i){var v=Xa(f);f=function wd(u,f,v){var w=arguments,D=document,O=String(w[0]),P=w[1];if(!bd&&P&&(P.name||P.type)){if(O=["<",O],P.name&&O.push(' name="',er(P.name),'"'),P.type){O.push(' type="',er(P.type),'"');var U={};ie(U,P),delete U.type,P=U}O.push(">"),O=O.join("")}return O=Ku(D,O),P&&("string"==typeof P?O.className=P:Array.isArray(P)?O.className=P.join(" "):Za(O,P)),2<w.length&&Ja(D,O,w),O}("DIV"),v.appendChild(f)}u.c=u.g.render(f,u.a)}return u.c}))},I.verify=function(){cd(this);var u=this;return Kf(this,this.render().then(function(f){return new ot(function(v){var w=u.g.getResponse(f);if(w)v(w);else{var D=function(O){O&&(function Tc(u,f){Kn(u.l,function(v){return v==f})}(u,D),v(O))};u.l.push(D),u.i&&u.g.execute(u.c)}})}))},I.reset=function(){cd(this),null!==this.c&&this.g.reset(this.c)},I.clear=function(){cd(this),this.J=!0,this.m.c();for(var u=0;u<this.h.length;u++)this.h[u].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){u=Xa(this.v);for(var f;f=u.firstChild;)u.removeChild(f)}},te(Tl,Ro);var Yf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ze(u,f){return{name:u||"",K:"a valid string",optional:!!f,M:function(v){return"string"==typeof v}}}function Ml(u,f){return{name:u||"",K:"a boolean",optional:!!f,M:function(v){return"boolean"==typeof v}}}function Sr(u,f){return{name:u||"",K:"a valid object",optional:!!f,M:ft}}function xa(u,f){return{name:u||"",K:"a function",optional:!!f,M:function(v){return"function"==typeof v}}}function ns(u,f){return{name:u||"",K:"null",optional:!!f,M:function(v){return null===v}}}function Ms(u){return{name:u?u+"Credential":"credential",K:u?"a valid "+u+" credential":"a valid credential",optional:!1,M:function(f){return!!f&&!(!f.ka||u&&f.providerId!==u)}}}function aa(u,f){return ft(u)&&"string"==typeof u.type&&u.type===f&&"function"==typeof u.Ha}function bi(u){return ft(u)&&"string"==typeof u.uid}function lr(u,f,v,w){return{name:v||"",K:u.K+" or "+f.K,optional:!!w,M:function(D){return u.M(D)||f.M(D)}}}function On(u,f){for(var v in f){var w=f[v].name;u[w]=Jm(w,u[v],f[v].j)}}function go(u,f){for(var v in f){var w=f[v].name;w!==v&&Object.defineProperty(u,w,{get:en(function(D){return this[D]},v),set:en(function(D,O,P,U){Al(D,[P],[U],!0),this[O]=U},w,v,f[v].lb),enumerable:!0})}}function xn(u,f,v,w){u[f]=Jm(f,v,w)}function Jm(u,f,v){function w(){var P=Array.prototype.slice.call(arguments);return Al(D,v,P),f.apply(this,P)}if(!v)return f;var O,D=function Mg(u){return(u=u.split("."))[u.length-1]}(u);for(O in f)w[O]=f[O];for(O in f.prototype)w.prototype[O]=f.prototype[O];return w}On(es.prototype,{kb:{name:"applyActionCode",j:[ze("code")]},Sa:{name:"checkActionCode",j:[ze("code")]},ob:{name:"confirmPasswordReset",j:[ze("code"),ze("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ze("email"),ze("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ze("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ze("emailLink")]},Hc:{name:"onAuthStateChanged",j:[lr(Sr(),xa(),"nextOrObserver"),xa("opt_error",!0),xa("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[lr(Sr(),xa(),"nextOrObserver"),xa("opt_error",!0),xa("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ze("email"),lr(Sr("opt_actionCodeSettings",!0),ns(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ze("email"),Sr("actionCodeSettings")]},yb:{name:"setPersistence",j:[ze("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ms()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Ms()]},Tc:{name:"signInWithCustomToken",j:[ze("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ze("email"),ze("password")]},Vc:{name:"signInWithEmailLink",j:[ze("email"),ze("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ze("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[lr({name:"user",K:"an instance of Firebase User",optional:!1,M:function(f){return!!(f&&f instanceof _i)}},ns(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ze(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ze("url"),Sr("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ze("code")]}}),go(es.prototype,{lc:{name:"languageCode",lb:lr(ze(),ns(),"languageCode")},ti:{name:"tenantId",lb:lr(ze(),ns(),"tenantId")}}),(es.Persistence=To).LOCAL="local",es.Persistence.SESSION="session",es.Persistence.NONE="none",On(_i.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Ml("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ml("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ms()]},rb:{name:"linkWithCredential",j:[Ms()]},Dc:{name:"linkWithPhoneNumber",j:[ze("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ms()]},ub:{name:"reauthenticateWithCredential",j:[Ms()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ze("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[lr(Sr("opt_actionCodeSettings",!0),ns(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ze(null,!0)]},cd:{name:"unlink",j:[ze("provider")]},Cb:{name:"updateEmail",j:[ze("email")]},Db:{name:"updatePassword",j:[ze("password")]},ed:{name:"updatePhoneNumber",j:[Ms("phone")]},Eb:{name:"updateProfile",j:[Sr("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ze("email"),lr(Sr("opt_actionCodeSettings",!0),ns(null,!0),"opt_actionCodeSettings",!0)]}}),On(Ou.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),On(ts.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),On(ot.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),go(Um.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Ml("appVerificationDisabledForTesting")}}),On(fo.prototype,{confirm:{name:"confirm",j:[ze("verificationCode")]}}),xn(cu,"fromJSON",function(u){u="string"==typeof u?JSON.parse(u):u;for(var f,v=[Ld,Tp,lm,nl],w=0;w<v.length;w++)if(f=v[w](u))return f;return null},[lr(ze(),Sr(),"json")]),xn(Rn,"credential",function(u,f){return new va(u,f)},[ze("email"),ze("password")]),On(va.prototype,{w:{name:"toJSON",j:[ze(null,!0)]}}),On(ma.prototype,{Ca:{name:"addScope",j:[ze("scope")]},Ka:{name:"setCustomParameters",j:[Sr("customOAuthParameters")]}}),xn(ma,"credential",Ip,[lr(ze(),Sr(),"token")]),xn(Rn,"credentialWithLink",rl,[ze("email"),ze("emailLink")]),On(hu.prototype,{Ca:{name:"addScope",j:[ze("scope")]},Ka:{name:"setCustomParameters",j:[Sr("customOAuthParameters")]}}),xn(hu,"credential",Zn,[lr(ze(),Sr(),"token")]),On(Mt.prototype,{Ca:{name:"addScope",j:[ze("scope")]},Ka:{name:"setCustomParameters",j:[Sr("customOAuthParameters")]}}),xn(Mt,"credential",du,[lr(ze(),lr(Sr(),ns()),"idToken"),lr(ze(),ns(),"accessToken",!0)]),On(bs.prototype,{Ka:{name:"setCustomParameters",j:[Sr("customOAuthParameters")]}}),xn(bs,"credential",vh,[lr(ze(),Sr(),"token"),ze("secret",!0)]),On(Er.prototype,{Ca:{name:"addScope",j:[ze("scope")]},credential:{name:"credential",j:[lr(ze(),lr(Sr(),ns()),"optionsOrIdToken"),lr(ze(),ns(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Sr("customOAuthParameters")]}}),On(ys.prototype,{w:{name:"toJSON",j:[ze(null,!0)]}}),On(vs.prototype,{w:{name:"toJSON",j:[ze(null,!0)]}}),xn(rr,"credential",hm,[ze("verificationId"),ze("verificationCode")]),On(rr.prototype,{gb:{name:"verifyPhoneNumber",j:[lr(ze(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(v){return!!v&&(v.session&&v.phoneNumber?aa(v.session,pa)&&"string"==typeof v.phoneNumber:v.session&&v.multiFactorHint?aa(v.session,ga)&&bi(v.multiFactorHint):v.session&&v.multiFactorUid?aa(v.session,ga)&&"string"==typeof v.multiFactorUid:!!v.phoneNumber&&"string"==typeof v.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]}}),On($n.prototype,{w:{name:"toJSON",j:[ze(null,!0)]}}),On(B.prototype,{toJSON:{name:"toJSON",j:[ze(null,!0)]}}),On(Ko.prototype,{toJSON:{name:"toJSON",j:[ze(null,!0)]}}),On(Gs.prototype,{toJSON:{name:"toJSON",j:[ze(null,!0)]}}),On(Qh.prototype,{toJSON:{name:"toJSON",j:[ze(null,!0)]}}),On(dg.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(u){return!!u&&!!u.tb}}]}}),On(Tf.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(u){return!!u&&!!u.tb}},ze("displayName",!0)]},bd:{name:"unenroll",j:[lr({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:bi},ze(),"multiFactorInfoIdentifier")]}}),On(Tl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),xn(Cp,"parseLink",oc,[ze("link")]),xn(Sg,"assertion",function(u){return new an(u)},[Ms("phone")]),function(){if(void 0===ge.Z||!ge.Z.INTERNAL||!ge.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var u={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:gi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:zs,VERIFY_AND_CHANGE_EMAIL:$r,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:es,AuthCredential:cu,Error:B};xn(u,"EmailAuthProvider",Rn,[]),xn(u,"FacebookAuthProvider",ma,[]),xn(u,"GithubAuthProvider",hu,[]),xn(u,"GoogleAuthProvider",Mt,[]),xn(u,"TwitterAuthProvider",bs,[]),xn(u,"OAuthProvider",Er,[ze("providerId")]),xn(u,"SAMLAuthProvider",mh,[ze("providerId")]),xn(u,"PhoneAuthProvider",rr,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(u){return!!(u&&u instanceof es)}}]),xn(u,"RecaptchaVerifier",Tl,[lr(ze(),{name:"",K:"an HTML element",optional:!1,M:function(u){return!!(u&&u instanceof Element)}},"recaptchaContainer"),Sr("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(u){return!!(u&&u instanceof ge.Z.app.App)}}]),xn(u,"ActionCodeURL",Cp,[]),xn(u,"PhoneMultiFactorGenerator",Sg,[]),ge.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(f){return new es(f=f.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:u,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(f){f.getProvider("auth-internal").initialize()}}),ge.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(f){return{getUid:et((f=f.getProvider("auth").getImmediate()).getUid,f),getToken:et(f.nc,f),addAuthTokenListener:et(f.cc,f),removeAuthTokenListener:et(f.Pc,f)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ge.Z.registerVersion("@firebase/auth","0.16.8"),ge.Z.INTERNAL.extendNamespace({User:_i})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},361:(qa,hi,Ft)=>{Ft.r(hi);var ge=Ft(367),I=Ft(655),Ge=Ft(492),it=Ft(3),Tt=function(a,s){return(Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(l[g]=d[g])})(a,s)};function Tr(a){var s="function"==typeof Symbol&&Symbol.iterator,l=s&&a[s],d=0;if(l)return l.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}var ce,Ei="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},$=$||{},be=Ei||self;function Re(){}function Ae(a){var s=typeof a;return"array"==(s="object"!=s?s:a?Array.isArray(a)?"array":s:"null")||"object"==s&&"number"==typeof a.length}function Be(a){var s=typeof a;return"object"==s&&null!=a||"function"==s}var xt="closure_uid_"+(1e9*Math.random()>>>0),It=0;function ft(a,s,l){return a.call.apply(a.bind,arguments)}function pr(a,s,l){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,d),a.apply(s,g)}}return function(){return a.apply(s,arguments)}}function Vt(a,s,l){return(Vt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ft:pr).apply(null,arguments)}function ti(a,s){var l=Array.prototype.slice.call(arguments,1);return function(){var d=l.slice();return d.push.apply(d,arguments),a.apply(this,d)}}function pt(a,s){function l(){}l.prototype=s.prototype,a.Z=s.prototype,a.prototype=new l,a.prototype.constructor=a,a.Vb=function(d,g,y){for(var b=Array(arguments.length-2),C=2;C<arguments.length;C++)b[C-2]=arguments[C];return s.prototype[g].apply(d,b)}}function Ln(){this.s=this.s,this.o=this.o}var en={};Ln.prototype.s=!1,Ln.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var a=function Rt(a){return Object.prototype.hasOwnProperty.call(a,xt)&&a[xt]||(a[xt]=++It)}(this);delete en[a]}},Ln.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ci=Array.prototype.indexOf?function(a,s){return Array.prototype.indexOf.call(a,s,void 0)}:function(a,s){if("string"==typeof a)return"string"!=typeof s||1!=s.length?-1:a.indexOf(s,0);for(var l=0;l<a.length;l++)if(l in a&&a[l]===s)return l;return-1},te=Array.prototype.forEach?function(a,s,l){Array.prototype.forEach.call(a,s,l)}:function(a,s,l){for(var d=a.length,g="string"==typeof a?a.split(""):a,y=0;y<d;y++)y in g&&s.call(l,g[y],y,a)};function B(a){return Array.prototype.concat.apply([],arguments)}function he(a){var s=a.length;if(0<s){for(var l=Array(s),d=0;d<s;d++)l[d]=a[d];return l}return[]}function Oe(a){return/^[\s\xa0]*$/.test(a)}var We,ke=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function Qe(a,s){return-1!=a.indexOf(s)}function Lt(a,s){return a<s?-1:a>s?1:0}e:{var dt=be.navigator;if(dt){var Qt=dt.userAgent;if(Qt){We=Qt;break e}}We=""}function Ue(a,s,l){for(var d in a)s.call(l,a[d],d,a)}function Ee(a){var s={};for(var l in a)s[l]=a[l];return s}var Fe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vn(a,s){for(var l,d,g=1;g<arguments.length;g++){for(l in d=arguments[g])a[l]=d[l];for(var y=0;y<Fe.length;y++)l=Fe[y],Object.prototype.hasOwnProperty.call(d,l)&&(a[l]=d[l])}}function ln(a){return ln[" "](a),a}ln[" "]=Re;var Wt,a,No=Qe(We,"Opera"),Fo=Qe(We,"Trident")||Qe(We,"MSIE"),za=Qe(We,"Edge"),yn=za||Fo,Ar=Qe(We,"Gecko")&&!(Qe(We.toLowerCase(),"webkit")&&!Qe(We,"Edge"))&&!(Qe(We,"Trident")||Qe(We,"MSIE"))&&!Qe(We,"Edge"),Ul=Qe(We.toLowerCase(),"webkit")&&!Qe(We,"Edge");function Pt(){var a=be.document;return a?a.documentMode:void 0}e:{var di="",In=(a=We,Ar?/rv:([^\);]+)(\)|;)/.exec(a):za?/Edge\/([\d\.]+)/.exec(a):Fo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):Ul?/WebKit\/(\S+)/.exec(a):No?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(In&&(di=In?In[1]:""),Fo){var jn=Pt();if(null!=jn&&jn>parseFloat(di)){Wt=String(jn);break e}}Wt=di}var Kn={};var vo=be.document&&Fo&&(Pt()||parseInt(Wt,10))||void 0,Hl=function(){if(!be.addEventListener||!Object.defineProperty)return!1;var a=!1,s=Object.defineProperty({},"passive",{get:function(){a=!0}});try{be.addEventListener("test",Re,s),be.removeEventListener("test",Re,s)}catch(l){}return a}();function ni(a,s){this.type=a,this.g=this.target=s,this.defaultPrevented=!1}function us(a,s){if(ni.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var l=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=s,s=a.relatedTarget){if(Ar){e:{try{ln(s.nodeName);var g=!0;break e}catch(y){}g=!1}g||(s=null)}}else"mouseover"==l?s=a.fromElement:"mouseout"==l&&(s=a.toElement);this.relatedTarget=s,d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:pp[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&us.Z.h.call(this)}}ni.prototype.h=function(){this.defaultPrevented=!0},pt(us,ni);var pp={2:"touch",3:"pen",4:"mouse"};us.prototype.h=function(){us.Z.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Hu="closure_listenable_"+(1e6*Math.random()|0),_d=0;function wn(a,s,l,d,g){this.listener=a,this.proxy=null,this.src=s,this.type=l,this.capture=!!d,this.ia=g,this.key=++_d,this.ca=this.fa=!1}function Lo(a){a.ca=!0,a.listener=null,a.proxy=null,a.src=null,a.ia=null}function to(a){this.src=a,this.g={},this.h=0}function $a(a,s){var l=s.type;if(l in a.g){var y,d=a.g[l],g=Ci(d,s);(y=0<=g)&&Array.prototype.splice.call(d,g,1),y&&(Lo(s),0==a.g[l].length&&(delete a.g[l],a.h--))}}function Ga(a,s,l,d){for(var g=0;g<a.length;++g){var y=a[g];if(!y.ca&&y.listener==s&&y.capture==!!l&&y.ia==d)return g}return-1}to.prototype.add=function(a,s,l,d,g){var y=a.toString();(a=this.g[y])||(a=this.g[y]=[],this.h++);var b=Ga(a,s,d,g);return-1<b?(s=a[b],l||(s.fa=!1)):((s=new wn(s,this.src,y,!!d,g)).fa=l,a.push(s)),s};var Tn="closure_lm_"+(1e6*Math.random()|0),Ns={};function W(a,s,l,d,g){if(d&&d.once)return ie(a,s,l,d,g);if(Array.isArray(s)){for(var y=0;y<s.length;y++)W(a,s[y],l,d,g);return null}return l=Mr(l),a&&a[Hu]?a.N(s,l,Be(d)?!!d.capture:!!d,g):G(a,s,l,!1,d,g)}function G(a,s,l,d,g,y){if(!s)throw Error("Invalid event type");var b=Be(g)?!!g.capture:!!g,C=tn(a);if(C||(a[Tn]=C=new to(a)),(l=C.add(s,l,d,b,y)).proxy)return l;if(d=function Q(){var s=Ut;return function a(l){return s.call(a.src,a.listener,l)}}(),l.proxy=d,d.src=a,d.listener=l,a.addEventListener)Hl||(g=b),void 0===g&&(g=!1),a.addEventListener(s.toString(),d,g);else if(a.attachEvent)a.attachEvent(ut(s.toString()),d);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(d)}return l}function ie(a,s,l,d,g){if(Array.isArray(s)){for(var y=0;y<s.length;y++)ie(a,s[y],l,d,g);return null}return l=Mr(l),a&&a[Hu]?a.O(s,l,Be(d)?!!d.capture:!!d,g):G(a,s,l,!0,d,g)}function K(a,s,l,d,g){if(Array.isArray(s))for(var y=0;y<s.length;y++)K(a,s[y],l,d,g);else d=Be(d)?!!d.capture:!!d,l=Mr(l),a&&a[Hu]?(a=a.i,(s=String(s).toString())in a.g&&-1<(l=Ga(y=a.g[s],l,d,g))&&(Lo(y[l]),Array.prototype.splice.call(y,l,1),0==y.length&&(delete a.g[s],a.h--))):a&&(a=tn(a))&&(s=a.g[s.toString()],a=-1,s&&(a=Ga(s,l,d,g)),(l=-1<a?s[a]:null)&&Me(l))}function Me(a){if("number"!=typeof a&&a&&!a.ca){var s=a.src;if(s&&s[Hu])$a(s.i,a);else{var l=a.type,d=a.proxy;s.removeEventListener?s.removeEventListener(l,d,a.capture):s.detachEvent?s.detachEvent(ut(l),d):s.addListener&&s.removeListener&&s.removeListener(d),(l=tn(s))?($a(l,a),0==l.h&&(l.src=null,s[Tn]=null)):Lo(a)}}}function ut(a){return a in Ns?Ns[a]:Ns[a]="on"+a}function Ut(a,s){if(a.ca)a=!0;else{s=new us(s,this);var l=a.listener,d=a.ia||a.src;a.fa&&Me(a),a=l.call(d,s)}return a}function tn(a){return(a=a[Tn])instanceof to?a:null}var Kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mr(a){return"function"==typeof a?a:(a[Kt]||(a[Kt]=function(s){return a.handleEvent(s)}),a[Kt])}function Ht(){Ln.call(this),this.i=new to(this),this.P=this,this.I=null}function kt(a,s){var l,d=a.I;if(d)for(l=[];d;d=d.I)l.push(d);if(a=a.P,d=s.type||s,"string"==typeof s)s=new ni(s,a);else if(s instanceof ni)s.target=s.target||a;else{var g=s;vn(s=new ni(d,a),g)}if(g=!0,l)for(var y=l.length-1;0<=y;y--){var b=s.g=l[y];g=no(b,d,!0,s)&&g}if(g=no(b=s.g=a,d,!0,s)&&g,g=no(b,d,!1,s)&&g,l)for(y=0;y<l.length;y++)g=no(b=s.g=l[y],d,!1,s)&&g}function no(a,s,l,d){if(!(s=a.i.g[String(s)]))return!0;s=s.concat();for(var g=!0,y=0;y<s.length;++y){var b=s[y];if(b&&!b.ca&&b.capture==l){var C=b.listener,T=b.ia||b.src;b.fa&&$a(a.i,b),g=!1!==C.call(T,d)&&g}}return g&&!d.defaultPrevented}pt(Ht,Ln),Ht.prototype[Hu]=!0,Ht.prototype.removeEventListener=function(a,s,l,d){K(this,a,s,l,d)},Ht.prototype.M=function(){if(Ht.Z.M.call(this),this.i){var s,a=this.i;for(s in a.g){for(var l=a.g[s],d=0;d<l.length;d++)Lo(l[d]);delete a.g[s],a.h--}}this.I=null},Ht.prototype.N=function(a,s,l,d){return this.i.add(String(a),s,!1,l,d)},Ht.prototype.O=function(a,s,l,d){return this.i.add(String(a),s,!0,l,d)};var Bn=be.JSON.stringify;function qu(){var a=$u,s=null;return a.g&&(s=a.g,a.g=a.g.next,a.g||(a.h=null),s.next=null),s}var Lc,jo=function(){function a(){this.h=this.g=null}return a.prototype.add=function(s,l){var d=cs.get();d.set(s,l),this.h?this.h.next=d:this.g=d,this.h=d},a}(),cs=new(function(){function a(s,l){this.i=s,this.j=l,this.h=0,this.g=null}return a.prototype.get=function(){var s;return 0<this.h?(this.h--,this.g=(s=this.g).next,s.next=null):s=this.i(),s},a}())(function(){return new Yn},function(a){return a.reset()}),Yn=function(){function a(){this.next=this.g=this.h=null}return a.prototype.set=function(s,l){this.h=s,this.g=l,this.next=null},a.prototype.reset=function(){this.next=this.g=this.h=null},a}();function Fs(a){be.setTimeout(function(){throw a},0)}function zu(a,s){Lc||function yo(){var a=be.Promise.resolve(void 0);Lc=function(){a.then(Wa)}}(),ca||(Lc(),ca=!0),$u.add(a,s)}var ca=!1,$u=new jo;function Wa(){for(var a;a=qu();){try{a.h.call(a.g)}catch(l){Fs(l)}var s=cs;s.j(a),100>s.h&&(s.h++,a.next=s.g,s.g=a)}ca=!1}function Gu(a,s){Ht.call(this),this.h=a||1,this.g=s||be,this.j=Vt(this.kb,this),this.l=Date.now()}function Ls(a){a.da=!1,a.S&&(a.g.clearTimeout(a.S),a.S=null)}function ql(a,s,l){if("function"==typeof a)l&&(a=Vt(a,l));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=Vt(a.handleEvent,a)}return 2147483647<Number(s)?-1:be.setTimeout(a,s||0)}function zl(a){a.g=ql(function(){a.g=null,a.i&&(a.i=!1,zl(a))},a.j);var s=a.h;a.h=null,a.m.apply(null,s)}pt(Gu,Ht),(ce=Gu.prototype).da=!1,ce.S=null,ce.kb=function(){if(this.da){var a=Date.now()-this.l;0<a&&a<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-a):(this.S&&(this.g.clearTimeout(this.S),this.S=null),kt(this,"tick"),this.da&&(Ls(this),this.start()))}},ce.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ce.M=function(){Gu.Z.M.call(this),Ls(this),delete this.g};var $l=function(a){function s(l,d){var g=a.call(this)||this;return g.m=l,g.j=d,g.h=null,g.i=!1,g.g=null,g}return function eo(a,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=a}Tt(a,s),a.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}(s,a),s.prototype.l=function(l){this.h=arguments,this.g?this.i=!0:zl(this)},s.prototype.M=function(){a.prototype.M.call(this),this.g&&(be.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},s}(Ln);function Ka(a){Ln.call(this),this.h=a,this.g={}}pt(Ka,Ln);var Ya=[];function er(a,s,l,d){Array.isArray(l)||(l&&(Ya[0]=l.toString()),l=Ya);for(var g=0;g<l.length;g++){var y=W(s,l[g],d||a.handleEvent,!1,a.h||a);if(!y)break;a.g[y.key]=y}}function Qa(a){Ue(a.g,function(s,l){this.g.hasOwnProperty(l)&&Me(s)},a),a.g={}}function Rr(){this.g=!0}function Xt(a,s,l,d){a.info(function(){return"XMLHTTP TEXT ("+s+"): "+function sn(a,s){if(!a.g)return s;if(!s)return null;try{var l=JSON.parse(s);if(l)for(a=0;a<l.length;a++)if(Array.isArray(l[a])){var d=l[a];if(!(2>d.length)){var g=d[1];if(Array.isArray(g)&&!(1>g.length)){var y=g[0];if("noop"!=y&&"stop"!=y&&"close"!=y)for(var b=1;b<g.length;b++)g[b]=""}}}return Bn(l)}catch(C){return s}}(a,l)+(d?" "+d:"")})}Ka.prototype.M=function(){Ka.Z.M.call(this),Qa(this)},Ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rr.prototype.Aa=function(){this.g=!1},Rr.prototype.info=function(){};var ro={},Wl=null;function ls(){return Wl=Wl||new Ht}function vt(a){ni.call(this,ro.Ma,a)}function hs(a){var s=ls();kt(s,new vt(s,a))}function Kl(a,s){ni.call(this,ro.STAT_EVENT,a),this.stat=s}function yt(a){var s=ls();kt(s,new Kl(s,a))}function Wu(a,s){ni.call(this,ro.Na,a),this.size=s}function ct(a,s){if("function"!=typeof a)throw Error("Fn must not be null and must be a function");return be.setTimeout(function(){a()},s)}ro.Ma="serverreachability",pt(vt,ni),ro.STAT_EVENT="statevent",pt(Kl,ni),ro.Na="timingevent",pt(Wu,ni);var hr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},_o={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function bd(){}function Za(){}bd.prototype.h=null;var Ku,gr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function wd(){ni.call(this,"d")}function Ja(){ni.call(this,"c")}function ji(){}function eu(a,s,l,d){this.l=a,this.j=s,this.m=l,this.X=d||1,this.V=new Ka(this),this.P=Yl,this.W=new Gu(a=yn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new gp}function gp(){this.i=null,this.g="",this.h=!1}pt(wd,ni),pt(Ja,ni),pt(ji,bd),ji.prototype.g=function(){return new XMLHttpRequest},ji.prototype.i=function(){return{}},Ku=new ji;var Yl=45e3,Yu={},jc={};function Qu(a,s,l){a.K=1,a.v=sr(_e(s)),a.s=l,a.U=!0,Ql(a,null)}function Ql(a,s){a.F=Date.now(),ds(a),a.A=_e(a.v);var l=a.A,d=a.X;Array.isArray(d)||(d=[String(d)]),Xl(l.h,"t",d),a.C=0,l=a.l.H,a.h=new gp,a.g=tm(a.l,l?s:null,!a.s),0<a.O&&(a.L=new $l(Vt(a.Ia,a,a.g),a.O)),er(a.V,a.g,"readystatechange",a.gb),s=a.H?Ee(a.H):{},a.s?(a.u||(a.u="POST"),s["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.s,s)):(a.u="GET",a.g.ea(a.A,a.u,null,s)),hs(1),function Gl(a,s,l,d,g,y){a.info(function(){if(a.g)if(y)for(var b="",C=y.split("&"),T=0;T<C.length;T++){var x=C[T].split("=");if(1<x.length){var N=x[0];x=x[1];var V=N.split("_");b=2<=V.length&&"type"==V[1]?b+(N+"=")+x+"&":b+(N+"=redacted&")}}else b=null;else b=y;return"XMLHTTP REQ ("+d+") [attempt "+g+"]: "+s+"\n"+l+"\n"+b})}(a.j,a.u,a.A,a.m,a.X,a.s)}function Ed(a){return!!a.g&&"GET"==a.u&&2!=a.K&&a.l.Ba}function ot(a,s,l){for(var g,d=!0;!a.I&&a.C<l.length;){if((g=nn(a,l))==jc){4==s&&(a.o=4,yt(14),d=!1),Xt(a.j,a.m,null,"[Incomplete Response]");break}if(g==Yu){a.o=4,yt(15),Xt(a.j,a.m,l,"[Invalid Chunk]"),d=!1;break}Xt(a.j,a.m,g,null),Le(a,g)}Ed(a)&&g!=jc&&g!=Yu&&(a.h.g="",a.C=0),4!=s||0!=l.length||a.h.h||(a.o=1,yt(16),d=!1),a.i=a.i&&d,d?0<l.length&&!a.aa&&(a.aa=!0,(s=a.l).g==a&&s.$&&!s.L&&(s.h.info("Great, no buffering proxy detected. Bytes received: "+l.length),qr(s),s.L=!0,yt(11))):(Xt(a.j,a.m,l,"[Invalid Chunked Response]"),Bs(a),He(a))}function nn(a,s){var l=a.C,d=s.indexOf("\n",l);return-1==d?jc:(l=Number(s.substring(l,d)),isNaN(l)?Yu:(d+=1)+l>s.length?jc:(s=s.substr(d,l),a.C=d+l,s))}function ds(a){a.Y=Date.now()+a.P,Bi(a,a.P)}function Bi(a,s){if(null!=a.B)throw Error("WatchDog timer not null");a.B=ct(Vt(a.eb,a),s)}function Bc(a){a.B&&(be.clearTimeout(a.B),a.B=null)}function He(a){0==a.l.G||a.I||oo(a.l,a)}function Bs(a){Bc(a);var s=a.L;s&&"function"==typeof s.na&&s.na(),a.L=null,Ls(a.W),Qa(a.V),a.g&&(s=a.g,a.g=null,s.abort(),s.na())}function Le(a,s){try{var l=a.l;if(0!=l.G&&(l.g==a||Jl(l.i,a)))if(l.I=a.N,!a.J&&Jl(l.i,a)&&3==l.G){try{var d=l.Ca.g.parse(s)}catch(Ie){d=null}if(Array.isArray(d)&&3==d.length){var g=d;if(0==g[0])e:if(l.u)l.ta=g[1],0<l.ta-l.U&&37500>g[2]&&l.N&&0==l.A&&!l.v&&(l.v=ct(Vt(l.ab,l),6e3));else{if(l.g){if(!(l.g.F+3e3<a.F))break e;nu(l),Hr(l)}zo(l),yt(18)}if(1>=ar(l.i)&&l.ka){try{l.ka()}catch(Ie){}l.ka=void 0}}else ru(l,11)}else if((a.J||l.g==a)&&nu(l),!Oe(s))for(g=l.Ca.g.parse(s),s=0;s<g.length;s++){var y=g[s];if(l.U=y[0],y=y[1],2==l.G)if("c"==y[0]){l.J=y[1],l.la=y[2];var b=y[3];null!=b&&(l.ma=b,l.h.info("VER="+l.ma));var C=y[4];null!=C&&(l.za=C,l.h.info("SVER="+l.za));var T=y[5];null!=T&&"number"==typeof T&&0<T&&(l.K=d=1.5*T,l.h.info("backChannelRequestTimeoutMs_="+d)),d=l;var x=a.g;if(x){var N=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(N){var V=d.i;!V.g&&(Qe(N,"spdy")||Qe(N,"quic")||Qe(N,"h2"))&&(V.j=V.l,V.g=new Set,V.h&&(Vi(V,V.h),V.h=null))}if(d.D){var q=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;q&&(d.sa=q,ht(d.F,d.D,q))}}l.G=3,l.j&&l.j.xa(),l.$&&(l.O=Date.now()-a.F,l.h.info("Handshake RTT: "+l.O+"ms"));var ee=a;if((d=l).oa=ec(d,d.H?d.la:null,d.W),ee.J){Dd(d.i,ee);var J=ee,re=d.K;re&&J.setTimeout(re),J.B&&(Bc(J),ds(J)),d.g=ee}else Jg(d);0<l.l.length&&qo(l)}else"stop"!=y[0]&&"close"!=y[0]||ru(l,7);else 3==l.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?ru(l,7):Ur(l):"noop"!=y[0]&&l.j&&l.j.wa(y),l.A=0)}hs(4)}catch(Ie){}}function Xu(a,s){if(a.forEach&&"function"==typeof a.forEach)a.forEach(s,void 0);else if(Ae(a)||"string"==typeof a)te(a,s,void 0);else{if(a.T&&"function"==typeof a.T)var l=a.T();else if(a.R&&"function"==typeof a.R)l=void 0;else if(Ae(a)||"string"==typeof a){l=[];for(var d=a.length,g=0;g<d;g++)l.push(g)}else for(g in l=[],d=0,a)l[d++]=g;d=function An(a){if(a.R&&"function"==typeof a.R)return a.R();if("string"==typeof a)return a.split("");if(Ae(a)){for(var s=[],l=a.length,d=0;d<l;d++)s.push(a[d]);return s}for(d in s=[],l=0,a)s[l++]=a[d];return s}(a),g=d.length;for(var y=0;y<g;y++)s.call(void 0,d[y],l&&l[y],a)}}function k(a,s){this.h={},this.g=[],this.i=0;var l=arguments.length;if(1<l){if(l%2)throw Error("Uneven number of arguments");for(var d=0;d<l;d+=2)this.set(arguments[d],arguments[d+1])}else if(a)if(a instanceof k)for(l=a.T(),d=0;d<l.length;d++)this.set(l[d],a.get(l[d]));else for(d in a)this.set(d,a[d])}function M(a){if(a.i!=a.g.length){for(var s=0,l=0;s<a.g.length;){var d=a.g[s];L(a.h,d)&&(a.g[l++]=d),s++}a.g.length=l}if(a.i!=a.g.length){var g={};for(l=s=0;s<a.g.length;)L(g,d=a.g[s])||(a.g[l++]=d,g[d]=1),s++;a.g.length=l}}function L(a,s){return Object.prototype.hasOwnProperty.call(a,s)}(ce=eu.prototype).setTimeout=function(a){this.P=a},ce.gb=function(a){a=a.target;var s=this.L;s&&3==Hi(a)?s.l():this.Ia(a)},ce.Ia=function(a){try{if(a==this.g)e:{var s=Hi(this.g),l=this.g.Da(),d=this.g.ba();if(!(3>s)&&(3!=s||yn||this.g&&(this.h.h||this.g.ga()||En(this.g)))){this.I||4!=s||7==l||hs(8==l||0>=d?3:2),Bc(this);var g=this.g.ba();this.N=g;t:if(Ed(this)){var y=En(this.g);a="";var b=y.length,C=4==Hi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Bs(this),He(this);var T="";break t}this.h.i=new be.TextDecoder}for(l=0;l<b;l++)this.h.h=!0,a+=this.h.i.decode(y[l],{stream:C&&l==b-1});y.splice(0,b),this.h.g+=a,this.C=0,T=this.h.g}else T=this.g.ga();if(this.i=200==g,function Li(a,s,l,d,g,y,b){a.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+g+"]: "+s+"\n"+l+"\n"+y+" "+b})}(this.j,this.u,this.A,this.m,this.X,s,g),this.i){if(this.$&&!this.J){t:{if(this.g){var x,N=this.g;if((x=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oe(x)){var V=x;break t}}V=null}if(!(g=V)){this.i=!1,this.o=3,yt(12),Bs(this),He(this);break e}Xt(this.j,this.m,g,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Le(this,g)}this.U?(ot(this,s,T),yn&&this.i&&3==s&&(er(this.V,this.W,"tick",this.fb),this.W.start())):(Xt(this.j,this.m,T,null),Le(this,T)),4==s&&Bs(this),this.i&&!this.I&&(4==s?oo(this.l,this):(this.i=!1,ds(this)))}else 400==g&&0<T.indexOf("Unknown SID")?(this.o=3,yt(12)):(this.o=0,yt(13)),Bs(this),He(this)}}}catch(q){}},ce.fb=function(){if(this.g){var a=Hi(this.g),s=this.g.ga();this.C<s.length&&(Bc(this),ot(this,a,s),this.i&&4!=a&&ds(this))}},ce.cancel=function(){this.I=!0,Bs(this)},ce.eb=function(){this.B=null;var a=Date.now();0<=a-this.Y?(function js(a,s){a.info(function(){return"TIMEOUT: "+s})}(this.j,this.A),2!=this.K&&(hs(3),yt(17)),Bs(this),this.o=2,He(this)):Bi(this,this.Y-a)},(ce=k.prototype).R=function(){M(this);for(var a=[],s=0;s<this.g.length;s++)a.push(this.h[this.g[s]]);return a},ce.T=function(){return M(this),this.g.concat()},ce.get=function(a,s){return L(this.h,a)?this.h[a]:s},ce.set=function(a,s){L(this.h,a)||(this.i++,this.g.push(a)),this.h[a]=s},ce.forEach=function(a,s){for(var l=this.T(),d=0;d<l.length;d++){var g=l[d],y=this.get(g);a.call(s,y,g,this)}};var H=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ne(a,s){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,a instanceof ne){this.g=void 0!==s?s:a.g,de(this,a.j),this.s=a.s,xe(this,a.i),Xe(this,a.m),this.l=a.l,s=a.h;var l=new yr;l.i=s.i,s.g&&(l.g=new k(s.g),l.h=s.h),nt(this,l),this.o=a.o}else a&&(l=String(a).match(H))?(this.g=!!s,de(this,l[1]||"",!0),this.s=Un(l[2]||""),xe(this,l[3]||"",!0),Xe(this,l[4]),this.l=Un(l[5]||"",!0),nt(this,l[6]||"",!0),this.o=Un(l[7]||"")):(this.g=!!s,this.h=new yr(null,this.g))}function _e(a){return new ne(a)}function de(a,s,l){a.j=l?Un(s,!0):s,a.j&&(a.j=a.j.replace(/:$/,""))}function xe(a,s,l){a.i=l?Un(s,!0):s}function Xe(a,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);a.m=s}else a.m=null}function nt(a,s,l){s instanceof yr?(a.h=s,function Vc(a,s){s&&!a.j&&(Br(a),a.i=null,a.g.forEach(function(l,d){var g=d.toLowerCase();d!=g&&(Vr(this,d),Xl(this,g,l))},a)),a.j=s}(a.h,a.g)):(l||(s=mr(s,Zu)),a.h=new yr(s,a.g))}function ht(a,s,l){a.h.set(s,l)}function sr(a){return ht(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Un(a,s){return a?s?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function mr(a,s,l){return"string"==typeof a?(a=encodeURI(a).replace(s,vr),l&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function vr(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}ne.prototype.toString=function(){var a=[],s=this.j;s&&a.push(mr(s,fi,!0),":");var l=this.i;return(l||"file"==s)&&(a.push("//"),(s=this.s)&&a.push(mr(s,fi,!0),"@"),a.push(encodeURIComponent(String(l)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(l=this.m)&&a.push(":",String(l))),(l=this.l)&&(this.i&&"/"!=l.charAt(0)&&a.push("/"),a.push(mr(l,"/"==l.charAt(0)?Bo:io,!0))),(l=this.h.toString())&&a.push("?",l),(l=this.o)&&a.push("#",mr(l,Zt)),a.join("")};var fi=/[#\/\?@]/g,io=/[#\?:]/g,Bo=/[#\?]/g,Zu=/[#\?@]/g,Zt=/#/g;function yr(a,s){this.h=this.g=null,this.i=a||null,this.j=!!s}function Br(a){a.g||(a.g=new k,a.h=0,a.i&&function Y(a,s){if(a){a=a.split("&");for(var l=0;l<a.length;l++){var d=a[l].indexOf("="),g=null;if(0<=d){var y=a[l].substring(0,d);g=a[l].substring(d+1)}else y=a[l];s(y,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}(a.i,function(s,l){a.add(decodeURIComponent(s.replace(/\+/g," ")),l)}))}function Vr(a,s){Br(a),s=tu(a,s),L(a.g.h,s)&&(a.i=null,a.h-=a.g.get(s).length,L((a=a.g).h,s)&&(delete a.h[s],a.i--,a.g.length>2*a.i&&M(a)))}function hn(a,s){return Br(a),s=tu(a,s),L(a.g.h,s)}function Xl(a,s,l){Vr(a,s),0<l.length&&(a.i=null,a.g.set(tu(a,s),he(l)),a.h+=l.length)}function tu(a,s){return s=String(s),a.j&&(s=s.toLowerCase()),s}(ce=yr.prototype).add=function(a,s){Br(this),this.i=null,a=tu(this,a);var l=this.g.get(a);return l||this.g.set(a,l=[]),l.push(s),this.h+=1,this},ce.forEach=function(a,s){Br(this),this.g.forEach(function(l,d){te(l,function(g){a.call(s,g,d,this)},this)},this)},ce.T=function(){Br(this);for(var a=this.g.R(),s=this.g.T(),l=[],d=0;d<s.length;d++)for(var g=a[d],y=0;y<g.length;y++)l.push(s[d]);return l},ce.R=function(a){Br(this);var s=[];if("string"==typeof a)hn(this,a)&&(s=B(s,this.g.get(tu(this,a))));else{a=this.g.R();for(var l=0;l<a.length;l++)s=B(s,a[l])}return s},ce.set=function(a,s){return Br(this),this.i=null,hn(this,a=tu(this,a))&&(this.h-=this.g.get(a).length),this.g.set(a,[s]),this.h+=1,this},ce.get=function(a,s){return a&&0<(a=this.R(a)).length?String(a[0]):s},ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var a=[],s=this.g.T(),l=0;l<s.length;l++){var d=s[l],g=encodeURIComponent(String(d));d=this.R(d);for(var y=0;y<d.length;y++){var b=g;""!==d[y]&&(b+="="+encodeURIComponent(String(d[y]))),a.push(b)}}return this.i=a.join("&")};var Zl=function a(s,l){this.h=s,this.g=l};function Vo(a){this.l=a||Ju,a=be.PerformanceNavigationTiming?0<(a=be.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):!!(be.g&&be.g.Ea&&be.g.Ea()&&be.g.Ea().Zb),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ju=10;function Cd(a){return!!a.h||!!a.g&&a.g.size>=a.j}function ar(a){return a.h?1:a.g?a.g.size:0}function Jl(a,s){return a.h?a.h==s:!!a.g&&a.g.has(s)}function Vi(a,s){a.g?a.g.add(s):a.h=s}function Dd(a,s){a.h&&a.h==s?a.h=null:a.g&&a.g.has(s)&&a.g.delete(s)}function mp(a){var s,l;if(null!=a.h)return a.i.concat(a.h.D);if(null!=a.g&&0!==a.g.size){var d=a.i;try{for(var g=Tr(a.g.values()),y=g.next();!y.done;y=g.next())d=d.concat(y.value.D)}catch(C){s={error:C}}finally{try{y&&!y.done&&(l=g.return)&&l.call(g)}finally{if(s)throw s.error}}return d}return he(a.i)}function Hn(){}function bo(){this.g=new Hn}function vp(a,s,l){var d=l||"";try{Xu(a,function(g,y){var b=g;Be(g)&&(b=Bn(g)),s.push(d+y+"="+encodeURIComponent(b))})}catch(g){throw s.push(d+"type="+encodeURIComponent("_badmap")),g}}function ri(a,s,l,d,g){try{s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null,g(d)}catch(y){}}function _r(a){this.l=a.$b||null,this.j=a.ib||!1}function fs(a,s){Ht.call(this),this.D=a,this.u=s,this.m=void 0,this.readyState=Uo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vo.prototype.cancel=function(){var a,s;if(this.i=mp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var l=Tr(this.g.values()),d=l.next();!d.done;d=l.next())d.value.cancel()}catch(y){a={error:y}}finally{try{d&&!d.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}this.g.clear()}},Hn.prototype.stringify=function(a){return be.JSON.stringify(a,void 0)},Hn.prototype.parse=function(a){return be.JSON.parse(a,void 0)},pt(_r,bd),_r.prototype.g=function(){return new fs(this.l,this.j)},_r.prototype.i=function(a){return function(){return a}}({}),pt(fs,Ht);var Uo=0;function Ui(a){a.j.read().then(a.Sa.bind(a)).catch(a.ha.bind(a))}function Vs(a){a.readyState=4,a.l=null,a.j=null,a.A=null,br(a)}function br(a){a.onreadystatechange&&a.onreadystatechange.call(a)}(ce=fs.prototype).open=function(a,s){if(this.readyState!=Uo)throw this.abort(),Error("Error reopening a connection");this.C=a,this.B=s,this.readyState=1,br(this)},ce.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var s={headers:this.v,method:this.C,credentials:this.m,cache:void 0};a&&(s.body=a),(this.D||be).fetch(new Request(this.B,s)).then(this.Va.bind(this),this.ha.bind(this))},ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vs(this)),this.readyState=Uo},ce.Va=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,br(this)),this.g&&(this.readyState=3,br(this),this.g)))if("arraybuffer"===this.responseType)a.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==be.ReadableStream&&"body"in a){if(this.j=a.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ui(this)}else a.text().then(this.Ua.bind(this),this.ha.bind(this))},ce.Sa=function(a){if(this.g){if(this.u&&a.value)this.response.push(a.value);else if(!this.u){var s=a.value?a.value:new Uint8Array(0);(s=this.A.decode(s,{stream:!a.done}))&&(this.response=this.responseText+=s)}a.done?Vs(this):br(this),3==this.readyState&&Ui(this)}},ce.Ua=function(a){this.g&&(this.response=this.responseText=a,Vs(this))},ce.Ta=function(a){this.g&&(this.response=a,Vs(this))},ce.ha=function(){this.g&&Vs(this)},ce.setRequestHeader=function(a,s){this.v.append(a,s)},ce.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},ce.getAllResponseHeaders=function(){if(!this.h)return"";for(var a=[],s=this.h.entries(),l=s.next();!l.done;)a.push((l=l.value)[0]+": "+l[1]),l=s.next();return a.join("\r\n")},Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(a){this.m=a?"include":"same-origin"}});var Uc=be.JSON.parse;function Qn(a){Ht.call(this),this.headers=new k,this.u=a||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ps,this.K=this.L=!1}pt(Qn,Ht);var ps="",ii=/^https?$/i,Hc=["POST","PUT"];function Ve(a){return"content-type"==a.toLowerCase()}function Nt(a,s){a.h=!1,a.g&&(a.l=!0,a.g.abort(),a.l=!1),a.j=s,a.m=5,_n(a),Si(a)}function _n(a){a.D||(a.D=!0,kt(a,"complete"),kt(a,"error"))}function Di(a){if(a.h&&void 0!==$&&(!a.C[1]||4!=Hi(a)||2!=a.ba()))if(a.v&&4==Hi(a))ql(a.Fa,0,a);else if(kt(a,"readystatechange"),4==Hi(a)){a.h=!1;try{var d,s=a.ba();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}if(!(d=l)){var g;if(g=0===s){var y=String(a.H).match(H)[1]||null;if(!y&&be.self&&be.self.location){var b=be.self.location.protocol;y=b.substr(0,b.length-1)}g=!ii.test(y?y.toLowerCase():"")}d=g}if(d)kt(a,"complete"),kt(a,"success");else{a.m=6;try{var C=2<Hi(a)?a.g.statusText:""}catch(T){C=""}a.j=C+" ["+a.ba()+"]",_n(a)}}finally{Si(a)}}}function Si(a,s){if(a.g){kr(a);var l=a.g,d=a.C[0]?Re:null;a.g=null,a.C=null,s||kt(a,"ready");try{l.onreadystatechange=d}catch(g){}}}function kr(a){a.g&&a.K&&(a.g.ontimeout=null),a.A&&(be.clearTimeout(a.A),a.A=null)}function Hi(a){return a.g?a.g.readyState:0}function En(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.J){case ps:case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch(s){return null}}function Ho(a,s,l){e:{for(d in l){var d=!1;break e}d=!0}d||(l=function la(a){var s="";return Ue(a,function(l,d){s+=d,s+=":",s+=l,s+="\r\n"}),s}(l),"string"==typeof a?null!=l&&encodeURIComponent(String(l)):ht(a,s,l))}function _t(a,s,l){return l&&l.internalChannelParams&&l.internalChannelParams[a]||s}function Xn(a){this.za=0,this.l=[],this.h=new Rr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=_t("failFast",!1,a),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=_t("baseRetryDelayMs",5e3,a),this.$a=_t("retryDelaySeedMs",1e4,a),this.Ya=_t("forwardChannelMaxRetries",2,a),this.ra=_t("forwardChannelRequestTimeoutMs",2e4,a),this.qa=a&&a.xmlHttpFactory||void 0,this.Ba=a&&a.Yb||!1,this.K=void 0,this.H=a&&a.supportsCrossDomainXhr||!1,this.J="",this.i=new Vo(a&&a.concurrentRequestLimit),this.Ca=new bo,this.ja=a&&a.fastHandshake||!1,this.Ra=a&&a.Wb||!1,a&&a.Aa&&this.h.Aa(),a&&a.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&a&&a.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!a||!1!==a.Xb}function Ur(a){if(Us(a),3==a.G){var s=a.V++,l=_e(a.F);ht(l,"SID",a.J),ht(l,"RID",s),ht(l,"TYPE","terminate"),bn(a,l),(s=new eu(a,a.h,s,void 0)).K=2,s.v=sr(_e(l)),l=!1,be.navigator&&be.navigator.sendBeacon&&(l=be.navigator.sendBeacon(s.v.toString(),"")),!l&&be.Image&&((new Image).src=s.v,l=!0),l||(s.g=tm(s.l,null),s.g.ea(s.v)),s.F=Date.now(),ds(s)}em(a)}function Hr(a){a.g&&(qr(a),a.g.cancel(),a.g=null)}function Us(a){Hr(a),a.u&&(be.clearTimeout(a.u),a.u=null),nu(a),a.i.cancel(),a.m&&("number"==typeof a.m&&be.clearTimeout(a.m),a.m=null)}function Or(a,s){a.l.push(new Zl(a.Za++,s)),3==a.G&&qo(a)}function qo(a){Cd(a.i)||a.m||(a.m=!0,zu(a.Ha,a),a.C=0)}function Eo(a,s){var l;l=s?s.m:a.V++;var d=_e(a.F);ht(d,"SID",a.J),ht(d,"RID",l),ht(d,"AID",a.U),bn(a,d),a.o&&a.s&&Ho(d,a.o,a.s),l=new eu(a,a.h,l,a.C+1),null===a.o&&(l.H=a.s),s&&(a.l=s.D.concat(a.l)),s=Zg(a,l,1e3),l.setTimeout(Math.round(.5*a.ra)+Math.round(.5*a.ra*Math.random())),Vi(a.i,l),Qu(l,d,s)}function bn(a,s){a.j&&Xu({},function(l,d){ht(s,d,l)})}function Zg(a,s,l){l=Math.min(a.l.length,l);var d=a.j?Vt(a.j.Oa,a.j,a):null;e:for(var g=a.l,y=-1;;){var b=["count="+l];-1==y?0<l?b.push("ofs="+(y=g[0].h)):y=0:b.push("ofs="+y);for(var C=!0,T=0;T<l;T++){var x=g[T].h,N=g[T].g;if(0>(x-=y))y=Math.max(0,g[T].h-100),C=!1;else try{vp(N,b,"req"+x+"_")}catch(V){d&&d(N)}}if(C){d=b.join("&");break e}}return a=a.l.splice(0,l),s.D=a,d}function Jg(a){a.g||a.u||(a.Y=1,zu(a.Ga,a),a.A=0)}function zo(a){return!(a.g||a.u||3<=a.A||(a.Y++,a.u=ct(Vt(a.Ga,a),so(a,a.A)),a.A++,0))}function qr(a){null!=a.B&&(be.clearTimeout(a.B),a.B=null)}function gs(a){a.g=new eu(a,a.h,"rpc",a.Y),null===a.o&&(a.g.H=a.s),a.g.O=0;var s=_e(a.oa);ht(s,"RID","rpc"),ht(s,"SID",a.J),ht(s,"CI",a.N?"0":"1"),ht(s,"AID",a.U),bn(a,s),ht(s,"TYPE","xmlhttp"),a.o&&a.s&&Ho(s,a.o,a.s),a.K&&a.g.setTimeout(a.K);var l=a.g;a=a.la,l.K=1,l.v=sr(_e(s)),l.s=null,l.U=!0,Ql(l,a)}function nu(a){null!=a.v&&(be.clearTimeout(a.v),a.v=null)}function oo(a,s){var l=null;if(a.g==s){nu(a),qr(a),a.g=null;var d=2}else{if(!Jl(a.i,s))return;l=s.D,Dd(a.i,s),d=1}if(a.I=s.N,0!=a.G)if(s.i)if(1==d){l=s.s?s.s.length:0,s=Date.now()-s.F;var g=a.C;kt(d=ls(),new Wu(d,l,s,g)),qo(a)}else Jg(a);else if(3==(g=s.o)||0==g&&0<a.I||!(1==d&&function qc(a,s){return!(ar(a.i)>=a.i.j-(a.m?1:0)||(a.m?(a.l=s.D.concat(a.l),0):1==a.G||2==a.G||a.C>=(a.Xa?0:a.Ya)||(a.m=ct(Vt(a.Ha,a,s),so(a,a.C)),a.C++,0)))}(a,s)||2==d&&zo(a)))switch(l&&0<l.length&&(s=a.i,s.i=s.i.concat(l)),g){case 1:ru(a,5);break;case 4:ru(a,10);break;case 3:ru(a,6);break;default:ru(a,2)}}function so(a,s){var l=a.Pa+Math.floor(Math.random()*a.$a);return a.j||(l*=2),l*s}function ru(a,s){if(a.h.info("Error code "+s),2==s){var l=null;a.j&&(l=null);var d=Vt(a.jb,a);l||(l=new ne("//www.google.com/images/cleardot.gif"),be.location&&"http"==be.location.protocol||de(l,"https"),sr(l)),function qn(a,s){var l=new Rr;if(be.Image){var d=new Image;d.onload=ti(ri,l,d,"TestLoadImage: loaded",!0,s),d.onerror=ti(ri,l,d,"TestLoadImage: error",!1,s),d.onabort=ti(ri,l,d,"TestLoadImage: abort",!1,s),d.ontimeout=ti(ri,l,d,"TestLoadImage: timeout",!1,s),be.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=a}else s(!1)}(l.toString(),d)}else yt(2);a.G=0,a.j&&a.j.va(s),em(a),Us(a)}function em(a){a.G=0,a.I=-1,a.j&&((0!=mp(a.i).length||0!=a.l.length)&&(a.i.i.length=0,he(a.l),a.l.length=0),a.j.ua())}function ec(a,s,l){var d=function Vn(a){return a instanceof ne?_e(a):new ne(a,void 0)}(l);if(""!=d.i)s&&xe(d,s+"."+d.i),Xe(d,d.m);else{var g=be.location;d=function At(a,s,l,d){var g=new ne(null,void 0);return a&&de(g,a),s&&xe(g,s),l&&Xe(g,l),d&&(g.l=d),g}(g.protocol,s?s+"."+g.hostname:g.hostname,+g.port,l)}return a.aa&&Ue(a.aa,function(y,b){ht(d,b,y)}),l=a.sa,(s=a.D)&&l&&ht(d,s,l),ht(d,"VER",a.ma),bn(a,d),d}function tm(a,s,l){if(s&&!a.H)throw Error("Can't create secondary domain capable XhrIo object.");return(s=new Qn(l&&a.Ba&&!a.qa?new _r({ib:!0}):a.qa)).L=a.H,s}function nm(){}function yp(){if(Fo&&!(10<=Number(vo)))throw Error("Environmental error: no available transport.")}function ao(a,s){Ht.call(this),this.g=new Xn(s),this.l=a,this.h=s&&s.messageUrlParams||null,a=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.s=a,a=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(a?a["X-WebChannel-Content-Type"]=s.messageContentType:a={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.ya&&(a?a["X-WebChannel-Client-Profile"]=s.ya:a={"X-WebChannel-Client-Profile":s.ya}),this.g.P=a,(a=s&&s.httpHeadersOverwriteParam)&&!Oe(a)&&(this.g.o=a),this.A=s&&s.supportsCrossDomainXhr||!1,this.v=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!Oe(s)&&(this.g.D=s,null!==(a=this.h)&&s in a&&s in(a=this.h)&&delete a[s]),this.j=new zc(this)}function rm(a){wd.call(this);var s=a.__sm__;if(s){e:{for(var l in s){a=l;break e}a=void 0}(this.i=a)&&(a=this.i,s=null!==s&&a in s?s[a]:void 0),this.data=s}else this.data=a}function qv(){Ja.call(this),this.status=1}function zc(a){this.g=a}(ce=Qn.prototype).ea=function(a,s,l,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+a);s=s?s.toUpperCase():"GET",this.H=a,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ku.g(),this.C=function Xa(a){return a.h||(a.h=a.i())}(this.u?this.u:Ku),this.g.onreadystatechange=Vt(this.Fa,this);try{this.F=!0,this.g.open(s,String(a),!0),this.F=!1}catch(y){return void Nt(this,y)}a=l||"";var g=new k(this.headers);d&&Xu(d,function(y,b){g.set(b,y)}),d=function ye(a){e:{for(var s=Ve,l=a.length,d="string"==typeof a?a.split(""):a,g=0;g<l;g++)if(g in d&&s.call(void 0,d[g],g,a)){s=g;break e}s=-1}return 0>s?null:"string"==typeof a?a.charAt(s):a[s]}(g.T()),l=be.FormData&&a instanceof be.FormData,!(0<=Ci(Hc,s))||d||l||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(y,b){this.g.setRequestHeader(b,y)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{kr(this),0<this.B&&((this.K=function wo(a){return Fo&&function jr(){return function Fi(a){var s=Kn;return Object.prototype.hasOwnProperty.call(s,9)?s[9]:s[9]=a(9)}(function(){for(var a=0,s=ke(String(Wt)).split("."),l=ke("9").split("."),d=Math.max(s.length,l.length),g=0;0==a&&g<d;g++){var y=s[g]||"",b=l[g]||"";do{if(y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],0==y[0].length&&0==b[0].length)break;a=Lt(0==y[1].length?0:parseInt(y[1],10),0==b[1].length?0:parseInt(b[1],10))||Lt(0==y[2].length,0==b[2].length)||Lt(y[2],b[2]),y=y[3],b=b[3]}while(0==a)}return 0<=a})}()&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vt(this.pa,this)):this.A=ql(this.pa,this.B,this)),this.v=!0,this.g.send(a),this.v=!1}catch(y){Nt(this,y)}},ce.pa=function(){void 0!==$&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kt(this,"timeout"),this.abort(8))},ce.abort=function(a){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=a||7,kt(this,"complete"),kt(this,"abort"),Si(this))},ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Si(this,!0)),Qn.Z.M.call(this)},ce.Fa=function(){this.s||(this.F||this.v||this.l?Di(this):this.cb())},ce.cb=function(){Di(this)},ce.ba=function(){try{return 2<Hi(this)?this.g.status:-1}catch(a){return-1}},ce.ga=function(){try{return this.g?this.g.responseText:""}catch(a){return""}},ce.Qa=function(a){if(this.g){var s=this.g.responseText;return a&&0==s.indexOf(a)&&(s=s.substring(a.length)),Uc(s)}},ce.Da=function(){return this.m},ce.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ce=Xn.prototype).ma=8,ce.G=1,ce.hb=function(a){try{this.h.info("Origin Trials invoked: "+a)}catch(s){}},ce.Ha=function(a){if(this.m)if(this.m=null,1==this.G){if(!a){this.V=Math.floor(1e5*Math.random()),a=this.V++;var s=new eu(this,this.h,a,void 0),l=this.s;if(this.P&&(l?vn(l=Ee(l),this.P):l=this.P),null===this.o&&(s.H=l),this.ja)e:{for(var d=0,g=0;g<this.l.length;g++){var y=this.l[g];if(void 0===(y="__data__"in y.g&&"string"==typeof(y=y.g.__data__)?y.length:void 0))break;if(4096<(d+=y)){d=g;break e}if(4096===d||g===this.l.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Zg(this,s,d),ht(g=_e(this.F),"RID",a),ht(g,"CVER",22),this.D&&ht(g,"X-HTTP-Session-Id",this.D),bn(this,g),this.o&&l&&Ho(g,this.o,l),Vi(this.i,s),this.Ra&&ht(g,"TYPE","init"),this.ja?(ht(g,"$req",d),ht(g,"SID","null"),s.$=!0,Qu(s,g,null)):Qu(s,g,d),this.G=2}}else 3==this.G&&(a?Eo(this,a):0==this.l.length||Cd(this.i)||Eo(this))},ce.Ga=function(){if(this.u=null,gs(this),this.$&&!(this.L||null==this.g||0>=this.O)){var a=2*this.O;this.h.info("BP detection timer enabled: "+a),this.B=ct(Vt(this.bb,this),a)}},ce.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,yt(10),Hr(this),gs(this))},ce.ab=function(){null!=this.v&&(this.v=null,Hr(this),zo(this),yt(19))},ce.jb=function(a){a?(this.h.info("Successfully pinged google.com"),yt(2)):(this.h.info("Failed to ping google.com"),yt(1))},(ce=nm.prototype).xa=function(){},ce.wa=function(){},ce.va=function(){},ce.ua=function(){},ce.Oa=function(){},yp.prototype.g=function(a,s){return new ao(a,s)},pt(ao,Ht),ao.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var a=this.g,s=this.l,l=this.h||void 0;a.Wa&&(a.h.info("Origin Trials enabled."),zu(Vt(a.hb,a,s))),yt(0),a.W=s,a.aa=l||{},a.N=a.X,a.F=ec(a,null,a.W),qo(a)},ao.prototype.close=function(){Ur(this.g)},ao.prototype.u=function(a){if("string"==typeof a){var s={};s.__data__=a,Or(this.g,s)}else this.v?((s={}).__data__=Bn(a),Or(this.g,s)):Or(this.g,a)},ao.prototype.M=function(){this.g.j=null,delete this.j,Ur(this.g),delete this.g,ao.Z.M.call(this)},pt(rm,wd),pt(qv,Ja),pt(zc,nm),zc.prototype.xa=function(){kt(this.g,"a")},zc.prototype.wa=function(a){kt(this.g,new rm(a))},zc.prototype.va=function(a){kt(this.g,new qv(a))},zc.prototype.ua=function(){kt(this.g,"b")},yp.prototype.createWebChannel=yp.prototype.g,ao.prototype.send=ao.prototype.u,ao.prototype.open=ao.prototype.m,ao.prototype.close=ao.prototype.close,hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,_o.COMPLETE="complete",Za.EventType=gr,gr.OPEN="a",gr.CLOSE="b",gr.ERROR="c",gr.MESSAGE="d",Ht.prototype.listen=Ht.prototype.N,Qn.prototype.listenOnce=Qn.prototype.O,Qn.prototype.getLastError=Qn.prototype.La,Qn.prototype.getLastErrorCode=Qn.prototype.Da,Qn.prototype.getStatus=Qn.prototype.ba,Qn.prototype.getResponseJson=Qn.prototype.Qa,Qn.prototype.getResponseText=Qn.prototype.ga,Qn.prototype.send=Qn.prototype.ea;var Sd=hr,im=_o,zv=ro,bp_PROXY=10,bp_NOPROXY=11,tc=_r,th=Za,wp=Qn,qi=function(){function a(s,l){var d=this;this.previousValue=s,l&&(l.sequenceNumberHandler=function(g){return d.t(g)},this.i=function(g){return l.writeSequenceNumber(g)})}return a.prototype.t=function(s){return this.previousValue=Math.max(s,this.previousValue),this.previousValue},a.prototype.next=function(){var s=++this.previousValue;return this.i&&this.i(s),s},a}();qi.o=-1;var se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},me=function(a){function s(l,d){var g=this;return(g=a.call(this,d)||this).code=l,g.message=d,g.name="FirebaseError",g.toString=function(){return g.name+": [code="+g.code+"]: "+g.message},g}return(0,I.ZT)(s,a),s}(Error),Co=new it.Yd("@firebase/firestore");function zr(){return Co.logLevel}function Ce(a){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];if(Co.logLevel<=it.in.DEBUG){var d=s.map($c);Co.debug.apply(Co,(0,I.ev)(["Firestore (8.10.1): "+a],d))}}function wr(a){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];if(Co.logLevel<=it.in.ERROR){var d=s.map($c);Co.error.apply(Co,(0,I.ev)(["Firestore (8.10.1): "+a],d))}}function nh(a){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];if(Co.logLevel<=it.in.WARN){var d=s.map($c);Co.warn.apply(Co,(0,I.ev)(["Firestore (8.10.1): "+a],d))}}function $c(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch(l){return a}}function Ze(a){void 0===a&&(a="Unexpected state");var s="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+a;throw wr(s),new Error(s)}function at(a,s){a||Ze()}function je(a,s){return a}function Gc(a){var s="undefined"!=typeof self&&(self.crypto||self.msCrypto),l=new Uint8Array(a);if(s&&"function"==typeof s.getRandomValues)s.getRandomValues(l);else for(var d=0;d<a;d++)l[d]=Math.floor(256*Math.random());return l}var Cn=function(){function a(){}return a.u=function(){for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=Math.floor(256/s.length)*s.length,d="";d.length<20;)for(var g=Gc(40),y=0;y<g.length;++y)d.length<20&&g[y]<l&&(d+=s.charAt(g[y]%s.length));return d},a}();function Je(a,s){return a<s?-1:a>s?1:0}function ha(a,s,l){return a.length===s.length&&a.every(function(d,g){return l(d,s[g])})}function Hs(a){return a+"\0"}var pi=function(){function a(s,l){if(this.seconds=s,this.nanoseconds=l,l<0)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(l>=1e9)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(s<-62135596800)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+s);if(s>=253402300800)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+s)}return a.now=function(){return a.fromMillis(Date.now())},a.fromDate=function(s){return a.fromMillis(s.getTime())},a.fromMillis=function(s){var l=Math.floor(s/1e3);return new a(l,Math.floor(1e6*(s-1e3*l)))},a.prototype.toDate=function(){return new Date(this.toMillis())},a.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},a.prototype._compareTo=function(s){return this.seconds===s.seconds?Je(this.nanoseconds,s.nanoseconds):Je(this.seconds,s.seconds)},a.prototype.isEqual=function(s){return s.seconds===this.seconds&&s.nanoseconds===this.nanoseconds},a.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},a.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},a.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},a}(),Et=function(){function a(s){this.timestamp=s}return a.fromTimestamp=function(s){return new a(s)},a.min=function(){return new a(new pi(0,0))},a.prototype.compareTo=function(s){return this.timestamp._compareTo(s.timestamp)},a.prototype.isEqual=function(s){return this.timestamp.isEqual(s.timestamp)},a.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},a.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},a.prototype.toTimestamp=function(){return this.timestamp},a}();function rh(a){var s=0;for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&s++;return s}function dn(a,s){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&s(l,a[l])}function Id(a){for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s))return!1;return!0}var nc=function(){function a(s,l,d){void 0===l?l=0:l>s.length&&Ze(),void 0===d?d=s.length-l:d>s.length-l&&Ze(),this.segments=s,this.offset=l,this.len=d}return Object.defineProperty(a.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(s){return 0===a.comparator(this,s)},a.prototype.child=function(s){var l=this.segments.slice(this.offset,this.limit());return s instanceof a?s.forEach(function(d){l.push(d)}):l.push(s),this.construct(l)},a.prototype.limit=function(){return this.offset+this.length},a.prototype.popFirst=function(s){return this.construct(this.segments,this.offset+(s=void 0===s?1:s),this.length-s)},a.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},a.prototype.firstSegment=function(){return this.segments[this.offset]},a.prototype.lastSegment=function(){return this.get(this.length-1)},a.prototype.get=function(s){return this.segments[this.offset+s]},a.prototype.isEmpty=function(){return 0===this.length},a.prototype.isPrefixOf=function(s){if(s.length<this.length)return!1;for(var l=0;l<this.length;l++)if(this.get(l)!==s.get(l))return!1;return!0},a.prototype.isImmediateParentOf=function(s){if(this.length+1!==s.length)return!1;for(var l=0;l<this.length;l++)if(this.get(l)!==s.get(l))return!1;return!0},a.prototype.forEach=function(s){for(var l=this.offset,d=this.limit();l<d;l++)s(this.segments[l])},a.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},a.comparator=function(s,l){for(var d=Math.min(s.length,l.length),g=0;g<d;g++){var y=s.get(g),b=l.get(g);if(y<b)return-1;if(y>b)return 1}return s.length<l.length?-1:s.length>l.length?1:0},a}(),rt=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s.prototype.construct=function(l,d,g){return new s(l,d,g)},s.prototype.canonicalString=function(){return this.toArray().join("/")},s.prototype.toString=function(){return this.canonicalString()},s.fromString=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];for(var g=[],y=0,b=l;y<b.length;y++){var C=b[y];if(C.indexOf("//")>=0)throw new me(se.INVALID_ARGUMENT,"Invalid segment ("+C+"). Paths must not contain // in them.");g.push.apply(g,C.split("/").filter(function(T){return T.length>0}))}return new s(g)},s.emptyPath=function(){return new s([])},s}(nc),sm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ms=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s.prototype.construct=function(l,d,g){return new s(l,d,g)},s.isValidIdentifier=function(l){return sm.test(l)},s.prototype.canonicalString=function(){return this.toArray().map(function(l){return l=l.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),s.isValidIdentifier(l)||(l="`"+l+"`"),l}).join(".")},s.prototype.toString=function(){return this.canonicalString()},s.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},s.keyField=function(){return new s(["__name__"])},s.fromServerFormat=function(l){for(var d=[],g="",y=0,b=function(){if(0===g.length)throw new me(se.INVALID_ARGUMENT,"Invalid field path ("+l+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");d.push(g),g=""},C=!1;y<l.length;){var T=l[y];if("\\"===T){if(y+1===l.length)throw new me(se.INVALID_ARGUMENT,"Path has trailing escape character: "+l);var x=l[y+1];if("\\"!==x&&"."!==x&&"`"!==x)throw new me(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+l);g+=x,y+=2}else"`"===T?(C=!C,y++):"."!==T||C?(g+=T,y++):(b(),y++)}if(b(),C)throw new me(se.INVALID_ARGUMENT,"Unterminated ` in path: "+l);return new s(d)},s.emptyPath=function(){return new s([])},s}(nc),Ii=function(){function a(s){this.fields=s,s.sort(ms.comparator)}return a.prototype.covers=function(s){for(var l=0,d=this.fields;l<d.length;l++)if(d[l].isPrefixOf(s))return!0;return!1},a.prototype.isEqual=function(s){return ha(this.fields,s.fields,function(l,d){return l.isEqual(d)})},a}(),Mn=function(){function a(s){this.binaryString=s}return a.fromBase64String=function(s){return new a(atob(s))},a.fromUint8Array=function(s){return new a(function(l){for(var d="",g=0;g<l.length;++g)d+=String.fromCharCode(l[g]);return d}(s))},a.prototype.toBase64=function(){return btoa(this.binaryString)},a.prototype.toUint8Array=function(){return function(s){for(var l=new Uint8Array(s.length),d=0;d<s.length;d++)l[d]=s.charCodeAt(d);return l}(this.binaryString)},a.prototype.approximateByteSize=function(){return 2*this.binaryString.length},a.prototype.compareTo=function(s){return Je(this.binaryString,s.binaryString)},a.prototype.isEqual=function(s){return this.binaryString===s.binaryString},a}();Mn.EMPTY_BYTE_STRING=new Mn("");var $v=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uo(a){if(at(!!a),"string"==typeof a){var s=0,l=$v.exec(a);if(at(!!l),l[1]){var d=l[1];d=(d+"000000000").substr(0,9),s=Number(d)}var g=new Date(a);return{seconds:Math.floor(g.getTime()/1e3),nanos:s}}return{seconds:zn(a.seconds),nanos:zn(a.nanos)}}function zn(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function oi(a){return"string"==typeof a?Mn.fromBase64String(a):Mn.fromUint8Array(a)}function Td(a){var s,l;return"server_timestamp"===(null===(l=((null===(s=null==a?void 0:a.mapValue)||void 0===s?void 0:s.fields)||{}).__type__)||void 0===l?void 0:l.stringValue)}function ih(a){var s=a.mapValue.fields.__previous_value__;return Td(s)?ih(s):s}function rc(a){var s=uo(a.mapValue.fields.__local_write_time__.timestampValue);return new pi(s.seconds,s.nanos)}function Ti(a){return null==a}function ic(a){return 0===a&&1/a==-1/0}function $e(a){return"number"==typeof a&&Number.isInteger(a)&&!ic(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}var fe=function(){function a(s){this.path=s}return a.fromPath=function(s){return new a(rt.fromString(s))},a.fromName=function(s){return new a(rt.fromString(s).popFirst(5))},a.prototype.hasCollectionId=function(s){return this.path.length>=2&&this.path.get(this.path.length-2)===s},a.prototype.isEqual=function(s){return null!==s&&0===rt.comparator(this.path,s.path)},a.prototype.toString=function(){return this.path.toString()},a.comparator=function(s,l){return rt.comparator(s.path,l.path)},a.isDocumentKey=function(s){return s.length%2==0},a.fromSegments=function(s){return new a(new rt(s.slice()))},a}();function zi(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Td(a)?4:10:Ze()}function qs(a,s){var g,l=zi(a);if(l!==zi(s))return!1;switch(l){case 0:return!0;case 1:return a.booleanValue===s.booleanValue;case 4:return rc(a).isEqual(rc(s));case 3:return function(d,g){if("string"==typeof d.timestampValue&&"string"==typeof g.timestampValue&&d.timestampValue.length===g.timestampValue.length)return d.timestampValue===g.timestampValue;var y=uo(d.timestampValue),b=uo(g.timestampValue);return y.seconds===b.seconds&&y.nanos===b.nanos}(a,s);case 5:return a.stringValue===s.stringValue;case 6:return g=s,oi(a.bytesValue).isEqual(oi(g.bytesValue));case 7:return a.referenceValue===s.referenceValue;case 8:return function(d,g){return zn(d.geoPointValue.latitude)===zn(g.geoPointValue.latitude)&&zn(d.geoPointValue.longitude)===zn(g.geoPointValue.longitude)}(a,s);case 2:return function(d,g){if("integerValue"in d&&"integerValue"in g)return zn(d.integerValue)===zn(g.integerValue);if("doubleValue"in d&&"doubleValue"in g){var y=zn(d.doubleValue),b=zn(g.doubleValue);return y===b?ic(y)===ic(b):isNaN(y)&&isNaN(b)}return!1}(a,s);case 9:return ha(a.arrayValue.values||[],s.arrayValue.values||[],qs);case 10:return function(d,g){var y=d.mapValue.fields||{},b=g.mapValue.fields||{};if(rh(y)!==rh(b))return!1;for(var C in y)if(y.hasOwnProperty(C)&&(void 0===b[C]||!qs(y[C],b[C])))return!1;return!0}(a,s);default:return Ze()}}function oh(a,s){return void 0!==(a.values||[]).find(function(l){return qs(l,s)})}function iu(a,s){var g,y,b,C,l=zi(a),d=zi(s);if(l!==d)return Je(l,d);switch(l){case 0:return 0;case 1:return Je(a.booleanValue,s.booleanValue);case 2:return y=s,(b=zn((g=a).integerValue||g.doubleValue))<(C=zn(y.integerValue||y.doubleValue))?-1:b>C?1:b===C?0:isNaN(b)?isNaN(C)?0:-1:1;case 3:return sh(a.timestampValue,s.timestampValue);case 4:return sh(rc(a),rc(s));case 5:return Je(a.stringValue,s.stringValue);case 6:return function(g,y){var b=oi(g),C=oi(y);return b.compareTo(C)}(a.bytesValue,s.bytesValue);case 7:return function(g,y){for(var b=g.split("/"),C=y.split("/"),T=0;T<b.length&&T<C.length;T++){var x=Je(b[T],C[T]);if(0!==x)return x}return Je(b.length,C.length)}(a.referenceValue,s.referenceValue);case 8:return function(g,y){var b=Je(zn(g.latitude),zn(y.latitude));return 0!==b?b:Je(zn(g.longitude),zn(y.longitude))}(a.geoPointValue,s.geoPointValue);case 9:return function(g,y){for(var b=g.values||[],C=y.values||[],T=0;T<b.length&&T<C.length;++T){var x=iu(b[T],C[T]);if(x)return x}return Je(b.length,C.length)}(a.arrayValue,s.arrayValue);case 10:return function(g,y){var b=g.fields||{},C=Object.keys(b),T=y.fields||{},x=Object.keys(T);C.sort(),x.sort();for(var N=0;N<C.length&&N<x.length;++N){var V=Je(C[N],x[N]);if(0!==V)return V;var q=iu(b[C[N]],T[x[N]]);if(0!==q)return q}return Je(C.length,x.length)}(a.mapValue,s.mapValue);default:throw Ze()}}function sh(a,s){if("string"==typeof a&&"string"==typeof s&&a.length===s.length)return Je(a,s);var l=uo(a),d=uo(s),g=Je(l.seconds,d.seconds);return 0!==g?g:Je(l.nanos,d.nanos)}function ah(a){return Ad(a)}function Ad(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?"time("+(g=uo(a.timestampValue)).seconds+","+g.nanos+")":"stringValue"in a?a.stringValue:"bytesValue"in a?oi(a.bytesValue).toBase64():"referenceValue"in a?fe.fromName(a.referenceValue).toString():"geoPointValue"in a?"geo("+(s=a.geoPointValue).latitude+","+s.longitude+")":"arrayValue"in a?function(d){for(var g="[",y=!0,b=0,C=d.values||[];b<C.length;b++)y?y=!1:g+=",",g+=Ad(C[b]);return g+"]"}(a.arrayValue):"mapValue"in a?function(d){for(var g="{",y=!0,b=0,C=Object.keys(d.fields||{}).sort();b<C.length;b++){var T=C[b];y?y=!1:g+=",",g+=T+":"+Ad(d.fields[T])}return g+"}"}(a.mapValue):Ze();var g,s}function ve(a,s){return{referenceValue:"projects/"+a.projectId+"/databases/"+a.database+"/documents/"+s.path.canonicalString()}}function jt(a){return!!a&&"integerValue"in a}function Ai(a){return!!a&&"arrayValue"in a}function tr(a){return!!a&&"nullValue"in a}function Ep(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function zs(a){return!!a&&"mapValue"in a}function gi(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){var s={mapValue:{fields:{}}};return dn(a.mapValue.fields,function(g,y){return s.mapValue.fields[g]=gi(y)}),s}if(a.arrayValue){for(var l={arrayValue:{values:[]}},d=0;d<(a.arrayValue.values||[]).length;++d)l.arrayValue.values[d]=gi(a.arrayValue.values[d]);return l}return Object.assign({},a)}var $r=function(){function a(s){this.value=s}return a.empty=function(){return new a({mapValue:{}})},a.prototype.field=function(s){if(s.isEmpty())return this.value;for(var l=this.value,d=0;d<s.length-1;++d)if(!zs(l=(l.mapValue.fields||{})[s.get(d)]))return null;return(l=(l.mapValue.fields||{})[s.lastSegment()])||null},a.prototype.set=function(s,l){this.getFieldsMap(s.popLast())[s.lastSegment()]=gi(l)},a.prototype.setAll=function(s){var l=this,d=ms.emptyPath(),g={},y=[];s.forEach(function(C,T){if(!d.isImmediateParentOf(T)){var x=l.getFieldsMap(d);l.applyChanges(x,g,y),g={},y=[],d=T.popLast()}C?g[T.lastSegment()]=gi(C):y.push(T.lastSegment())});var b=this.getFieldsMap(d);this.applyChanges(b,g,y)},a.prototype.delete=function(s){var l=this.field(s.popLast());zs(l)&&l.mapValue.fields&&delete l.mapValue.fields[s.lastSegment()]},a.prototype.isEqual=function(s){return qs(this.value,s.value)},a.prototype.getFieldsMap=function(s){var l=this.value;l.mapValue.fields||(l.mapValue={fields:{}});for(var d=0;d<s.length;++d){var g=l.mapValue.fields[s.get(d)];zs(g)&&g.mapValue.fields||(g={mapValue:{fields:{}}},l.mapValue.fields[s.get(d)]=g),l=g}return l.mapValue.fields},a.prototype.applyChanges=function(s,l,d){dn(l,function(C,T){return s[C]=T});for(var g=0,y=d;g<y.length;g++)delete s[y[g]]},a.prototype.clone=function(){return new a(gi(this.value))},a}();function Md(a){var s=[];return dn(a.fields,function(l,d){var g=new ms([l]);if(zs(d)){var y=Md(d.mapValue).fields;if(0===y.length)s.push(g);else for(var b=0,C=y;b<C.length;b++)s.push(g.child(C[b]))}else s.push(g)}),new Ii(s)}var Mi=function(){function a(s,l,d,g,y){this.key=s,this.documentType=l,this.version=d,this.data=g,this.documentState=y}return a.newInvalidDocument=function(s){return new a(s,0,Et.min(),$r.empty(),0)},a.newFoundDocument=function(s,l,d){return new a(s,1,l,d,0)},a.newNoDocument=function(s,l){return new a(s,2,l,$r.empty(),0)},a.newUnknownDocument=function(s,l){return new a(s,3,l,$r.empty(),2)},a.prototype.convertToFoundDocument=function(s,l){return this.version=s,this.documentType=1,this.data=l,this.documentState=0,this},a.prototype.convertToNoDocument=function(s){return this.version=s,this.documentType=2,this.data=$r.empty(),this.documentState=0,this},a.prototype.convertToUnknownDocument=function(s){return this.version=s,this.documentType=3,this.data=$r.empty(),this.documentState=2,this},a.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},a.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(a.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),a.prototype.isValidDocument=function(){return 0!==this.documentType},a.prototype.isFoundDocument=function(){return 1===this.documentType},a.prototype.isNoDocument=function(){return 2===this.documentType},a.prototype.isUnknownDocument=function(){return 3===this.documentType},a.prototype.isEqual=function(s){return s instanceof a&&this.key.isEqual(s.key)&&this.version.isEqual(s.version)&&this.documentType===s.documentType&&this.documentState===s.documentState&&this.data.isEqual(s.data)},a.prototype.clone=function(){return new a(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},a.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},a}(),Gv=function(a,s,l,d,g,y,b){void 0===s&&(s=null),void 0===l&&(l=[]),void 0===d&&(d=[]),void 0===g&&(g=null),void 0===y&&(y=null),void 0===b&&(b=null),this.path=a,this.collectionGroup=s,this.orderBy=l,this.filters=d,this.limit=g,this.startAt=y,this.endAt=b,this.h=null};function uh(a,s,l,d,g,y,b){return void 0===s&&(s=null),void 0===l&&(l=[]),void 0===d&&(d=[]),void 0===g&&(g=null),void 0===y&&(y=null),void 0===b&&(b=null),new Gv(a,s,l,d,g,y,b)}function da(a){var s=je(a);if(null===s.h){var l=s.path.canonicalString();null!==s.collectionGroup&&(l+="|cg:"+s.collectionGroup),l+="|f:",l+=s.filters.map(function(d){return(g=d).field.canonicalString()+g.op.toString()+ah(g.value);var g}).join(","),l+="|ob:",l+=s.orderBy.map(function(d){return(g=d).field.canonicalString()+g.dir;var g}).join(","),Ti(s.limit)||(l+="|l:",l+=s.limit),s.startAt&&(l+="|lb:",l+=Yc(s.startAt)),s.endAt&&(l+="|ub:",l+=Yc(s.endAt)),s.h=l}return s.h}function Gr(a,s){if(a.limit!==s.limit||a.orderBy.length!==s.orderBy.length)return!1;for(var l=0;l<a.orderBy.length;l++)if(!ch(a.orderBy[l],s.orderBy[l]))return!1;if(a.filters.length!==s.filters.length)return!1;for(var d=0;d<a.filters.length;d++)if((g=a.filters[d]).op!==(y=s.filters[d]).op||!g.field.isEqual(y.field)||!qs(g.value,y.value))return!1;var g,y;return a.collectionGroup===s.collectionGroup&&!!a.path.isEqual(s.path)&&!!Od(a.startAt,s.startAt)&&Od(a.endAt,s.endAt)}function $o(a){return fe.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}var $i=function(a){function s(l,d,g){var y=this;return(y=a.call(this)||this).field=l,y.op=d,y.value=g,y}return(0,I.ZT)(s,a),s.create=function(l,d,g){return l.isKeyField()?"in"===d||"not-in"===d?this.l(l,d,g):new Wc(l,d,g):"array-contains"===d?new am(l,g):"in"===d?new Wv(l,g):"not-in"===d?new Dp(l,g):"array-contains-any"===d?new kd(l,g):new s(l,d,g)},s.l=function(l,d,g){return"in"===d?new fa(l,g):new Cp(l,g)},s.prototype.matches=function(l){var d=l.data.field(this.field);return"!="===this.op?null!==d&&this.m(iu(d,this.value)):null!==d&&zi(this.value)===zi(d)&&this.m(iu(d,this.value))},s.prototype.m=function(l){switch(this.op){case"<":return l<0;case"<=":return l<=0;case"==":return 0===l;case"!=":return 0!==l;case">":return l>0;case">=":return l>=0;default:return Ze()}},s.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},s}(function(){}),Wc=function(a){function s(l,d,g){var y=this;return(y=a.call(this,l,d,g)||this).key=fe.fromName(g.referenceValue),y}return(0,I.ZT)(s,a),s.prototype.matches=function(l){var d=fe.comparator(l.key,this.key);return this.m(d)},s}($i),fa=function(a){function s(l,d){var g=this;return(g=a.call(this,l,"in",d)||this).keys=Rd(0,d),g}return(0,I.ZT)(s,a),s.prototype.matches=function(l){return this.keys.some(function(d){return d.isEqual(l.key)})},s}($i),Cp=function(a){function s(l,d){var g=this;return(g=a.call(this,l,"not-in",d)||this).keys=Rd(0,d),g}return(0,I.ZT)(s,a),s.prototype.matches=function(l){return!this.keys.some(function(d){return d.isEqual(l.key)})},s}($i);function Rd(a,s){var l;return((null===(l=s.arrayValue)||void 0===l?void 0:l.values)||[]).map(function(d){return fe.fromName(d.referenceValue)})}var am=function(a){function s(l,d){return a.call(this,l,"array-contains",d)||this}return(0,I.ZT)(s,a),s.prototype.matches=function(l){var d=l.data.field(this.field);return Ai(d)&&oh(d.arrayValue,this.value)},s}($i),Wv=function(a){function s(l,d){return a.call(this,l,"in",d)||this}return(0,I.ZT)(s,a),s.prototype.matches=function(l){var d=l.data.field(this.field);return null!==d&&oh(this.value.arrayValue,d)},s}($i),Dp=function(a){function s(l,d){return a.call(this,l,"not-in",d)||this}return(0,I.ZT)(s,a),s.prototype.matches=function(l){if(oh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var d=l.data.field(this.field);return null!==d&&!oh(this.value.arrayValue,d)},s}($i),kd=function(a){function s(l,d){return a.call(this,l,"array-contains-any",d)||this}return(0,I.ZT)(s,a),s.prototype.matches=function(l){var d=this,g=l.data.field(this.field);return!(!Ai(g)||!g.arrayValue.values)&&g.arrayValue.values.some(function(y){return oh(d.value.arrayValue,y)})},s}($i),Kc=function(a,s){this.position=a,this.before=s};function Yc(a){return(a.before?"b":"a")+":"+a.position.map(function(s){return ah(s)}).join(",")}var oc=function(a,s){void 0===s&&(s="asc"),this.field=a,this.dir=s};function ch(a,s){return a.dir===s.dir&&a.field.isEqual(s.field)}function Qc(a,s,l){for(var d=0,g=0;g<a.position.length;g++){var y=s[g],b=a.position[g];if(d=y.field.isKeyField()?fe.comparator(fe.fromName(b.referenceValue),l.key):iu(b,l.data.field(y.field)),"desc"===y.dir&&(d*=-1),0!==d)break}return a.before?d<=0:d<0}function Od(a,s){if(null===a)return null===s;if(null===s||a.before!==s.before||a.position.length!==s.position.length)return!1;for(var l=0;l<a.position.length;l++)if(!qs(a.position[l],s.position[l]))return!1;return!0}var Go=function(a,s,l,d,g,y,b,C){void 0===s&&(s=null),void 0===l&&(l=[]),void 0===d&&(d=[]),void 0===g&&(g=null),void 0===y&&(y="F"),void 0===b&&(b=null),void 0===C&&(C=null),this.path=a,this.collectionGroup=s,this.explicitOrderBy=l,this.filters=d,this.limit=g,this.limitType=y,this.startAt=b,this.endAt=C,this.p=null,this.T=null};function xd(a,s,l,d,g,y,b,C){return new Go(a,s,l,d,g,y,b,C)}function sc(a){return new Go(a)}function ou(a){return!Ti(a.limit)&&"F"===a.limitType}function lh(a){return!Ti(a.limit)&&"L"===a.limitType}function Pd(a){return a.explicitOrderBy.length>0?a.explicitOrderBy[0].field:null}function si(a){for(var s=0,l=a.filters;s<l.length;s++){var d=l[s];if(d.g())return d.field}return null}function Do(a){return null!==a.collectionGroup}function Nn(a){var s=je(a);if(null===s.p){s.p=[];var l=si(s),d=Pd(s);if(null!==l&&null===d)l.isKeyField()||s.p.push(new oc(l)),s.p.push(new oc(ms.keyField(),"asc"));else{for(var g=!1,y=0,b=s.explicitOrderBy;y<b.length;y++){var C=b[y];s.p.push(C),C.field.isKeyField()&&(g=!0)}if(!g){var T=s.explicitOrderBy.length>0?s.explicitOrderBy[s.explicitOrderBy.length-1].dir:"asc";s.p.push(new oc(ms.keyField(),T))}}}return s.p}function Ri(a){var s=je(a);if(!s.T)if("F"===s.limitType)s.T=uh(s.path,s.collectionGroup,Nn(s),s.filters,s.limit,s.startAt,s.endAt);else{for(var l=[],d=0,g=Nn(s);d<g.length;d++){var y=g[d];l.push(new oc(y.field,"desc"===y.dir?"asc":"desc"))}var C=s.endAt?new Kc(s.endAt.position,!s.endAt.before):null,T=s.startAt?new Kc(s.startAt.position,!s.startAt.before):null;s.T=uh(s.path,s.collectionGroup,l,s.filters,s.limit,C,T)}return s.T}function um(a,s,l){return new Go(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),s,l,a.startAt,a.endAt)}function hh(a,s){return Gr(Ri(a),Ri(s))&&a.limitType===s.limitType}function cm(a){return da(Ri(a))+"|lt:"+a.limitType}function Xc(a){return"Query(target="+(l=(s=Ri(a)).path.canonicalString(),null!==s.collectionGroup&&(l+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(l+=", filters: ["+s.filters.map(function(d){return(g=d).field.canonicalString()+" "+g.op+" "+ah(g.value);var g}).join(", ")+"]"),Ti(s.limit)||(l+=", limit: "+s.limit),s.orderBy.length>0&&(l+=", orderBy: ["+s.orderBy.map(function(d){return(g=d).field.canonicalString()+" ("+g.dir+")";var g}).join(", ")+"]"),s.startAt&&(l+=", startAt: "+Yc(s.startAt)),s.endAt&&(l+=", endAt: "+Yc(s.endAt)),"Target("+l+"); limitType=")+a.limitType+")";var s,l}function su(a,s){return s.isFoundDocument()&&(g=(d=s).key.path,null!==(l=a).collectionGroup?d.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(g):fe.isDocumentKey(l.path)?l.path.isEqual(g):l.path.isImmediateParentOf(g))&&function(l,d){for(var g=0,y=l.explicitOrderBy;g<y.length;g++){var b=y[g];if(!b.field.isKeyField()&&null===d.data.field(b.field))return!1}return!0}(a,s)&&function(l,d){for(var g=0,y=l.filters;g<y.length;g++)if(!y[g].matches(d))return!1;return!0}(a,s)&&function(l,d){return!(l.startAt&&!Qc(l.startAt,Nn(l),d)||l.endAt&&Qc(l.endAt,Nn(l),d))}(a,s);var l,d,g}function Zc(a){return function(s,l){for(var d=!1,g=0,y=Nn(a);g<y.length;g++){var b=y[g],C=dh(b,s,l);if(0!==C)return C;d=d||b.field.isKeyField()}return 0}}function dh(a,s,l){var g,b,C,T,d=a.field.isKeyField()?fe.comparator(s.key,l.key):(b=l,C=s.data.field(g=a.field),T=b.data.field(g),null!==C&&null!==T?iu(C,T):Ze());switch(a.dir){case"asc":return d;case"desc":return-1*d;default:return Ze()}}function au(a,s){if(a.I){if(isNaN(s))return{doubleValue:"NaN"};if(s===1/0)return{doubleValue:"Infinity"};if(s===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(s)?"-0":s}}function Jc(a){return{integerValue:""+a}}function fh(a,s){return $e(s)?Jc(s):au(a,s)}var ph=function(){this._=void 0};function $s(a,s,l){return a instanceof Gi?(y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(d=l).seconds,nanos:d.nanoseconds}}}},(g=s)&&(y.fields.__previous_value__=g),{mapValue:y}):a instanceof Wo?gh(a,s):a instanceof uu?Sp(a,s):function(d,g){var y=Nd(d,g),b=Fd(y)+Fd(d.A);return jt(y)&&jt(d.A)?Jc(b):au(d.R,b)}(a,s);var d,g,y}function el(a,s,l){return a instanceof Wo?gh(a,s):a instanceof uu?Sp(a,s):l}function Nd(a,s){return a instanceof tl?jt(l=s)||(d=l)&&"doubleValue"in d?s:{integerValue:0}:null;var d,l}var Gi=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s}(ph),Wo=function(a){function s(l){var d=this;return(d=a.call(this)||this).elements=l,d}return(0,I.ZT)(s,a),s}(ph);function gh(a,s){for(var l=pa(s),d=function(b){l.some(function(C){return qs(C,b)})||l.push(b)},g=0,y=a.elements;g<y.length;g++)d(y[g]);return{arrayValue:{values:l}}}var uu=function(a){function s(l){var d=this;return(d=a.call(this)||this).elements=l,d}return(0,I.ZT)(s,a),s}(ph);function Sp(a,s){for(var l=pa(s),d=function(b){l=l.filter(function(C){return!qs(C,b)})},g=0,y=a.elements;g<y.length;g++)d(y[g]);return{arrayValue:{values:l}}}var tl=function(a){function s(l,d){var g=this;return(g=a.call(this)||this).R=l,g.A=d,g}return(0,I.ZT)(s,a),s}(ph);function Fd(a){return zn(a.integerValue||a.doubleValue)}function pa(a){return Ai(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}var ga=function(a,s){this.field=a,this.transform=s},cu=function(a,s){this.version=a,this.transformResults=s},nr=function(){function a(s,l){this.updateTime=s,this.exists=l}return a.none=function(){return new a},a.exists=function(s){return new a(void 0,s)},a.updateTime=function(s){return new a(s)},Object.defineProperty(a.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(s){return this.exists===s.exists&&(this.updateTime?!!s.updateTime&&this.updateTime.isEqual(s.updateTime):!s.updateTime)},a}();function vs(a,s){return void 0!==a.updateTime?s.isFoundDocument()&&s.version.isEqual(a.updateTime):void 0===a.exists||a.exists===s.isFoundDocument()}var ac=function(){};function nl(a,s,l){var d,g,y,b,C;a instanceof mh?(g=s,y=l,b=(d=a).value.clone(),C=Ip(d.fieldTransforms,g,y.transformResults),b.setAll(C),g.convertToFoundDocument(y.version,b).setHasCommittedMutations()):a instanceof Er?function(d,g,y){if(vs(d.precondition,g)){var b=Ip(d.fieldTransforms,g,y.transformResults),C=g.data;C.setAll(ma(d)),C.setAll(b),g.convertToFoundDocument(y.version,C).setHasCommittedMutations()}else g.convertToUnknownDocument(y.version)}(a,s,l):function(d,g,y){g.convertToNoDocument(y.version).setHasCommittedMutations()}(0,s,l)}function ys(a,s,l){var g;a instanceof mh?function(d,g,y){if(vs(d.precondition,g)){var b=d.value.clone(),C=hu(d.fieldTransforms,y,g);b.setAll(C),g.convertToFoundDocument(_s(g),b).setHasLocalMutations()}}(a,s,l):a instanceof Er?function(d,g,y){if(vs(d.precondition,g)){var b=hu(d.fieldTransforms,y,g),C=g.data;C.setAll(ma(d)),C.setAll(b),g.convertToFoundDocument(_s(g),C).setHasLocalMutations()}}(a,s,l):vs(a.precondition,g=s)&&g.convertToNoDocument(Et.min())}function lu(a,s){for(var l=null,d=0,g=a.fieldTransforms;d<g.length;d++){var y=g[d],b=s.data.field(y.field),C=Nd(y.transform,b||null);null!=C&&(null==l&&(l=$r.empty()),l.set(y.field,C))}return l||null}function Ld(a,s){return a.type===s.type&&!!a.key.isEqual(s.key)&&!!a.precondition.isEqual(s.precondition)&&(d=s.fieldTransforms,!!(void 0===(l=a.fieldTransforms)&&void 0===d||l&&d&&ha(l,d,function(g,y){return(b=g).field.isEqual((C=y).field)&&(x=C.transform,(T=b.transform)instanceof Wo&&x instanceof Wo||T instanceof uu&&x instanceof uu?ha(T.elements,x.elements,qs):T instanceof tl&&x instanceof tl?qs(T.A,x.A):T instanceof Gi&&x instanceof Gi);var b,C,T,x})))&&(0===a.type?a.value.isEqual(s.value):1!==a.type||a.data.isEqual(s.data)&&a.fieldMask.isEqual(s.fieldMask));var l,d}function _s(a){return a.isFoundDocument()?a.version:Et.min()}var mh=function(a){function s(l,d,g,y){void 0===y&&(y=[]);var b=this;return(b=a.call(this)||this).key=l,b.value=d,b.precondition=g,b.fieldTransforms=y,b.type=0,b}return(0,I.ZT)(s,a),s}(ac),Er=function(a){function s(l,d,g,y,b){void 0===b&&(b=[]);var C=this;return(C=a.call(this)||this).key=l,C.data=d,C.fieldMask=g,C.precondition=y,C.fieldTransforms=b,C.type=1,C}return(0,I.ZT)(s,a),s}(ac);function ma(a){var s=new Map;return a.fieldMask.fields.forEach(function(l){if(!l.isEmpty()){var d=a.data.field(l);s.set(l,d)}}),s}function Ip(a,s,l){var d=new Map;at(a.length===l.length);for(var g=0;g<l.length;g++){var y=a[g],b=y.transform,C=s.data.field(y.field);d.set(y.field,el(b,C,l[g]))}return d}function hu(a,s,l){for(var d=new Map,g=0,y=a;g<y.length;g++){var b=y[g],C=b.transform,T=l.data.field(b.field);d.set(b.field,$s(C,T,s))}return d}var Zn,Mt,du=function(a){function s(l,d){var g=this;return(g=a.call(this)||this).key=l,g.precondition=d,g.type=2,g.fieldTransforms=[],g}return(0,I.ZT)(s,a),s}(ac),bs=function(a){function s(l,d){var g=this;return(g=a.call(this)||this).key=l,g.precondition=d,g.type=3,g.fieldTransforms=[],g}return(0,I.ZT)(s,a),s}(ac),vh=function(a){this.count=a};function va(a){switch(a){case se.OK:return Ze();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ze()}}function Tp(a){if(void 0===a)return wr("GRPC error has no .code"),se.UNKNOWN;switch(a){case Zn.OK:return se.OK;case Zn.CANCELLED:return se.CANCELLED;case Zn.UNKNOWN:return se.UNKNOWN;case Zn.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Zn.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Zn.INTERNAL:return se.INTERNAL;case Zn.UNAVAILABLE:return se.UNAVAILABLE;case Zn.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Zn.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Zn.NOT_FOUND:return se.NOT_FOUND;case Zn.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Zn.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Zn.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Zn.ABORTED:return se.ABORTED;case Zn.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Zn.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Zn.DATA_LOSS:return se.DATA_LOSS;default:return Ze()}}(Mt=Zn||(Zn={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";var Rn=function(){function a(s,l){this.comparator=s,this.root=l||ws.EMPTY}return a.prototype.insert=function(s,l){return new a(this.comparator,this.root.insert(s,l,this.comparator).copy(null,null,ws.BLACK,null,null))},a.prototype.remove=function(s){return new a(this.comparator,this.root.remove(s,this.comparator).copy(null,null,ws.BLACK,null,null))},a.prototype.get=function(s){for(var l=this.root;!l.isEmpty();){var d=this.comparator(s,l.key);if(0===d)return l.value;d<0?l=l.left:d>0&&(l=l.right)}return null},a.prototype.indexOf=function(s){for(var l=0,d=this.root;!d.isEmpty();){var g=this.comparator(s,d.key);if(0===g)return l+d.left.size;g<0?d=d.left:(l+=d.left.size+1,d=d.right)}return-1},a.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(a.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),a.prototype.minKey=function(){return this.root.minKey()},a.prototype.maxKey=function(){return this.root.maxKey()},a.prototype.inorderTraversal=function(s){return this.root.inorderTraversal(s)},a.prototype.forEach=function(s){this.inorderTraversal(function(l,d){return s(l,d),!1})},a.prototype.toString=function(){var s=[];return this.inorderTraversal(function(l,d){return s.push(l+":"+d),!1}),"{"+s.join(", ")+"}"},a.prototype.reverseTraversal=function(s){return this.root.reverseTraversal(s)},a.prototype.getIterator=function(){return new rl(this.root,null,this.comparator,!1)},a.prototype.getIteratorFrom=function(s){return new rl(this.root,s,this.comparator,!1)},a.prototype.getReverseIterator=function(){return new rl(this.root,null,this.comparator,!0)},a.prototype.getReverseIteratorFrom=function(s){return new rl(this.root,s,this.comparator,!0)},a}(),rl=function(){function a(s,l,d,g){this.isReverse=g,this.nodeStack=[];for(var y=1;!s.isEmpty();)if(y=l?d(s.key,l):1,g&&(y*=-1),y<0)s=this.isReverse?s.left:s.right;else{if(0===y){this.nodeStack.push(s);break}this.nodeStack.push(s),s=this.isReverse?s.right:s.left}}return a.prototype.getNext=function(){var s=this.nodeStack.pop(),l={key:s.key,value:s.value};if(this.isReverse)for(s=s.left;!s.isEmpty();)this.nodeStack.push(s),s=s.right;else for(s=s.right;!s.isEmpty();)this.nodeStack.push(s),s=s.left;return l},a.prototype.hasNext=function(){return this.nodeStack.length>0},a.prototype.peek=function(){if(0===this.nodeStack.length)return null;var s=this.nodeStack[this.nodeStack.length-1];return{key:s.key,value:s.value}},a}(),ws=function(){function a(s,l,d,g,y){this.key=s,this.value=l,this.color=null!=d?d:a.RED,this.left=null!=g?g:a.EMPTY,this.right=null!=y?y:a.EMPTY,this.size=this.left.size+1+this.right.size}return a.prototype.copy=function(s,l,d,g,y){return new a(null!=s?s:this.key,null!=l?l:this.value,null!=d?d:this.color,null!=g?g:this.left,null!=y?y:this.right)},a.prototype.isEmpty=function(){return!1},a.prototype.inorderTraversal=function(s){return this.left.inorderTraversal(s)||s(this.key,this.value)||this.right.inorderTraversal(s)},a.prototype.reverseTraversal=function(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)},a.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},a.prototype.minKey=function(){return this.min().key},a.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},a.prototype.insert=function(s,l,d){var g=this,y=d(s,g.key);return(g=y<0?g.copy(null,null,null,g.left.insert(s,l,d),null):0===y?g.copy(null,l,null,null,null):g.copy(null,null,null,null,g.right.insert(s,l,d))).fixUp()},a.prototype.removeMin=function(){if(this.left.isEmpty())return a.EMPTY;var s=this;return s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),(s=s.copy(null,null,null,s.left.removeMin(),null)).fixUp()},a.prototype.remove=function(s,l){var d,g=this;if(l(s,g.key)<0)g.left.isEmpty()||g.left.isRed()||g.left.left.isRed()||(g=g.moveRedLeft()),g=g.copy(null,null,null,g.left.remove(s,l),null);else{if(g.left.isRed()&&(g=g.rotateRight()),g.right.isEmpty()||g.right.isRed()||g.right.left.isRed()||(g=g.moveRedRight()),0===l(s,g.key)){if(g.right.isEmpty())return a.EMPTY;d=g.right.min(),g=g.copy(d.key,d.value,null,null,g.right.removeMin())}g=g.copy(null,null,null,null,g.right.remove(s,l))}return g.fixUp()},a.prototype.isRed=function(){return this.color},a.prototype.fixUp=function(){var s=this;return s.right.isRed()&&!s.left.isRed()&&(s=s.rotateLeft()),s.left.isRed()&&s.left.left.isRed()&&(s=s.rotateRight()),s.left.isRed()&&s.right.isRed()&&(s=s.colorFlip()),s},a.prototype.moveRedLeft=function(){var s=this.colorFlip();return s.right.left.isRed()&&(s=(s=(s=s.copy(null,null,null,null,s.right.rotateRight())).rotateLeft()).colorFlip()),s},a.prototype.moveRedRight=function(){var s=this.colorFlip();return s.left.left.isRed()&&(s=(s=s.rotateRight()).colorFlip()),s},a.prototype.rotateLeft=function(){var s=this.copy(null,null,a.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)},a.prototype.rotateRight=function(){var s=this.copy(null,null,a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)},a.prototype.colorFlip=function(){var s=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,l)},a.prototype.checkMaxDepth=function(){var s=this.check();return Math.pow(2,s)<=this.size+1},a.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ze();var s=this.left.check();if(s!==this.right.check())throw Ze();return s+(this.isRed()?0:1)},a}();ws.EMPTY=null,ws.RED=!0,ws.BLACK=!1,ws.EMPTY=new(function(){function a(){this.size=0}return Object.defineProperty(a.prototype,"key",{get:function(){throw Ze()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"value",{get:function(){throw Ze()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"color",{get:function(){throw Ze()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"left",{get:function(){throw Ze()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"right",{get:function(){throw Ze()},enumerable:!1,configurable:!0}),a.prototype.copy=function(s,l,d,g,y){return this},a.prototype.insert=function(s,l,d){return new ws(s,l)},a.prototype.remove=function(s,l){return this},a.prototype.isEmpty=function(){return!0},a.prototype.inorderTraversal=function(s){return!1},a.prototype.reverseTraversal=function(s){return!1},a.prototype.minKey=function(){return null},a.prototype.maxKey=function(){return null},a.prototype.isRed=function(){return!1},a.prototype.checkMaxDepth=function(){return!0},a.prototype.check=function(){return 0},a}());var $n=function(){function a(s){this.comparator=s,this.data=new Rn(this.comparator)}return a.prototype.has=function(s){return null!==this.data.get(s)},a.prototype.first=function(){return this.data.minKey()},a.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(a.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),a.prototype.indexOf=function(s){return this.data.indexOf(s)},a.prototype.forEach=function(s){this.data.inorderTraversal(function(l,d){return s(l),!1})},a.prototype.forEachInRange=function(s,l){for(var d=this.data.getIteratorFrom(s[0]);d.hasNext();){var g=d.getNext();if(this.comparator(g.key,s[1])>=0)return;l(g.key)}},a.prototype.forEachWhile=function(s,l){var d;for(d=void 0!==l?this.data.getIteratorFrom(l):this.data.getIterator();d.hasNext();)if(!s(d.getNext().key))return},a.prototype.firstAfterOrEqual=function(s){var l=this.data.getIteratorFrom(s);return l.hasNext()?l.getNext().key:null},a.prototype.getIterator=function(){return new lm(this.data.getIterator())},a.prototype.getIteratorFrom=function(s){return new lm(this.data.getIteratorFrom(s))},a.prototype.add=function(s){return this.copy(this.data.remove(s).insert(s,!0))},a.prototype.delete=function(s){return this.has(s)?this.copy(this.data.remove(s)):this},a.prototype.isEmpty=function(){return this.data.isEmpty()},a.prototype.unionWith=function(s){var l=this;return l.size<s.size&&(l=s,s=this),s.forEach(function(d){l=l.add(d)}),l},a.prototype.isEqual=function(s){if(!(s instanceof a)||this.size!==s.size)return!1;for(var l=this.data.getIterator(),d=s.data.getIterator();l.hasNext();){var g=l.getNext().key,y=d.getNext().key;if(0!==this.comparator(g,y))return!1}return!0},a.prototype.toArray=function(){var s=[];return this.forEach(function(l){s.push(l)}),s},a.prototype.toString=function(){var s=[];return this.forEach(function(l){return s.push(l)}),"SortedSet("+s.toString()+")"},a.prototype.copy=function(s){var l=new a(this.comparator);return l.data=s,l},a}(),lm=function(){function a(s){this.iter=s}return a.prototype.getNext=function(){return this.iter.getNext().key},a.prototype.hasNext=function(){return this.iter.hasNext()},a}(),fu=new Rn(fe.comparator);function rr(){return fu}var hm=new Rn(fe.comparator);function il(){return hm}var jd=new Rn(fe.comparator);function mi(){return jd}var Ap=new $n(fe.comparator);function mn(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];for(var l=Ap,d=0,g=a;d<g.length;d++){var y=g[d];l=l.add(y)}return l}var pu=new $n(Je);function ya(){return pu}var Gs=function(){function a(s,l,d,g,y){this.snapshotVersion=s,this.targetChanges=l,this.targetMismatches=d,this.documentUpdates=g,this.resolvedLimboDocuments=y}return a.createSynthesizedRemoteEventForCurrentChange=function(s,l){var d=new Map;return d.set(s,Ko.createSynthesizedTargetChangeForCurrentChange(s,l)),new a(Et.min(),d,ya(),rr(),mn())},a}(),Ko=function(){function a(s,l,d,g,y){this.resumeToken=s,this.current=l,this.addedDocuments=d,this.modifiedDocuments=g,this.removedDocuments=y}return a.createSynthesizedTargetChangeForCurrentChange=function(s,l){return new a(Mn.EMPTY_BYTE_STRING,l,mn(),mn(),mn())},a}(),gu=function(a,s,l,d){this.v=a,this.removedTargetIds=s,this.key=l,this.P=d},mu=function(a,s){this.targetId=a,this.V=s},vu=function(a,s,l,d){void 0===l&&(l=Mn.EMPTY_BYTE_STRING),void 0===d&&(d=null),this.state=a,this.targetIds=s,this.resumeToken=l,this.cause=d},Mp=function(){function a(){this.S=0,this.D=yh(),this.C=Mn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(a.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),a.prototype.O=function(s){s.approximateByteSize()>0&&(this.k=!0,this.C=s)},a.prototype.M=function(){var s=mn(),l=mn(),d=mn();return this.D.forEach(function(g,y){switch(y){case 0:s=s.add(g);break;case 2:l=l.add(g);break;case 1:d=d.add(g);break;default:Ze()}}),new Ko(this.C,this.N,s,l,d)},a.prototype.L=function(){this.k=!1,this.D=yh()},a.prototype.B=function(s,l){this.k=!0,this.D=this.D.insert(s,l)},a.prototype.q=function(s){this.k=!0,this.D=this.D.remove(s)},a.prototype.U=function(){this.S+=1},a.prototype.K=function(){this.S-=1},a.prototype.j=function(){this.k=!0,this.N=!0},a}(),Bd=function(){function a(s){this.W=s,this.G=new Map,this.H=rr(),this.J=tt(),this.Y=new $n(Je)}return a.prototype.X=function(s){for(var l=0,d=s.v;l<d.length;l++){var g=d[l];s.P&&s.P.isFoundDocument()?this.Z(g,s.P):this.tt(g,s.key,s.P)}for(var y=0,b=s.removedTargetIds;y<b.length;y++)this.tt(g=b[y],s.key,s.P)},a.prototype.et=function(s){var l=this;this.forEachTarget(s,function(d){var g=l.nt(d);switch(s.state){case 0:l.st(d)&&g.O(s.resumeToken);break;case 1:g.K(),g.F||g.L(),g.O(s.resumeToken);break;case 2:g.K(),g.F||l.removeTarget(d);break;case 3:l.st(d)&&(g.j(),g.O(s.resumeToken));break;case 4:l.st(d)&&(l.it(d),g.O(s.resumeToken));break;default:Ze()}})},a.prototype.forEachTarget=function(s,l){var d=this;s.targetIds.length>0?s.targetIds.forEach(l):this.G.forEach(function(g,y){d.st(y)&&l(y)})},a.prototype.rt=function(s){var l=s.targetId,d=s.V.count,g=this.ot(l);if(g){var y=g.target;if($o(y))if(0===d){var b=new fe(y.path);this.tt(l,b,Mi.newNoDocument(b,Et.min()))}else at(1===d);else this.ct(l)!==d&&(this.it(l),this.Y=this.Y.add(l))}},a.prototype.ut=function(s){var l=this,d=new Map;this.G.forEach(function(b,C){var T=l.ot(C);if(T){if(b.current&&$o(T.target)){var x=new fe(T.target.path);null!==l.H.get(x)||l.at(C,x)||l.tt(C,x,Mi.newNoDocument(x,s))}b.$&&(d.set(C,b.M()),b.L())}});var g=mn();this.J.forEach(function(b,C){var T=!0;C.forEachWhile(function(x){var N=l.ot(x);return!N||2===N.purpose||(T=!1,!1)}),T&&(g=g.add(b))});var y=new Gs(s,d,this.Y,this.H,g);return this.H=rr(),this.J=tt(),this.Y=new $n(Je),y},a.prototype.Z=function(s,l){if(this.st(s)){var d=this.at(s,l.key)?2:0;this.nt(s).B(l.key,d),this.H=this.H.insert(l.key,l),this.J=this.J.insert(l.key,this.ht(l.key).add(s))}},a.prototype.tt=function(s,l,d){if(this.st(s)){var g=this.nt(s);this.at(s,l)?g.B(l,1):g.q(l),this.J=this.J.insert(l,this.ht(l).delete(s)),d&&(this.H=this.H.insert(l,d))}},a.prototype.removeTarget=function(s){this.G.delete(s)},a.prototype.ct=function(s){var l=this.nt(s).M();return this.W.getRemoteKeysForTarget(s).size+l.addedDocuments.size-l.removedDocuments.size},a.prototype.U=function(s){this.nt(s).U()},a.prototype.nt=function(s){var l=this.G.get(s);return l||(l=new Mp,this.G.set(s,l)),l},a.prototype.ht=function(s){var l=this.J.get(s);return l||(l=new $n(Je),this.J=this.J.insert(s,l)),l},a.prototype.st=function(s){var l=null!==this.ot(s);return l||Ce("WatchChangeAggregator","Detected inactive target",s),l},a.prototype.ot=function(s){var l=this.G.get(s);return l&&l.F?null:this.W.lt(s)},a.prototype.it=function(s){var l=this;this.G.set(s,new Mp),this.W.getRemoteKeysForTarget(s).forEach(function(d){l.tt(s,d,null)})},a.prototype.at=function(s,l){return this.W.getRemoteKeysForTarget(s).has(l)},a}();function tt(){return new Rn(fe.comparator)}function yh(){return new Rn(fe.comparator)}var Kv={asc:"ASCENDING",desc:"DESCENDING"},dm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fm=function(a,s){this.databaseId=a,this.I=s};function Vd(a,s){return a.I?new Date(1e3*s.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+s.nanoseconds).slice(-9)+"Z":{seconds:""+s.seconds,nanos:s.nanoseconds}}function Rp(a,s){return a.I?s.toBase64():s.toUint8Array()}function Ud(a,s){return Vd(a,s.toTimestamp())}function ur(a){return at(!!a),Et.fromTimestamp((l=uo(a),new pi(l.seconds,l.nanos)));var l}function Hd(a,s){return(l=a,new rt(["projects",l.projectId,"databases",l.database])).child("documents").child(s).canonicalString();var l}function xr(a){var s=rt.fromString(a);return at(xp(s)),s}function uc(a,s){return Hd(a.databaseId,s.path)}function Wi(a,s){var l=xr(s);if(l.get(1)!==a.databaseId.projectId)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+l.get(1)+" vs "+a.databaseId.projectId);if(l.get(3)!==a.databaseId.database)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+l.get(3)+" vs "+a.databaseId.database);return new fe(dr(l))}function qd(a,s){return Hd(a.databaseId,s)}function _h(a){var s=xr(a);return 4===s.length?rt.emptyPath():dr(s)}function ai(a){return new rt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function dr(a){return at(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function ol(a,s,l){return{name:uc(a,s),fields:l.value.mapValue.fields}}function yu(a,s,l){var d=Wi(a,s.name),g=ur(s.updateTime),y=new $r({mapValue:{fields:s.fields}}),b=Mi.newFoundDocument(d,g,y);return l&&b.setHasCommittedMutations(),l?b.setHasCommittedMutations():b}function Ws(a,s){var l,g;if(s instanceof mh)l={update:ol(a,s.key,s.value)};else if(s instanceof du)l={delete:uc(a,s.key)};else if(s instanceof Er)l={update:ol(a,s.key,s.data),updateMask:$d(s.fieldMask)};else{if(!(s instanceof bs))return Ze();l={verify:uc(a,s.key)}}return s.fieldTransforms.length>0&&(l.updateTransforms=s.fieldTransforms.map(function(d){return function(g,y){var b=y.transform;if(b instanceof Gi)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof Wo)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof uu)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof tl)return{fieldPath:y.field.canonicalString(),increment:b.A};throw Ze()}(0,d)})),s.precondition.isNone||(l.currentDocument=void 0!==(g=s.precondition).updateTime?{updateTime:Ud(a,g.updateTime)}:void 0!==g.exists?{exists:g.exists}:Ze()),l}function zd(a,s){var x,l=s.currentDocument?void 0!==(x=s.currentDocument).updateTime?nr.updateTime(ur(x.updateTime)):void 0!==x.exists?nr.exists(x.exists):nr.none():nr.none(),d=s.updateTransforms?s.updateTransforms.map(function(x){return function(N,V){var q=null;"setToServerValue"in V?(at("REQUEST_TIME"===V.setToServerValue),q=new Gi):"appendMissingElements"in V?q=new Wo(V.appendMissingElements.values||[]):"removeAllFromArray"in V?q=new uu(V.removeAllFromArray.values||[]):"increment"in V?q=new tl(N,V.increment):Ze();var re=ms.fromServerFormat(V.fieldPath);return new ga(re,q)}(a,x)}):[];if(s.update){var g=Wi(a,s.update.name),y=new $r({mapValue:{fields:s.update.fields}});if(s.updateMask){var b=function(x){return new Ii((x.fieldPaths||[]).map(function(V){return ms.fromServerFormat(V)}))}(s.updateMask);return new Er(g,y,b,l,d)}return new mh(g,y,l,d)}if(s.delete){var C=Wi(a,s.delete);return new du(C,l)}if(s.verify){var T=Wi(a,s.verify);return new bs(T,l)}return Ze()}function sl(a,s){return{documents:[qd(a,s.path)]}}function al(a,s){var l={structuredQuery:{}},d=s.path;null!==s.collectionGroup?(l.parent=qd(a,d),l.structuredQuery.from=[{collectionId:s.collectionGroup,allDescendants:!0}]):(l.parent=qd(a,d.popLast()),l.structuredQuery.from=[{collectionId:d.lastSegment()}]);var g=function(C){if(0!==C.length){var T=C.map(function(x){return function(N){if("=="===N.op){if(Ep(N.value))return{unaryFilter:{field:wh(N.field),op:"IS_NAN"}};if(tr(N.value))return{unaryFilter:{field:wh(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(Ep(N.value))return{unaryFilter:{field:wh(N.field),op:"IS_NOT_NAN"}};if(tr(N.value))return{unaryFilter:{field:wh(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wh(N.field),op:ul(N.op),value:N.value}}}(x)});return 1===T.length?T[0]:{compositeFilter:{op:"AND",filters:T}}}}(s.filters);g&&(l.structuredQuery.where=g);var y=function(C){if(0!==C.length)return C.map(function(T){return{field:wh((x=T).field),direction:Op(x.dir)};var x})}(s.orderBy);y&&(l.structuredQuery.orderBy=y);var T,b=(T=s.limit,a.I||Ti(T)?T:{value:T});return null!==b&&(l.structuredQuery.limit=b),s.startAt&&(l.structuredQuery.startAt=kp(s.startAt)),s.endAt&&(l.structuredQuery.endAt=kp(s.endAt)),l}function bh(a){var s=_h(a.parent),l=a.structuredQuery,d=l.from?l.from.length:0,g=null;if(d>0){at(1===d);var y=l.from[0];y.allDescendants?g=y.collectionId:s=s.child(y.collectionId)}var b=[];l.where&&(b=pm(l.where));var C=[];l.orderBy&&(C=l.orderBy.map(function(V){return new oc(_u((q=V).field),function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction));var q}));var V,q,T=null;l.limit&&(T=Ti(q="object"==typeof(V=l.limit)?V.value:V)?null:q);var x=null;l.startAt&&(x=co(l.startAt));var N=null;return l.endAt&&(N=co(l.endAt)),xd(s,g,C,b,T,"F",x,N)}function pm(a){return a?void 0!==a.unaryFilter?[mm(a)]:void 0!==a.fieldFilter?[gm(a)]:void 0!==a.compositeFilter?a.compositeFilter.filters.map(function(s){return pm(s)}).reduce(function(s,l){return s.concat(l)}):Ze():[]}function kp(a){return{before:a.before,values:a.position}}function co(a){return new Kc(a.values||[],!!a.before)}function Op(a){return Kv[a]}function ul(a){return dm[a]}function wh(a){return{fieldPath:a.canonicalString()}}function _u(a){return ms.fromServerFormat(a.fieldPath)}function gm(a){return $i.create(_u(a.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ze()}}(a.fieldFilter.op),a.fieldFilter.value)}function mm(a){switch(a.unaryFilter.op){case"IS_NAN":var s=_u(a.unaryFilter.field);return $i.create(s,"==",{doubleValue:NaN});case"IS_NULL":var l=_u(a.unaryFilter.field);return $i.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var d=_u(a.unaryFilter.field);return $i.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var g=_u(a.unaryFilter.field);return $i.create(g,"!=",{nullValue:"NULL_VALUE"});default:return Ze()}}function $d(a){var s=[];return a.fields.forEach(function(l){return s.push(l.canonicalString())}),{fieldPaths:s}}function xp(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}function Ki(a){for(var s="",l=0;l<a.length;l++)s.length>0&&(s=Gd(s)),s=Eh(a.get(l),s);return Gd(s)}function Eh(a,s){for(var l=s,d=a.length,g=0;g<d;g++){var y=a.charAt(g);switch(y){case"\0":l+="\x01\x10";break;case"\x01":l+="\x01\x11";break;default:l+=y}}return l}function Gd(a){return a+"\x01\x01"}function Pr(a){var s=a.length;if(at(s>=2),2===s)return at("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),rt.emptyPath();for(var l=s-2,d=[],g="",y=0;y<s;){var b=a.indexOf("\x01",y);switch((b<0||b>l)&&Ze(),a.charAt(b+1)){case"\x01":var C=a.substring(y,b),T=void 0;0===g.length?T=C:(T=g+=C,g=""),d.push(T);break;case"\x10":g+=a.substring(y,b),g+="\0";break;case"\x11":g+=a.substring(y,b+1);break;default:Ze()}y=b+2}return new rt(d)}var cl=function(a,s){this.seconds=a,this.nanoseconds=s},Cr=function(a,s,l){this.ownerId=a,this.allowTabSynchronization=s,this.leaseTimestampMs=l};Cr.store="owner",Cr.key="owner";var So=function(a,s,l){this.userId=a,this.lastAcknowledgedBatchId=s,this.lastStreamToken=l};So.store="mutationQueues",So.keyPath="userId";var kn=function(a,s,l,d,g){this.userId=a,this.batchId=s,this.localWriteTimeMs=l,this.baseMutations=d,this.mutations=g};kn.store="mutations",kn.keyPath="batchId",kn.userMutationsIndex="userMutationsIndex",kn.userMutationsKeyPath=["userId","batchId"];var ui=function(){function a(){}return a.prefixForUser=function(s){return[s]},a.prefixForPath=function(s,l){return[s,Ki(l)]},a.key=function(s,l,d){return[s,Ki(l),d]},a}();ui.store="documentMutations",ui.PLACEHOLDER=new ui;var vm=function(a,s){this.path=a,this.readTime=s},ym=function(a,s){this.path=a,this.version=s},Gn=function(a,s,l,d,g,y){this.unknownDocument=a,this.noDocument=s,this.document=l,this.hasCommittedMutations=d,this.readTime=g,this.parentPath=y};Gn.store="remoteDocuments",Gn.readTimeIndex="readTimeIndex",Gn.readTimeIndexPath="readTime",Gn.collectionReadTimeIndex="collectionReadTimeIndex",Gn.collectionReadTimeIndexPath=["parentPath","readTime"];var lo=function(a){this.byteSize=a};lo.store="remoteDocumentGlobal",lo.key="remoteDocumentGlobalKey";var Wr=function(a,s,l,d,g,y,b){this.targetId=a,this.canonicalId=s,this.readTime=l,this.resumeToken=d,this.lastListenSequenceNumber=g,this.lastLimboFreeSnapshotVersion=y,this.query=b};Wr.store="targets",Wr.keyPath="targetId",Wr.queryTargetsIndexName="queryTargetsIndex",Wr.queryTargetsKeyPath=["canonicalId","targetId"];var Dr=function(a,s,l){this.targetId=a,this.path=s,this.sequenceNumber=l};Dr.store="targetDocuments",Dr.keyPath=["targetId","path"],Dr.documentTargetsIndex="documentTargetsIndex",Dr.documentTargetsKeyPath=["path","targetId"];var Yi=function(a,s,l,d){this.highestTargetId=a,this.highestListenSequenceNumber=s,this.lastRemoteSnapshotVersion=l,this.targetCount=d};Yi.key="targetGlobalKey",Yi.store="targetGlobal";var ue=function(a,s){this.collectionId=a,this.parent=s};ue.store="collectionParents",ue.keyPath=["collectionId","parent"];var Ks=function(a,s,l,d){this.clientId=a,this.updateTimeMs=s,this.networkEnabled=l,this.inForeground=d};Ks.store="clientMetadata",Ks.keyPath="clientId";var Es=function(a,s,l){this.bundleId=a,this.createTime=s,this.version=l};Es.store="bundles",Es.keyPath="bundleId";var bu=function(a,s,l){this.name=a,this.readTime=s,this.bundledQuery=l};bu.store="namedQueries",bu.keyPath="name";var Ch=(0,I.ev)((0,I.ev)([],(0,I.ev)((0,I.ev)([],(0,I.ev)((0,I.ev)([],(0,I.ev)((0,I.ev)([],[So.store,kn.store,ui.store,Gn.store,Wr.store,Cr.store,Yi.store,Dr.store]),[Ks.store])),[lo.store])),[ue.store])),[Es.store,bu.store]),Wd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Dh=function(){function a(){this.onCommittedListeners=[]}return a.prototype.addOnCommittedListener=function(s){this.onCommittedListeners.push(s)},a.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(s){return s()})},a}(),Wn=function(){var a=this;this.promise=new Promise(function(s,l){a.resolve=s,a.reject=l})},we=function(){function a(s){var l=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,s(function(d){l.isDone=!0,l.result=d,l.nextCallback&&l.nextCallback(d)},function(d){l.isDone=!0,l.error=d,l.catchCallback&&l.catchCallback(d)})}return a.prototype.catch=function(s){return this.next(void 0,s)},a.prototype.next=function(s,l){var d=this;return this.callbackAttached&&Ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(l,this.error):this.wrapSuccess(s,this.result):new a(function(g,y){d.nextCallback=function(b){d.wrapSuccess(s,b).next(g,y)},d.catchCallback=function(b){d.wrapFailure(l,b).next(g,y)}})},a.prototype.toPromise=function(){var s=this;return new Promise(function(l,d){s.next(l,d)})},a.prototype.wrapUserFunction=function(s){try{var l=s();return l instanceof a?l:a.resolve(l)}catch(d){return a.reject(d)}},a.prototype.wrapSuccess=function(s,l){return s?this.wrapUserFunction(function(){return s(l)}):a.resolve(l)},a.prototype.wrapFailure=function(s,l){return s?this.wrapUserFunction(function(){return s(l)}):a.reject(l)},a.resolve=function(s){return new a(function(l,d){l(s)})},a.reject=function(s){return new a(function(l,d){d(s)})},a.waitFor=function(s){return new a(function(l,d){var g=0,y=0,b=!1;s.forEach(function(C){++g,C.next(function(){++y,b&&y===g&&l()},function(T){return d(T)})}),b=!0,y===g&&l()})},a.or=function(s){for(var l=a.resolve(!1),d=function(b){l=l.next(function(C){return C?a.resolve(C):b()})},g=0,y=s;g<y.length;g++)d(y[g]);return l},a.forEach=function(s,l){var d=this,g=[];return s.forEach(function(y,b){g.push(l.call(d,y,b))}),this.waitFor(g)},a}(),ir=function(){function a(s,l){var d=this;this.action=s,this.transaction=l,this.aborted=!1,this.ft=new Wn,this.transaction.oncomplete=function(){d.ft.resolve()},this.transaction.onabort=function(){l.error?d.ft.reject(new Sh(s,l.error)):d.ft.resolve()},this.transaction.onerror=function(g){var y=Yd(g.target.error);d.ft.reject(new Sh(s,y))}}return a.open=function(s,l,d,g){try{return new a(l,s.transaction(g,d))}catch(y){throw new Sh(l,y)}},Object.defineProperty(a.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),a.prototype.abort=function(s){s&&this.ft.reject(s),this.aborted||(Ce("SimpleDb","Aborting transaction:",s?s.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},a.prototype.store=function(s){var l=this.transaction.objectStore(s);return new Kd(l)},a}(),cc=function(){function a(s,l,d){this.name=s,this.version=l,this.wt=d,12.2===a._t((0,Ge.z$)())&&wr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return a.delete=function(s){return Ce("SimpleDb","Removing database:",s),Io(window.indexedDB.deleteDatabase(s)).toPromise()},a.yt=function(){if("undefined"==typeof indexedDB)return!1;if(a.gt())return!0;var s=(0,Ge.z$)(),l=a._t(s),d=0<l&&l<10,g=a.Et(s),y=0<g&&g<4.5;return!(s.indexOf("MSIE ")>0||s.indexOf("Trident/")>0||s.indexOf("Edge/")>0||d||y)},a.gt=function(){var s;return"undefined"!=typeof process&&"YES"===(null===(s=process.env)||void 0===s?void 0:s.Tt)},a.It=function(s,l){return s.store(l)},a._t=function(s){var l=s.match(/i(?:phone|pad|pod) os ([\d_]+)/i),d=l?l[1].split("_").slice(0,2).join("."):"-1";return Number(d)},a.Et=function(s){var l=s.match(/Android ([\d.]+)/i),d=l?l[1].split(".").slice(0,2).join("."):"-1";return Number(d)},a.prototype.At=function(s){return(0,I.mG)(this,void 0,void 0,function(){var l,d=this;return(0,I.Jh)(this,function(g){switch(g.label){case 0:return this.db?[3,2]:(Ce("SimpleDb","Opening database:",this.name),l=this,[4,new Promise(function(y,b){var C=indexedDB.open(d.name,d.version);C.onsuccess=function(T){y(T.target.result)},C.onblocked=function(){b(new Sh(s,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},C.onerror=function(T){var x=T.target.error;b("VersionError"===x.name?new me(se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Sh(s,x))},C.onupgradeneeded=function(T){Ce("SimpleDb",'Database "'+d.name+'" requires upgrade from version:',T.oldVersion),d.wt.Rt(T.target.result,C.transaction,T.oldVersion,d.version).next(function(){Ce("SimpleDb","Database upgrade to version "+d.version+" complete")})}})]);case 1:l.db=g.sent(),g.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(y){return d.bt(y)}),this.db)]}})})},a.prototype.vt=function(s){this.bt=s,this.db&&(this.db.onversionchange=function(l){return s(l)})},a.prototype.runTransaction=function(s,l,d,g){return(0,I.mG)(this,void 0,void 0,function(){var y,b,C,T,x;return(0,I.Jh)(this,function(N){switch(N.label){case 0:y="readonly"===l,b=0,C=function(){var V,q,ee,J,re;return(0,I.Jh)(this,function(Ie){switch(Ie.label){case 0:++b,Ie.label=1;case 1:return Ie.trys.push([1,4,,5]),[4,T.At(s)];case 2:return T.db=Ie.sent(),V=ir.open(T.db,s,y?"readonly":"readwrite",d),q=g(V).catch(function(Pe){return V.abort(Pe),we.reject(Pe)}).toPromise(),ee={},q.catch(function(){}),[4,V.dt];case 3:return[2,(ee.value=(Ie.sent(),q),ee)];case 4:return Ce("SimpleDb","Transaction failed with error:",(J=Ie.sent()).message,"Retrying:",re="FirebaseError"!==J.name&&b<3),T.close(),re?[3,5]:[2,{value:Promise.reject(J)}];case 5:return[2]}})},T=this,N.label=1;case 1:return[5,C()];case 2:if("object"==typeof(x=N.sent()))return[2,x.value];N.label=3;case 3:return[3,1];case 4:return[2]}})})},a.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},a}(),lc=function(){function a(s){this.Pt=s,this.Vt=!1,this.St=null}return Object.defineProperty(a.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"cursor",{set:function(s){this.Pt=s},enumerable:!1,configurable:!0}),a.prototype.done=function(){this.Vt=!0},a.prototype.Ct=function(s){this.St=s},a.prototype.delete=function(){return Io(this.Pt.delete())},a}(),Sh=function(a){function s(l,d){var g=this;return(g=a.call(this,se.UNAVAILABLE,"IndexedDB transaction '"+l+"' failed: "+d)||this).name="IndexedDbTransactionError",g}return(0,I.ZT)(s,a),s}(me);function wu(a){return"IndexedDbTransactionError"===a.name}var Kd=function(){function a(s){this.store=s}return a.prototype.put=function(s,l){var d;return void 0!==l?(Ce("SimpleDb","PUT",this.store.name,s,l),d=this.store.put(l,s)):(Ce("SimpleDb","PUT",this.store.name,"<auto-key>",s),d=this.store.put(s)),Io(d)},a.prototype.add=function(s){return Ce("SimpleDb","ADD",this.store.name,s,s),Io(this.store.add(s))},a.prototype.get=function(s){var l=this;return Io(this.store.get(s)).next(function(d){return void 0===d&&(d=null),Ce("SimpleDb","GET",l.store.name,s,d),d})},a.prototype.delete=function(s){return Ce("SimpleDb","DELETE",this.store.name,s),Io(this.store.delete(s))},a.prototype.count=function(){return Ce("SimpleDb","COUNT",this.store.name),Io(this.store.count())},a.prototype.Nt=function(s,l){var d=this.cursor(this.options(s,l)),g=[];return this.xt(d,function(y,b){g.push(b)}).next(function(){return g})},a.prototype.kt=function(s,l){Ce("SimpleDb","DELETE ALL",this.store.name);var d=this.options(s,l);d.Ft=!1;var g=this.cursor(d);return this.xt(g,function(y,b,C){return C.delete()})},a.prototype.$t=function(s,l){var d;l?d=s:(d={},l=s);var g=this.cursor(d);return this.xt(g,l)},a.prototype.Ot=function(s){var l=this.cursor({});return new we(function(d,g){l.onerror=function(y){var b=Yd(y.target.error);g(b)},l.onsuccess=function(y){var b=y.target.result;b?s(b.primaryKey,b.value).next(function(C){C?b.continue():d()}):d()}})},a.prototype.xt=function(s,l){var d=[];return new we(function(g,y){s.onerror=function(b){y(b.target.error)},s.onsuccess=function(b){var C=b.target.result;if(C){var T=new lc(C),x=l(C.primaryKey,C.value,T);if(x instanceof we){var N=x.catch(function(V){return T.done(),we.reject(V)});d.push(N)}T.isDone?g():null===T.Dt?C.continue():C.continue(T.Dt)}else g()}}).next(function(){return we.waitFor(d)})},a.prototype.options=function(s,l){var d;return void 0!==s&&("string"==typeof s?d=s:l=s),{index:d,range:l}},a.prototype.cursor=function(s){var l="next";if(s.reverse&&(l="prev"),s.index){var d=this.store.index(s.index);return s.Ft?d.openKeyCursor(s.range,l):d.openCursor(s.range,l)}return this.store.openCursor(s.range,l)},a}();function Io(a){return new we(function(s,l){a.onsuccess=function(d){s(d.target.result)},a.onerror=function(d){var g=Yd(d.target.error);l(g)}})}var Ih=!1;function Yd(a){var s=cc._t((0,Ge.z$)());if(s>=12.2&&s<13){var l="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(l)>=0){var d=new me("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+l+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ih||(Ih=!0,setTimeout(function(){throw d},0)),d}}return a}var Pp=function(a){function s(l,d){var g=this;return(g=a.call(this)||this).Mt=l,g.currentSequenceNumber=d,g}return(0,I.ZT)(s,a),s}(Dh);function Kr(a,s){var l=je(a);return cc.It(l.Mt,s)}var Eu=function(){function a(s,l,d,g){this.batchId=s,this.localWriteTime=l,this.baseMutations=d,this.mutations=g}return a.prototype.applyToRemoteDocument=function(s,l){for(var d=l.mutationResults,g=0;g<this.mutations.length;g++){var y=this.mutations[g];y.key.isEqual(s.key)&&nl(y,s,d[g])}},a.prototype.applyToLocalView=function(s){for(var l=0,d=this.baseMutations;l<d.length;l++)(b=d[l]).key.isEqual(s.key)&&ys(b,s,this.localWriteTime);for(var g=0,y=this.mutations;g<y.length;g++){var b;(b=y[g]).key.isEqual(s.key)&&ys(b,s,this.localWriteTime)}},a.prototype.applyToLocalDocumentSet=function(s){var l=this;this.mutations.forEach(function(d){var g=s.get(d.key),y=g;l.applyToLocalView(y),g.isValidDocument()||y.convertToNoDocument(Et.min())})},a.prototype.keys=function(){return this.mutations.reduce(function(s,l){return s.add(l.key)},mn())},a.prototype.isEqual=function(s){return this.batchId===s.batchId&&ha(this.mutations,s.mutations,function(l,d){return Ld(l,d)})&&ha(this.baseMutations,s.baseMutations,function(l,d){return Ld(l,d)})},a}(),Yv=function(){function a(s,l,d,g){this.batch=s,this.commitVersion=l,this.mutationResults=d,this.docVersions=g}return a.from=function(s,l,d){at(s.mutations.length===d.length);for(var g=mi(),y=s.mutations,b=0;b<y.length;b++)g=g.insert(y[b].key,d[b].version);return new a(s,l,d,g)},a}(),Np=function(){function a(s,l,d,g,y,b,C){void 0===y&&(y=Et.min()),void 0===b&&(b=Et.min()),void 0===C&&(C=Mn.EMPTY_BYTE_STRING),this.target=s,this.targetId=l,this.purpose=d,this.sequenceNumber=g,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=C}return a.prototype.withSequenceNumber=function(s){return new a(this.target,this.targetId,this.purpose,s,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},a.prototype.withResumeToken=function(s,l){return new a(this.target,this.targetId,this.purpose,this.sequenceNumber,l,this.lastLimboFreeSnapshotVersion,s)},a.prototype.withLastLimboFreeSnapshotVersion=function(s){return new a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,s,this.resumeToken)},a}(),Qd=function(a){this.Lt=a};function _a(a,s){if(s.document)return yu(a.Lt,s.document,!!s.hasCommittedMutations);if(s.noDocument){var l=fe.fromSegments(s.noDocument.path),d=Cs(s.noDocument.readTime),g=Mi.newNoDocument(l,d);return s.hasCommittedMutations?g.setHasCommittedMutations():g}if(s.unknownDocument){var y=fe.fromSegments(s.unknownDocument.path);return d=Cs(s.unknownDocument.version),Mi.newUnknownDocument(y,d)}return Ze()}function _m(a,s,l){var V,q,d=Fp(l),g=s.key.path.popLast().toArray();if(s.isFoundDocument()){var y={name:uc(V=a.Lt,(q=s).key),fields:q.data.value.mapValue.fields,updateTime:Vd(V,q.version.toTimestamp())},b=s.hasCommittedMutations;return new Gn(null,null,y,b,d,g)}if(s.isNoDocument()){var C=s.key.path.toArray(),T=Yr(s.version);return b=s.hasCommittedMutations,new Gn(null,new vm(C,T),null,b,d,g)}if(s.isUnknownDocument()){var x=s.key.path.toArray(),N=Yr(s.version);return new Gn(new ym(x,N),null,null,!0,d,g)}return Ze()}function Fp(a){var s=a.toTimestamp();return[s.seconds,s.nanoseconds]}function bm(a){var s=new pi(a[0],a[1]);return Et.fromTimestamp(s)}function Yr(a){var s=a.toTimestamp();return new cl(s.seconds,s.nanoseconds)}function Cs(a){var s=new pi(a.seconds,a.nanoseconds);return Et.fromTimestamp(s)}function Cu(a,s){for(var l=(s.baseMutations||[]).map(function(T){return zd(a.Lt,T)}),d=0;d<s.mutations.length-1;++d)d+1<s.mutations.length&&void 0!==s.mutations[d+1].transform&&(s.mutations[d].updateTransforms=s.mutations[d+1].transform.fieldTransforms,s.mutations.splice(d+1,1),++d);var b=s.mutations.map(function(T){return zd(a.Lt,T)}),C=pi.fromMillis(s.localWriteTimeMs);return new Eu(s.batchId,C,l,b)}function Ys(a){var s,l,d=Cs(a.readTime),g=void 0!==a.lastLimboFreeSnapshotVersion?Cs(a.lastLimboFreeSnapshotVersion):Et.min();return void 0!==a.query.documents?(at(1===(l=a.query).documents.length),s=Ri(sc(_h(l.documents[0])))):s=Ri(bh(a.query)),new Np(s,a.targetId,0,a.lastListenSequenceNumber,d,g,Mn.fromBase64String(a.resumeToken))}function wm(a,s){var l,d=Yr(s.snapshotVersion),g=Yr(s.lastLimboFreeSnapshotVersion);l=$o(s.target)?sl(a.Lt,s.target):al(a.Lt,s.target);var y=s.resumeToken.toBase64();return new Wr(s.targetId,da(s.target),d,y,s.sequenceNumber,g,l)}function Xd(a){var s=bh({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?um(s,s.limit,"L"):s}var h_=function(){function a(){}return a.prototype.getBundleMetadata=function(s,l){return Th(s).get(l).next(function(d){if(d)return{id:(g=d).bundleId,createTime:Cs(g.createTime),version:g.version};var g})},a.prototype.saveBundleMetadata=function(s,l){return Th(s).put({bundleId:(d=l).id,createTime:Yr(ur(d.createTime)),version:d.version});var d},a.prototype.getNamedQuery=function(s,l){return ll(s).get(l).next(function(d){if(d)return{name:(g=d).name,query:Xd(g.bundledQuery),readTime:Cs(g.readTime)};var g})},a.prototype.saveNamedQuery=function(s,l){return ll(s).put({name:(d=l).name,readTime:Yr(ur(d.readTime)),bundledQuery:d.bundledQuery});var d},a}();function Th(a){return Kr(a,Es.store)}function ll(a){return Kr(a,bu.store)}var Zd=function(){function a(){this.Bt=new Ah}return a.prototype.addToCollectionParentIndex=function(s,l){return this.Bt.add(l),we.resolve()},a.prototype.getCollectionParents=function(s,l){return we.resolve(this.Bt.getEntries(l))},a}(),Ah=function(){function a(){this.index={}}return a.prototype.add=function(s){var l=s.lastSegment(),d=s.popLast(),g=this.index[l]||new $n(rt.comparator),y=!g.has(d);return this.index[l]=g.add(d),y},a.prototype.has=function(s){var l=s.lastSegment(),d=s.popLast(),g=this.index[l];return g&&g.has(d)},a.prototype.getEntries=function(s){return(this.index[s]||new $n(rt.comparator)).toArray()},a}(),Jd=function(){function a(){this.qt=new Ah}return a.prototype.addToCollectionParentIndex=function(s,l){var d=this;if(!this.qt.has(l)){var g=l.lastSegment(),y=l.popLast();s.addOnCommittedListener(function(){d.qt.add(l)});var b={collectionId:g,parent:Ki(y)};return Qs(s).put(b)}return we.resolve()},a.prototype.getCollectionParents=function(s,l){var d=[],g=IDBKeyRange.bound([l,""],[Hs(l),""],!1,!0);return Qs(s).Nt(g).next(function(y){for(var b=0,C=y;b<C.length;b++){var T=C[b];if(T.collectionId!==l)break;d.push(Pr(T.parent))}return d})},a}();function Qs(a){return Kr(a,ue.store)}var ef={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yo=function(){function a(s,l,d){this.cacheSizeCollectionThreshold=s,this.percentileToCollect=l,this.maximumSequenceNumbersToCollect=d}return a.withCacheSize=function(s){return new a(s,a.DEFAULT_COLLECTION_PERCENTILE,a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},a}();function Em(a,s,l){var d=a.store(kn.store),g=a.store(ui.store),y=[],b=IDBKeyRange.only(l.batchId),C=0,T=d.$t({range:b},function(J,re,Ie){return C++,Ie.delete()});y.push(T.next(function(){at(1===C)}));for(var x=[],N=0,V=l.mutations;N<V.length;N++){var q=V[N],ee=ui.key(s,q.key.path,l.batchId);y.push(g.delete(ee)),x.push(q.key)}return we.waitFor(y).next(function(){return x})}function tf(a){if(!a)return 0;var s;if(a.document)s=a.document;else if(a.unknownDocument)s=a.unknownDocument;else{if(!a.noDocument)throw Ze();s=a.noDocument}return JSON.stringify(s).length}Yo.DEFAULT_COLLECTION_PERCENTILE=10,Yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yo.DEFAULT=new Yo(41943040,Yo.DEFAULT_COLLECTION_PERCENTILE,Yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yo.DISABLED=new Yo(-1,0,0);var Qv=function(){function a(s,l,d,g){this.userId=s,this.R=l,this.Ut=d,this.referenceDelegate=g,this.Kt={}}return a.Qt=function(s,l,d,g){return at(""!==s.uid),new a(s.isAuthenticated()?s.uid:"",l,d,g)},a.prototype.checkEmpty=function(s){var l=!0,d=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vi(s).$t({index:kn.userMutationsIndex,range:d},function(g,y,b){l=!1,b.done()}).next(function(){return l})},a.prototype.addMutationBatch=function(s,l,d,g){var y=this,b=hc(s),C=vi(s);return C.add({}).next(function(T){at("number"==typeof T);for(var x=new Eu(T,l,d,g),N=function(Pe,st,lt){var $t=lt.baseMutations.map(function(Fn){return Ws(Pe.Lt,Fn)}),pn=lt.mutations.map(function(Fn){return Ws(Pe.Lt,Fn)});return new kn(st,lt.batchId,lt.localWriteTime.toMillis(),$t,pn)}(y.R,y.userId,x),V=[],q=new $n(function(Pe,st){return Je(Pe.canonicalString(),st.canonicalString())}),ee=0,J=g;ee<J.length;ee++){var re=J[ee],Ie=ui.key(y.userId,re.key.path,T);q=q.add(re.key.path.popLast()),V.push(C.put(N)),V.push(b.put(Ie,ui.PLACEHOLDER))}return q.forEach(function(Pe){V.push(y.Ut.addToCollectionParentIndex(s,Pe))}),s.addOnCommittedListener(function(){y.Kt[T]=x.keys()}),we.waitFor(V).next(function(){return x})})},a.prototype.lookupMutationBatch=function(s,l){var d=this;return vi(s).get(l).next(function(g){return g?(at(g.userId===d.userId),Cu(d.R,g)):null})},a.prototype.jt=function(s,l){var d=this;return this.Kt[l]?we.resolve(this.Kt[l]):this.lookupMutationBatch(s,l).next(function(g){if(g){var y=g.keys();return d.Kt[l]=y,y}return null})},a.prototype.getNextMutationBatchAfterBatchId=function(s,l){var d=this,g=l+1,y=IDBKeyRange.lowerBound([this.userId,g]),b=null;return vi(s).$t({index:kn.userMutationsIndex,range:y},function(C,T,x){T.userId===d.userId&&(at(T.batchId>=g),b=Cu(d.R,T)),x.done()}).next(function(){return b})},a.prototype.getHighestUnacknowledgedBatchId=function(s){var l=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),d=-1;return vi(s).$t({index:kn.userMutationsIndex,range:l,reverse:!0},function(g,y,b){d=y.batchId,b.done()}).next(function(){return d})},a.prototype.getAllMutationBatches=function(s){var l=this,d=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vi(s).Nt(kn.userMutationsIndex,d).next(function(g){return g.map(function(y){return Cu(l.R,y)})})},a.prototype.getAllMutationBatchesAffectingDocumentKey=function(s,l){var d=this,g=ui.prefixForPath(this.userId,l.path),y=IDBKeyRange.lowerBound(g),b=[];return hc(s).$t({range:y},function(C,T,x){var N=C[0],q=C[2],ee=Pr(C[1]);if(N===d.userId&&l.path.isEqual(ee))return vi(s).get(q).next(function(J){if(!J)throw Ze();at(J.userId===d.userId),b.push(Cu(d.R,J))});x.done()}).next(function(){return b})},a.prototype.getAllMutationBatchesAffectingDocumentKeys=function(s,l){var d=this,g=new $n(Je),y=[];return l.forEach(function(b){var C=ui.prefixForPath(d.userId,b.path),T=IDBKeyRange.lowerBound(C),x=hc(s).$t({range:T},function(N,V,q){var ee=N[0],re=N[2],Ie=Pr(N[1]);ee===d.userId&&b.path.isEqual(Ie)?g=g.add(re):q.done()});y.push(x)}),we.waitFor(y).next(function(){return d.Wt(s,g)})},a.prototype.getAllMutationBatchesAffectingQuery=function(s,l){var d=this,g=l.path,y=g.length+1,b=ui.prefixForPath(this.userId,g),C=IDBKeyRange.lowerBound(b),T=new $n(Je);return hc(s).$t({range:C},function(x,N,V){var q=x[0],J=x[2],re=Pr(x[1]);q===d.userId&&g.isPrefixOf(re)?re.length===y&&(T=T.add(J)):V.done()}).next(function(){return d.Wt(s,T)})},a.prototype.Wt=function(s,l){var d=this,g=[],y=[];return l.forEach(function(b){y.push(vi(s).get(b).next(function(C){if(null===C)throw Ze();at(C.userId===d.userId),g.push(Cu(d.R,C))}))}),we.waitFor(y).next(function(){return g})},a.prototype.removeMutationBatch=function(s,l){var d=this;return Em(s.Mt,this.userId,l).next(function(g){return s.addOnCommittedListener(function(){d.Gt(l.batchId)}),we.forEach(g,function(y){return d.referenceDelegate.markPotentiallyOrphaned(s,y)})})},a.prototype.Gt=function(s){delete this.Kt[s]},a.prototype.performConsistencyCheck=function(s){var l=this;return this.checkEmpty(s).next(function(d){if(!d)return we.resolve();var g=IDBKeyRange.lowerBound(ui.prefixForUser(l.userId)),y=[];return hc(s).$t({range:g},function(b,C,T){if(b[0]===l.userId){var x=Pr(b[1]);y.push(x)}else T.done()}).next(function(){at(0===y.length)})})},a.prototype.containsKey=function(s,l){return ho(s,this.userId,l)},a.prototype.zt=function(s){var l=this;return Cm(s).get(this.userId).next(function(d){return d||new So(l.userId,-1,"")})},a}();function ho(a,s,l){var d=ui.prefixForPath(s,l.path),g=d[1],y=IDBKeyRange.lowerBound(d),b=!1;return hc(a).$t({range:y,Ft:!0},function(C,T,x){C[0]===s&&C[1]===g&&(b=!0),x.done()}).next(function(){return b})}function vi(a){return Kr(a,kn.store)}function hc(a){return Kr(a,ui.store)}function Cm(a){return Kr(a,So.store)}var nf=function(){function a(s){this.Ht=s}return a.prototype.next=function(){return this.Ht+=2,this.Ht},a.Jt=function(){return new a(0)},a.Yt=function(){return new a(-1)},a}(),Xv=function(){function a(s,l){this.referenceDelegate=s,this.R=l}return a.prototype.allocateTargetId=function(s){var l=this;return this.Xt(s).next(function(d){var g=new nf(d.highestTargetId);return d.highestTargetId=g.next(),l.Zt(s,d).next(function(){return d.highestTargetId})})},a.prototype.getLastRemoteSnapshotVersion=function(s){return this.Xt(s).next(function(l){return Et.fromTimestamp(new pi(l.lastRemoteSnapshotVersion.seconds,l.lastRemoteSnapshotVersion.nanoseconds))})},a.prototype.getHighestSequenceNumber=function(s){return this.Xt(s).next(function(l){return l.highestListenSequenceNumber})},a.prototype.setTargetsMetadata=function(s,l,d){var g=this;return this.Xt(s).next(function(y){return y.highestListenSequenceNumber=l,d&&(y.lastRemoteSnapshotVersion=d.toTimestamp()),l>y.highestListenSequenceNumber&&(y.highestListenSequenceNumber=l),g.Zt(s,y)})},a.prototype.addTargetData=function(s,l){var d=this;return this.te(s,l).next(function(){return d.Xt(s).next(function(g){return g.targetCount+=1,d.ee(l,g),d.Zt(s,g)})})},a.prototype.updateTargetData=function(s,l){return this.te(s,l)},a.prototype.removeTargetData=function(s,l){var d=this;return this.removeMatchingKeysForTargetId(s,l.targetId).next(function(){return hl(s).delete(l.targetId)}).next(function(){return d.Xt(s)}).next(function(g){return at(g.targetCount>0),g.targetCount-=1,d.Zt(s,g)})},a.prototype.removeTargets=function(s,l,d){var g=this,y=0,b=[];return hl(s).$t(function(C,T){var x=Ys(T);x.sequenceNumber<=l&&null===d.get(x.targetId)&&(y++,b.push(g.removeTargetData(s,x)))}).next(function(){return we.waitFor(b)}).next(function(){return y})},a.prototype.forEachTarget=function(s,l){return hl(s).$t(function(d,g){var y=Ys(g);l(y)})},a.prototype.Xt=function(s){return Dm(s).get(Yi.key).next(function(l){return at(null!==l),l})},a.prototype.Zt=function(s,l){return Dm(s).put(Yi.key,l)},a.prototype.te=function(s,l){return hl(s).put(wm(this.R,l))},a.prototype.ee=function(s,l){var d=!1;return s.targetId>l.highestTargetId&&(l.highestTargetId=s.targetId,d=!0),s.sequenceNumber>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=s.sequenceNumber,d=!0),d},a.prototype.getTargetCount=function(s){return this.Xt(s).next(function(l){return l.targetCount})},a.prototype.getTargetData=function(s,l){var d=da(l),g=IDBKeyRange.bound([d,Number.NEGATIVE_INFINITY],[d,Number.POSITIVE_INFINITY]),y=null;return hl(s).$t({range:g,index:Wr.queryTargetsIndexName},function(b,C,T){var x=Ys(C);Gr(l,x.target)&&(y=x,T.done())}).next(function(){return y})},a.prototype.addMatchingKeys=function(s,l,d){var g=this,y=[],b=ba(s);return l.forEach(function(C){var T=Ki(C.path);y.push(b.put(new Dr(d,T))),y.push(g.referenceDelegate.addReference(s,d,C))}),we.waitFor(y)},a.prototype.removeMatchingKeys=function(s,l,d){var g=this,y=ba(s);return we.forEach(l,function(b){var C=Ki(b.path);return we.waitFor([y.delete([d,C]),g.referenceDelegate.removeReference(s,d,b)])})},a.prototype.removeMatchingKeysForTargetId=function(s,l){var d=ba(s),g=IDBKeyRange.bound([l],[l+1],!1,!0);return d.delete(g)},a.prototype.getMatchingKeysForTargetId=function(s,l){var d=IDBKeyRange.bound([l],[l+1],!1,!0),g=ba(s),y=mn();return g.$t({range:d,Ft:!0},function(b,C,T){var x=Pr(b[1]),N=new fe(x);y=y.add(N)}).next(function(){return y})},a.prototype.containsKey=function(s,l){var d=Ki(l.path),g=IDBKeyRange.bound([d],[Hs(d)],!1,!0),y=0;return ba(s).$t({index:Dr.documentTargetsIndex,Ft:!0,range:g},function(b,C,T){0!==b[0]&&(y++,T.done())}).next(function(){return y>0})},a.prototype.lt=function(s,l){return hl(s).get(l).next(function(d){return d?Ys(d):null})},a}();function hl(a){return Kr(a,Wr.store)}function Dm(a){return Kr(a,Yi.store)}function ba(a){return Kr(a,Dr.store)}function dc(a){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){if(a.code!==se.FAILED_PRECONDITION||a.message!==Wd)throw a;return Ce("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Sm(a,s){var d=a[1],y=s[1],b=Je(a[0],s[0]);return 0===b?Je(d,y):b}var Zv=function(){function a(s){this.ne=s,this.buffer=new $n(Sm),this.se=0}return a.prototype.ie=function(){return++this.se},a.prototype.re=function(s){var l=[s,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(l);else{var d=this.buffer.last();Sm(l,d)<0&&(this.buffer=this.buffer.delete(d).add(l))}},Object.defineProperty(a.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),a}(),Jv=function(){function a(s,l){this.garbageCollector=s,this.asyncQueue=l,this.oe=!1,this.ce=null}return a.prototype.start=function(s){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(s)},a.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(a.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),a.prototype.ue=function(s){var l=this,d=this.oe?3e5:6e4;Ce("LruGarbageCollector","Garbage collection scheduled in "+d+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",d,function(){return(0,I.mG)(l,void 0,void 0,function(){var g;return(0,I.Jh)(this,function(y){switch(y.label){case 0:this.ce=null,this.oe=!0,y.label=1;case 1:return y.trys.push([1,3,,7]),[4,s.collectGarbage(this.garbageCollector)];case 2:return y.sent(),[3,7];case 3:return wu(g=y.sent())?(Ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",g),[3,6]):[3,4];case 4:return[4,dc(g)];case 5:y.sent(),y.label=6;case 6:return[3,7];case 7:return[4,this.ue(s)];case 8:return y.sent(),[2]}})})})},a}(),d_=function(){function a(s,l){this.ae=s,this.params=l}return a.prototype.calculateTargetCount=function(s,l){return this.ae.he(s).next(function(d){return Math.floor(l/100*d)})},a.prototype.nthSequenceNumber=function(s,l){var d=this;if(0===l)return we.resolve(qi.o);var g=new Zv(l);return this.ae.forEachTarget(s,function(y){return g.re(y.sequenceNumber)}).next(function(){return d.ae.le(s,function(y){return g.re(y)})}).next(function(){return g.maxValue})},a.prototype.removeTargets=function(s,l,d){return this.ae.removeTargets(s,l,d)},a.prototype.removeOrphanedDocuments=function(s,l){return this.ae.removeOrphanedDocuments(s,l)},a.prototype.collect=function(s,l){var d=this;return-1===this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(ef)):this.getCacheSize(s).next(function(g){return g<d.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector","Garbage collection skipped; Cache size "+g+" is lower than threshold "+d.params.cacheSizeCollectionThreshold),ef):d.fe(s,l)})},a.prototype.getCacheSize=function(s){return this.ae.getCacheSize(s)},a.prototype.fe=function(s,l){var d,g,y,b,C,T,x,N=this,V=Date.now();return this.calculateTargetCount(s,this.params.percentileToCollect).next(function(q){return q>N.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+N.params.maximumSequenceNumbersToCollect+" from "+q),g=N.params.maximumSequenceNumbersToCollect):g=q,b=Date.now(),N.nthSequenceNumber(s,g)}).next(function(q){return d=q,C=Date.now(),N.removeTargets(s,d,l)}).next(function(q){return y=q,T=Date.now(),N.removeOrphanedDocuments(s,d)}).next(function(q){return x=Date.now(),zr()<=it.in.DEBUG&&Ce("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(b-V)+"ms\n\tDetermined least recently used "+g+" in "+(C-b)+"ms\n\tRemoved "+y+" targets in "+(T-C)+"ms\n\tRemoved "+q+" documents in "+(x-T)+"ms\nTotal Duration: "+(x-V)+"ms"),we.resolve({didRun:!0,sequenceNumbersCollected:g,targetsRemoved:y,documentsRemoved:q})})},a}(),ey=function(){function a(s,l){this.db=s,this.garbageCollector=new d_(this,l)}return a.prototype.he=function(s){var l=this.de(s);return this.db.getTargetCache().getTargetCount(s).next(function(d){return l.next(function(g){return d+g})})},a.prototype.de=function(s){var l=0;return this.le(s,function(d){l++}).next(function(){return l})},a.prototype.forEachTarget=function(s,l){return this.db.getTargetCache().forEachTarget(s,l)},a.prototype.le=function(s,l){return this.we(s,function(d,g){return l(g)})},a.prototype.addReference=function(s,l,d){return Du(s,d)},a.prototype.removeReference=function(s,l,d){return Du(s,d)},a.prototype.removeTargets=function(s,l,d){return this.db.getTargetCache().removeTargets(s,l,d)},a.prototype.markPotentiallyOrphaned=function(s,l){return Du(s,l)},a.prototype._e=function(s,l){return g=l,y=!1,Cm(d=s).Ot(function(b){return ho(d,b,g).next(function(C){return C&&(y=!0),we.resolve(!C)})}).next(function(){return y});var d,g,y},a.prototype.removeOrphanedDocuments=function(s,l){var d=this,g=this.db.getRemoteDocumentCache().newChangeBuffer(),y=[],b=0;return this.we(s,function(C,T){if(T<=l){var x=d._e(s,C).next(function(N){if(!N)return b++,g.getEntry(s,C).next(function(){return g.removeEntry(C),ba(s).delete([0,Ki(C.path)])})});y.push(x)}}).next(function(){return we.waitFor(y)}).next(function(){return g.apply(s)}).next(function(){return b})},a.prototype.removeTarget=function(s,l){var d=l.withSequenceNumber(s.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(s,d)},a.prototype.updateLimboDocument=function(s,l){return Du(s,l)},a.prototype.we=function(s,l){var d,g=ba(s),y=qi.o;return g.$t({index:Dr.documentTargetsIndex},function(b,C){var x=C.path,N=C.sequenceNumber;0===b[0]?(y!==qi.o&&l(new fe(Pr(d)),y),y=N,d=x):y=qi.o}).next(function(){y!==qi.o&&l(new fe(Pr(d)),y)})},a.prototype.getCacheSize=function(s){return this.db.getRemoteDocumentCache().getSize(s)},a}();function Du(a,s){return ba(a).put((d=a.currentSequenceNumber,new Dr(0,Ki(s.path),d)));var d}var Su=function(){function a(s,l){this.mapKeyFn=s,this.equalsFn=l,this.inner={}}return a.prototype.get=function(s){var l=this.mapKeyFn(s),d=this.inner[l];if(void 0!==d)for(var g=0,y=d;g<y.length;g++){var b=y[g],T=b[1];if(this.equalsFn(b[0],s))return T}},a.prototype.has=function(s){return void 0!==this.get(s)},a.prototype.set=function(s,l){var d=this.mapKeyFn(s),g=this.inner[d];if(void 0!==g){for(var y=0;y<g.length;y++)if(this.equalsFn(g[y][0],s))return void(g[y]=[s,l]);g.push([s,l])}else this.inner[d]=[[s,l]]},a.prototype.delete=function(s){var l=this.mapKeyFn(s),d=this.inner[l];if(void 0===d)return!1;for(var g=0;g<d.length;g++)if(this.equalsFn(d[g][0],s))return 1===d.length?delete this.inner[l]:d.splice(g,1),!0;return!1},a.prototype.forEach=function(s){dn(this.inner,function(l,d){for(var g=0,y=d;g<y.length;g++){var b=y[g];s(b[0],b[1])}})},a.prototype.isEmpty=function(){return Id(this.inner)},a}(),Qo=function(){function a(){this.changes=new Su(function(s){return s.toString()},function(s,l){return s.isEqual(l)}),this.changesApplied=!1}return a.prototype.getReadTime=function(s){var l=this.changes.get(s);return l?l.readTime:Et.min()},a.prototype.addEntry=function(s,l){this.assertNotApplied(),this.changes.set(s.key,{document:s,readTime:l})},a.prototype.removeEntry=function(s,l){void 0===l&&(l=null),this.assertNotApplied(),this.changes.set(s,{document:Mi.newInvalidDocument(s),readTime:l})},a.prototype.getEntry=function(s,l){this.assertNotApplied();var d=this.changes.get(l);return void 0!==d?we.resolve(d.document):this.getFromCache(s,l)},a.prototype.getEntries=function(s,l){return this.getAllFromCache(s,l)},a.prototype.apply=function(s){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(s)},a.prototype.assertNotApplied=function(){},a}(),Mh=function(){function a(s,l){this.R=s,this.Ut=l}return a.prototype.addEntry=function(s,l,d){return wa(s).put(jp(l),d)},a.prototype.removeEntry=function(s,l){var d=wa(s),g=jp(l);return d.delete(g)},a.prototype.updateMetadata=function(s,l){var d=this;return this.getMetadata(s).next(function(g){return g.byteSize+=l,d.me(s,g)})},a.prototype.getEntry=function(s,l){var d=this;return wa(s).get(jp(l)).next(function(g){return d.ye(l,g)})},a.prototype.ge=function(s,l){var d=this;return wa(s).get(jp(l)).next(function(g){return{document:d.ye(l,g),size:tf(g)}})},a.prototype.getEntries=function(s,l){var d=this,g=rr();return this.pe(s,l,function(y,b){var C=d.ye(y,b);g=g.insert(y,C)}).next(function(){return g})},a.prototype.Ee=function(s,l){var d=this,g=rr(),y=new Rn(fe.comparator);return this.pe(s,l,function(b,C){var T=d.ye(b,C);g=g.insert(b,T),y=y.insert(b,tf(C))}).next(function(){return{documents:g,Te:y}})},a.prototype.pe=function(s,l,d){if(l.isEmpty())return we.resolve();var g=IDBKeyRange.bound(l.first().path.toArray(),l.last().path.toArray()),y=l.getIterator(),b=y.getNext();return wa(s).$t({range:g},function(C,T,x){for(var N=fe.fromSegments(C);b&&fe.comparator(b,N)<0;)d(b,null),b=y.getNext();b&&b.isEqual(N)&&(d(b,T),b=y.hasNext()?y.getNext():null),b?x.Ct(b.path.toArray()):x.done()}).next(function(){for(;b;)d(b,null),b=y.hasNext()?y.getNext():null})},a.prototype.getDocumentsMatchingQuery=function(s,l,d){var g=this,y=rr(),b=l.path.length+1,C={};if(d.isEqual(Et.min())){var T=l.path.toArray();C.range=IDBKeyRange.lowerBound(T)}else{var x=l.path.toArray(),N=Fp(d);C.range=IDBKeyRange.lowerBound([x,N],!0),C.index=Gn.collectionReadTimeIndex}return wa(s).$t(C,function(V,q,ee){if(V.length===b){var J=_a(g.R,q);l.path.isPrefixOf(J.key.path)?su(l,J)&&(y=y.insert(J.key,J)):ee.done()}}).next(function(){return y})},a.prototype.newChangeBuffer=function(s){return new Im(this,!!s&&s.trackRemovals)},a.prototype.getSize=function(s){return this.getMetadata(s).next(function(l){return l.byteSize})},a.prototype.getMetadata=function(s){return Lp(s).get(lo.key).next(function(l){return at(!!l),l})},a.prototype.me=function(s,l){return Lp(s).put(lo.key,l)},a.prototype.ye=function(s,l){if(l){var d=_a(this.R,l);if(!d.isNoDocument()||!d.version.isEqual(Et.min()))return d}return Mi.newInvalidDocument(s)},a}(),Im=function(a){function s(l,d){var g=this;return(g=a.call(this)||this).Ie=l,g.trackRemovals=d,g.Ae=new Su(function(y){return y.toString()},function(y,b){return y.isEqual(b)}),g}return(0,I.ZT)(s,a),s.prototype.applyChanges=function(l){var d=this,g=[],y=0,b=new $n(function(C,T){return Je(C.canonicalString(),T.canonicalString())});return this.changes.forEach(function(C,T){var x=d.Ae.get(C);if(T.document.isValidDocument()){var N=_m(d.Ie.R,T.document,d.getReadTime(C));b=b.add(C.path.popLast());var V=tf(N);y+=V-x,g.push(d.Ie.addEntry(l,C,N))}else if(y-=x,d.trackRemovals){var q=_m(d.Ie.R,Mi.newNoDocument(C,Et.min()),d.getReadTime(C));g.push(d.Ie.addEntry(l,C,q))}else g.push(d.Ie.removeEntry(l,C))}),b.forEach(function(C){g.push(d.Ie.Ut.addToCollectionParentIndex(l,C))}),g.push(this.Ie.updateMetadata(l,y)),we.waitFor(g)},s.prototype.getFromCache=function(l,d){var g=this;return this.Ie.ge(l,d).next(function(y){return g.Ae.set(d,y.size),y.document})},s.prototype.getAllFromCache=function(l,d){var g=this;return this.Ie.Ee(l,d).next(function(y){var b=y.documents;return y.Te.forEach(function(C,T){g.Ae.set(C,T)}),b})},s}(Qo);function Lp(a){return Kr(a,lo.store)}function wa(a){return Kr(a,Gn.store)}function jp(a){return a.path.toArray()}var f_=function(){function a(s){this.R=s}return a.prototype.Rt=function(s,l,d,g){var y=this;at(d<g&&d>=0&&g<=11);var T,b=new ir("createOrUpgrade",l);d<1&&g>=1&&(s.createObjectStore(Cr.store),(T=s).createObjectStore(So.store,{keyPath:So.keyPath}),T.createObjectStore(kn.store,{keyPath:kn.keyPath,autoIncrement:!0}).createIndex(kn.userMutationsIndex,kn.userMutationsKeyPath,{unique:!0}),T.createObjectStore(ui.store),ty(s),function(T){T.createObjectStore(Gn.store)}(s));var C=we.resolve();return d<3&&g>=3&&(0!==d&&(function(T){T.deleteObjectStore(Dr.store),T.deleteObjectStore(Wr.store),T.deleteObjectStore(Yi.store)}(s),ty(s)),C=C.next(function(){return function(T){var x=T.store(Yi.store),N=new Yi(0,0,Et.min().toTimestamp(),0);return x.put(Yi.key,N)}(b)})),d<4&&g>=4&&(0!==d&&(C=C.next(function(){return function(T,x){return x.store(kn.store).Nt().next(function(N){T.deleteObjectStore(kn.store),T.createObjectStore(kn.store,{keyPath:kn.keyPath,autoIncrement:!0}).createIndex(kn.userMutationsIndex,kn.userMutationsKeyPath,{unique:!0});var V=x.store(kn.store),q=N.map(function(ee){return V.put(ee)});return we.waitFor(q)})}(s,b)})),C=C.next(function(){!function(T){T.createObjectStore(Ks.store,{keyPath:Ks.keyPath})}(s)})),d<5&&g>=5&&(C=C.next(function(){return y.Re(b)})),d<6&&g>=6&&(C=C.next(function(){return function(T){T.createObjectStore(lo.store)}(s),y.be(b)})),d<7&&g>=7&&(C=C.next(function(){return y.ve(b)})),d<8&&g>=8&&(C=C.next(function(){return y.Pe(s,b)})),d<9&&g>=9&&(C=C.next(function(){(function(T){T.objectStoreNames.contains("remoteDocumentChanges")&&T.deleteObjectStore("remoteDocumentChanges")})(s),function(T){var x=T.objectStore(Gn.store);x.createIndex(Gn.readTimeIndex,Gn.readTimeIndexPath,{unique:!1}),x.createIndex(Gn.collectionReadTimeIndex,Gn.collectionReadTimeIndexPath,{unique:!1})}(l)})),d<10&&g>=10&&(C=C.next(function(){return y.Ve(b)})),d<11&&g>=11&&(C=C.next(function(){(function(T){T.createObjectStore(Es.store,{keyPath:Es.keyPath})})(s),function(T){T.createObjectStore(bu.store,{keyPath:bu.keyPath})}(s)})),C},a.prototype.be=function(s){var l=0;return s.store(Gn.store).$t(function(d,g){l+=tf(g)}).next(function(){var d=new lo(l);return s.store(lo.store).put(lo.key,d)})},a.prototype.Re=function(s){var l=this,d=s.store(So.store),g=s.store(kn.store);return d.Nt().next(function(y){return we.forEach(y,function(b){var C=IDBKeyRange.bound([b.userId,-1],[b.userId,b.lastAcknowledgedBatchId]);return g.Nt(kn.userMutationsIndex,C).next(function(T){return we.forEach(T,function(x){at(x.userId===b.userId);var N=Cu(l.R,x);return Em(s,b.userId,N).next(function(){})})})})})},a.prototype.ve=function(s){var l=s.store(Dr.store),d=s.store(Gn.store);return s.store(Yi.store).get(Yi.key).next(function(g){var y=[];return d.$t(function(b,C){var T=new rt(b),x=[0,Ki(T)];y.push(l.get(x).next(function(N){return N?we.resolve():l.put(new Dr(0,Ki(T),g.highestListenSequenceNumber))}))}).next(function(){return we.waitFor(y)})})},a.prototype.Pe=function(s,l){s.createObjectStore(ue.store,{keyPath:ue.keyPath});var d=l.store(ue.store),g=new Ah,y=function(b){if(g.add(b)){var C=b.lastSegment(),T=b.popLast();return d.put({collectionId:C,parent:Ki(T)})}};return l.store(Gn.store).$t({Ft:!0},function(b,C){var T=new rt(b);return y(T.popLast())}).next(function(){return l.store(ui.store).$t({Ft:!0},function(b,C){var x=Pr(b[1]);return y(x.popLast())})})},a.prototype.Ve=function(s){var l=this,d=s.store(Wr.store);return d.$t(function(g,y){var b=Ys(y),C=wm(l.R,b);return d.put(C)})},a}();function ty(a){a.createObjectStore(Dr.store,{keyPath:Dr.keyPath}).createIndex(Dr.documentTargetsIndex,Dr.documentTargetsKeyPath,{unique:!0}),a.createObjectStore(Wr.store,{keyPath:Wr.keyPath}).createIndex(Wr.queryTargetsIndexName,Wr.queryTargetsKeyPath,{unique:!0}),a.createObjectStore(Yi.store)}var dl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Bp=function(){function a(s,l,d,g,y,b,C,T,x,N){if(this.allowTabSynchronization=s,this.persistenceKey=l,this.clientId=d,this.Se=y,this.window=b,this.document=C,this.De=x,this.Ce=N,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(V){return Promise.resolve()},!a.yt())throw new me(se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ey(this,g),this.Le=l+"main",this.R=new Qd(T),this.Be=new cc(this.Le,11,new f_(this.R)),this.qe=new Xv(this.referenceDelegate,this.R),this.Ut=new Jd,this.Ue=new Mh(this.R,this.Ut),this.Ke=new h_,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===N&&wr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return a.prototype.start=function(){var s=this;return this.je().then(function(){if(!s.isPrimary&&!s.allowTabSynchronization)throw new me(se.FAILED_PRECONDITION,dl);return s.We(),s.Ge(),s.ze(),s.runTransaction("getHighestListenSequenceNumber","readonly",function(l){return s.qe.getHighestSequenceNumber(l)})}).then(function(l){s.Ne=new qi(l,s.De)}).then(function(){s.xe=!0}).catch(function(l){return s.Be&&s.Be.close(),Promise.reject(l)})},a.prototype.He=function(s){var l=this;return this.Me=function(d){return(0,I.mG)(l,void 0,void 0,function(){return(0,I.Jh)(this,function(g){return this.started?[2,s(d)]:[2]})})},s(this.isPrimary)},a.prototype.setDatabaseDeletedListener=function(s){var l=this;this.Be.vt(function(d){return(0,I.mG)(l,void 0,void 0,function(){return(0,I.Jh)(this,function(g){switch(g.label){case 0:return null===d.newVersion?[4,s()]:[3,2];case 1:g.sent(),g.label=2;case 2:return[2]}})})})},a.prototype.setNetworkEnabled=function(s){var l=this;this.networkEnabled!==s&&(this.networkEnabled=s,this.Se.enqueueAndForget(function(){return(0,I.mG)(l,void 0,void 0,function(){return(0,I.Jh)(this,function(d){switch(d.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})}))},a.prototype.je=function(){var s=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(l){return Vp(l).put(new Ks(s.clientId,Date.now(),s.networkEnabled,s.inForeground)).next(function(){if(s.isPrimary)return s.Je(l).next(function(d){d||(s.isPrimary=!1,s.Se.enqueueRetryable(function(){return s.Me(!1)}))})}).next(function(){return s.Ye(l)}).next(function(d){return s.isPrimary&&!d?s.Xe(l).next(function(){return!1}):!!d&&s.Ze(l).next(function(){return!0})})}).catch(function(l){if(wu(l))return Ce("IndexedDbPersistence","Failed to extend owner lease: ",l),s.isPrimary;if(!s.allowTabSynchronization)throw l;return Ce("IndexedDbPersistence","Releasing owner lease after error during lease refresh",l),!1}).then(function(l){s.isPrimary!==l&&s.Se.enqueueRetryable(function(){return s.Me(l)}),s.isPrimary=l})},a.prototype.Je=function(s){var l=this;return fc(s).get(Cr.key).next(function(d){return we.resolve(l.tn(d))})},a.prototype.en=function(s){return Vp(s).delete(this.clientId)},a.prototype.nn=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l,d,y=this;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(C){var T=Kr(C,Ks.store);return T.Nt().next(function(x){var N=y.rn(x,18e5),V=x.filter(function(q){return-1===N.indexOf(q)});return we.forEach(V,function(q){return T.delete(q.clientId)}).next(function(){return V})})}).catch(function(){return[]})]);case 1:if(s=b.sent(),this.Qe)for(l=0,d=s;l<d.length;l++)this.Qe.removeItem(this.on(d[l].clientId));b.label=2;case 2:return[2]}})})},a.prototype.ze=function(){var s=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return s.je().then(function(){return s.nn()}).then(function(){return s.ze()})})},a.prototype.tn=function(s){return!!s&&s.ownerId===this.clientId},a.prototype.Ye=function(s){var l=this;return this.Ce?we.resolve(!0):fc(s).get(Cr.key).next(function(d){if(null!==d&&l.sn(d.leaseTimestampMs,5e3)&&!l.cn(d.ownerId)){if(l.tn(d)&&l.networkEnabled)return!0;if(!l.tn(d)){if(!d.allowTabSynchronization)throw new me(se.FAILED_PRECONDITION,dl);return!1}}return!(!l.networkEnabled||!l.inForeground)||Vp(s).Nt().next(function(g){return void 0===l.rn(g,5e3).find(function(y){return!(l.clientId===y.clientId||!(!l.networkEnabled&&y.networkEnabled||!l.inForeground&&y.inForeground&&l.networkEnabled===y.networkEnabled))})})}).next(function(d){return l.isPrimary!==d&&Ce("IndexedDbPersistence","Client "+(d?"is":"is not")+" eligible for a primary lease."),d})},a.prototype.shutdown=function(){return(0,I.mG)(this,void 0,void 0,function(){var s=this;return(0,I.Jh)(this,function(l){switch(l.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Cr.store,Ks.store],function(d){var g=new Pp(d,qi.o);return s.Xe(g).next(function(){return s.en(g)})})];case 1:return l.sent(),this.Be.close(),this.ln(),[2]}})})},a.prototype.rn=function(s,l){var d=this;return s.filter(function(g){return d.sn(g.updateTimeMs,l)&&!d.cn(g.clientId)})},a.prototype.fn=function(){var s=this;return this.runTransaction("getActiveClients","readonly",function(l){return Vp(l).Nt().next(function(d){return s.rn(d,18e5).map(function(g){return g.clientId})})})},Object.defineProperty(a.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),a.prototype.getMutationQueue=function(s){return Qv.Qt(s,this.R,this.Ut,this.referenceDelegate)},a.prototype.getTargetCache=function(){return this.qe},a.prototype.getRemoteDocumentCache=function(){return this.Ue},a.prototype.getIndexManager=function(){return this.Ut},a.prototype.getBundleCache=function(){return this.Ke},a.prototype.runTransaction=function(s,l,d){var y,g=this;return Ce("IndexedDbPersistence","Starting transaction:",s),this.Be.runTransaction(s,"readonly"===l?"readonly":"readwrite",Ch,function(C){return y=new Pp(C,g.Ne?g.Ne.next():qi.o),"readwrite-primary"===l?g.Je(y).next(function(T){return!!T||g.Ye(y)}).next(function(T){if(!T)throw wr("Failed to obtain primary lease for action '"+s+"'."),g.isPrimary=!1,g.Se.enqueueRetryable(function(){return g.Me(!1)}),new me(se.FAILED_PRECONDITION,Wd);return d(y)}).next(function(T){return g.Ze(y).next(function(){return T})}):g.dn(y).next(function(){return d(y)})}).then(function(C){return y.raiseOnCommittedEvent(),C})},a.prototype.dn=function(s){var l=this;return fc(s).get(Cr.key).next(function(d){if(null!==d&&l.sn(d.leaseTimestampMs,5e3)&&!l.cn(d.ownerId)&&!l.tn(d)&&!(l.Ce||l.allowTabSynchronization&&d.allowTabSynchronization))throw new me(se.FAILED_PRECONDITION,dl)})},a.prototype.Ze=function(s){var l=new Cr(this.clientId,this.allowTabSynchronization,Date.now());return fc(s).put(Cr.key,l)},a.yt=function(){return cc.yt()},a.prototype.Xe=function(s){var l=this,d=fc(s);return d.get(Cr.key).next(function(g){return l.tn(g)?(Ce("IndexedDbPersistence","Releasing primary lease."),d.delete(Cr.key)):we.resolve()})},a.prototype.sn=function(s,l){var d=Date.now();return!(s<d-l||s>d&&(wr("Detected an update time that is in the future: "+s+" > "+d),1))},a.prototype.We=function(){var s=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){s.Se.enqueueAndForget(function(){return s.inForeground="visible"===s.document.visibilityState,s.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},a.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},a.prototype.Ge=function(){var s,l=this;"function"==typeof(null===(s=this.window)||void 0===s?void 0:s.addEventListener)&&(this.ke=function(){l.un(),(0,Ge.G6)()&&navigator.appVersion.match("Version/14")&&l.Se.enterRestrictedMode(!0),l.Se.enqueueAndForget(function(){return l.shutdown()})},this.window.addEventListener("pagehide",this.ke))},a.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},a.prototype.cn=function(s){var l;try{var d=null!==(null===(l=this.Qe)||void 0===l?void 0:l.getItem(this.on(s)));return Ce("IndexedDbPersistence","Client '"+s+"' "+(d?"is":"is not")+" zombied in LocalStorage"),d}catch(g){return wr("IndexedDbPersistence","Failed to get zombied client id.",g),!1}},a.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(s){wr("Failed to set zombie client id.",s)}},a.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(s){}},a.prototype.on=function(s){return"firestore_zombie_"+this.persistenceKey+"_"+s},a}();function fc(a){return Kr(a,Cr.store)}function Vp(a){return Kr(a,Ks.store)}function Tm(a,s){var l=a.projectId;return a.isDefaultDatabase||(l+="."+a.database),"firestore/"+s+"/"+l+"/"}var qt=function(a,s){this.progress=a,this.wn=s},Up=function(){function a(s,l,d){this.Ue=s,this._n=l,this.Ut=d}return a.prototype.mn=function(s,l){var d=this;return this._n.getAllMutationBatchesAffectingDocumentKey(s,l).next(function(g){return d.yn(s,l,g)})},a.prototype.yn=function(s,l,d){return this.Ue.getEntry(s,l).next(function(g){for(var y=0,b=d;y<b.length;y++)b[y].applyToLocalView(g);return g})},a.prototype.gn=function(s,l){s.forEach(function(d,g){for(var y=0,b=l;y<b.length;y++)b[y].applyToLocalView(g)})},a.prototype.pn=function(s,l){var d=this;return this.Ue.getEntries(s,l).next(function(g){return d.En(s,g).next(function(){return g})})},a.prototype.En=function(s,l){var d=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(s,l).next(function(g){return d.gn(l,g)})},a.prototype.getDocumentsMatchingQuery=function(s,l,d){return fe.isDocumentKey((g=l).path)&&null===g.collectionGroup&&0===g.filters.length?this.Tn(s,l.path):Do(l)?this.In(s,l,d):this.An(s,l,d);var g},a.prototype.Tn=function(s,l){return this.mn(s,new fe(l)).next(function(d){var g=il();return d.isFoundDocument()&&(g=g.insert(d.key,d)),g})},a.prototype.In=function(s,l,d){var g=this,y=l.collectionGroup,b=il();return this.Ut.getCollectionParents(s,y).next(function(C){return we.forEach(C,function(T){var N,V,x=(N=l,V=T.child(y),new Go(V,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt));return g.An(s,x,d).next(function(N){N.forEach(function(V,q){b=b.insert(V,q)})})}).next(function(){return b})})},a.prototype.An=function(s,l,d){var g,y,b=this;return this.Ue.getDocumentsMatchingQuery(s,l,d).next(function(C){return g=C,b._n.getAllMutationBatchesAffectingQuery(s,l)}).next(function(C){return b.Rn(s,y=C,g).next(function(T){g=T;for(var x=0,N=y;x<N.length;x++)for(var V=N[x],q=0,ee=V.mutations;q<ee.length;q++){var J=ee[q],re=J.key,Ie=g.get(re);null==Ie&&(Ie=Mi.newInvalidDocument(re),g=g.insert(re,Ie)),ys(J,Ie,V.localWriteTime),Ie.isFoundDocument()||(g=g.remove(re))}})}).next(function(){return g.forEach(function(C,T){su(l,T)||(g=g.remove(C))}),g})},a.prototype.Rn=function(s,l,d){for(var g=mn(),y=0,b=l;y<b.length;y++)for(var C=0,T=b[y].mutations;C<T.length;C++){var x=T[C];x instanceof Er&&null===d.get(x.key)&&(g=g.add(x.key))}var N=d;return this.Ue.getEntries(s,g).next(function(V){return V.forEach(function(q,ee){ee.isFoundDocument()&&(N=N.insert(q,ee))}),N})},a}(),Hp=function(){function a(s,l,d,g){this.targetId=s,this.fromCache=l,this.bn=d,this.vn=g}return a.Pn=function(s,l){for(var d=mn(),g=mn(),y=0,b=l.docChanges;y<b.length;y++){var C=b[y];switch(C.type){case 0:d=d.add(C.doc.key);break;case 1:g=g.add(C.doc.key)}}return new a(s,l.fromCache,d,g)},a}(),Am=function(){function a(){}return a.prototype.Vn=function(s){this.Sn=s},a.prototype.getDocumentsMatchingQuery=function(s,l,d,g){var b,y=this;return 0===(b=l).filters.length&&null===b.limit&&null==b.startAt&&null==b.endAt&&(0===b.explicitOrderBy.length||1===b.explicitOrderBy.length&&b.explicitOrderBy[0].field.isKeyField())||d.isEqual(Et.min())?this.Dn(s,l):this.Sn.pn(s,g).next(function(b){var C=y.Cn(l,b);return(ou(l)||lh(l))&&y.Nn(l.limitType,C,g,d)?y.Dn(s,l):(zr()<=it.in.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),Xc(l)),y.Sn.getDocumentsMatchingQuery(s,l,d).next(function(T){return C.forEach(function(x){T=T.insert(x.key,x)}),T}))})},a.prototype.Cn=function(s,l){var d=new $n(Zc(s));return l.forEach(function(g,y){su(s,y)&&(d=d.add(y))}),d},a.prototype.Nn=function(s,l,d,g){if(d.size!==l.size)return!0;var y="F"===s?l.last():l.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(g)>0)},a.prototype.Dn=function(s,l){return zr()<=it.in.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Xc(l)),this.Sn.getDocumentsMatchingQuery(s,l,Et.min())},a}(),ny=function(){function a(s,l,d,g){this.persistence=s,this.xn=l,this.R=g,this.kn=new Rn(Je),this.Fn=new Su(function(y){return da(y)},Gr),this.$n=Et.min(),this._n=s.getMutationQueue(d),this.On=s.getRemoteDocumentCache(),this.qe=s.getTargetCache(),this.Mn=new Up(this.On,this._n,this.persistence.getIndexManager()),this.Ke=s.getBundleCache(),this.xn.Vn(this.Mn)}return a.prototype.collectGarbage=function(s){var l=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(d){return s.collect(d,l.kn)})},a}();function qp(a,s,l,d){return new ny(a,s,l,d)}function Rh(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d,g,y;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return l=je(a),d=l._n,g=l.Mn,[4,l.persistence.runTransaction("Handle user change","readonly",function(C){var T;return l._n.getAllMutationBatches(C).next(function(x){return T=x,d=l.persistence.getMutationQueue(s),g=new Up(l.On,d,l.persistence.getIndexManager()),d.getAllMutationBatches(C)}).next(function(x){for(var N=[],V=[],q=mn(),ee=0,J=T;ee<J.length;ee++){var re=J[ee];N.push(re.batchId);for(var Ie=0,Pe=re.mutations;Ie<Pe.length;Ie++)q=q.add(Pe[Ie].key)}for(var lt=0,$t=x;lt<$t.length;lt++){var pn=$t[lt];V.push(pn.batchId);for(var Fn=0,Qi=pn.mutations;Fn<Qi.length;Fn++)q=q.add(Qi[Fn].key)}return g.pn(C,q).next(function(Xf){return{Ln:Xf,removedBatchIds:N,addedBatchIds:V}})})})];case 1:return y=b.sent(),[2,(l._n=d,l.Mn=g,l.xn.Vn(l.Mn),y)]}})})}function Mm(a,s){var l=je(a);return l.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(d){var b,C,T,x,N,V,q,g=s.batch.keys(),y=l.On.newChangeBuffer({trackRemovals:!0});return(b=l,C=d,T=s,x=y,N=T.batch,V=N.keys(),q=we.resolve(),V.forEach(function(ee){q=q.next(function(){return x.getEntry(C,ee)}).next(function(J){var re=T.docVersions.get(ee);at(null!==re),J.version.compareTo(re)<0&&(N.applyToRemoteDocument(J,T),J.isValidDocument()&&x.addEntry(J,T.commitVersion))})}),q.next(function(){return b._n.removeMutationBatch(C,N)})).next(function(){return y.apply(d)}).next(function(){return l._n.performConsistencyCheck(d)}).next(function(){return l.Mn.pn(d,g)})})}function rf(a){var s=je(a);return s.persistence.runTransaction("Get last remote snapshot version","readonly",function(l){return s.qe.getLastRemoteSnapshotVersion(l)})}function ry(a,s){var l=je(a),d=s.snapshotVersion,g=l.kn;return l.persistence.runTransaction("Apply remote event","readwrite-primary",function(y){var b=l.On.newChangeBuffer({trackRemovals:!0});g=l.kn;var C=[];s.targetChanges.forEach(function(N,V){var re,Ie,Pe,q=g.get(V);if(q){C.push(l.qe.removeMatchingKeys(y,N.removedDocuments,V).next(function(){return l.qe.addMatchingKeys(y,N.addedDocuments,V)}));var ee=N.resumeToken;if(ee.approximateByteSize()>0){var J=q.withResumeToken(ee,d).withSequenceNumber(y.currentSequenceNumber);g=g.insert(V,J),re=q,Pe=N,at((Ie=J).resumeToken.approximateByteSize()>0),(0===re.resumeToken.approximateByteSize()||Ie.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=3e8||Pe.addedDocuments.size+Pe.modifiedDocuments.size+Pe.removedDocuments.size>0)&&C.push(l.qe.updateTargetData(y,J))}}});var T=rr();if(s.documentUpdates.forEach(function(N,V){s.resolvedLimboDocuments.has(N)&&C.push(l.persistence.referenceDelegate.updateLimboDocument(y,N))}),C.push(Jt(y,b,s.documentUpdates,d,void 0).next(function(N){T=N})),!d.isEqual(Et.min())){var x=l.qe.getLastRemoteSnapshotVersion(y).next(function(N){return l.qe.setTargetsMetadata(y,y.currentSequenceNumber,d)});C.push(x)}return we.waitFor(C).next(function(){return b.apply(y)}).next(function(){return l.Mn.En(y,T)}).next(function(){return T})}).then(function(y){return l.kn=g,y})}function Jt(a,s,l,d,g){var y=mn();return l.forEach(function(b){return y=y.add(b)}),s.getEntries(a,y).next(function(b){var C=rr();return l.forEach(function(T,x){var N=b.get(T),V=(null==g?void 0:g.get(T))||d;x.isNoDocument()&&x.version.isEqual(Et.min())?(s.removeEntry(T,V),C=C.insert(T,x)):!N.isValidDocument()||x.version.compareTo(N.version)>0||0===x.version.compareTo(N.version)&&N.hasPendingWrites?(s.addEntry(x,V),C=C.insert(T,x)):Ce("LocalStore","Ignoring outdated watch update for ",T,". Current version:",N.version," Watch version:",x.version)}),C})}function iy(a,s){var l=je(a);return l.persistence.runTransaction("Get next mutation batch","readonly",function(d){return void 0===s&&(s=-1),l._n.getNextMutationBatchAfterBatchId(d,s)})}function pc(a,s){var l=je(a);return l.persistence.runTransaction("Allocate target","readwrite",function(d){var g;return l.qe.getTargetData(d,s).next(function(y){return y?we.resolve(g=y):l.qe.allocateTargetId(d).next(function(b){return g=new Np(s,b,0,d.currentSequenceNumber),l.qe.addTargetData(d,g).next(function(){return g})})})}).then(function(d){var g=l.kn.get(d.targetId);return(null===g||d.snapshotVersion.compareTo(g.snapshotVersion)>0)&&(l.kn=l.kn.insert(d.targetId,d),l.Fn.set(s,d.targetId)),d})}function Ds(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var d,g,y,b;return(0,I.Jh)(this,function(C){switch(C.label){case 0:d=je(a),g=d.kn.get(s),y=l?"readwrite":"readwrite-primary",C.label=1;case 1:return C.trys.push([1,4,,5]),l?[3,3]:[4,d.persistence.runTransaction("Release target",y,function(T){return d.persistence.referenceDelegate.removeTarget(T,g)})];case 2:C.sent(),C.label=3;case 3:return[3,5];case 4:if(!wu(b=C.sent()))throw b;return Ce("LocalStore","Failed to update sequence numbers for target "+s+": "+b),[3,5];case 5:return d.kn=d.kn.remove(s),d.Fn.delete(g.target),[2]}})})}function gc(a,s,l){var d=je(a),g=Et.min(),y=mn();return d.persistence.runTransaction("Execute query","readonly",function(b){return(C=d,T=b,x=Ri(s),N=je(C),V=N.Fn.get(x),void 0!==V?we.resolve(N.kn.get(V)):N.qe.getTargetData(T,x)).next(function(C){if(C)return g=C.lastLimboFreeSnapshotVersion,d.qe.getMatchingKeysForTargetId(b,C.targetId).next(function(T){y=T})}).next(function(){return d.xn.getDocumentsMatchingQuery(b,s,l?g:Et.min(),l?y:mn())}).next(function(C){return{documents:C,Bn:y}});var C,T,x,N,V})}function zp(a,s){var l=je(a),d=je(l.qe),g=l.kn.get(s);return g?Promise.resolve(g.target):l.persistence.runTransaction("Get target data","readonly",function(y){return d.lt(y,s).next(function(b){return b?b.target:null})})}function $p(a){var s=je(a);return s.persistence.runTransaction("Get new document changes","readonly",function(l){return g=l,y=s.$n,b=je(s.On),C=rr(),T=Fp(y),x=wa(g),N=IDBKeyRange.lowerBound(T,!0),x.$t({index:Gn.readTimeIndex,range:N},function(V,q){var ee=_a(b.R,q);C=C.insert(ee.key,ee),T=q.readTime}).next(function(){return{wn:C,readTime:bm(T)}});var g,y,b,C,T,x,N}).then(function(l){var d=l.wn;return s.$n=l.readTime,d})}function Rm(a){return(0,I.mG)(this,void 0,void 0,function(){var s;return(0,I.Jh)(this,function(l){return[2,(s=je(a)).persistence.runTransaction("Synchronize last document change read time","readonly",function(d){return y=wa(d),b=Et.min(),y.$t({index:Gn.readTimeIndex,reverse:!0},function(C,T,x){T.readTime&&(b=bm(T.readTime)),x.done()}).next(function(){return b});var y,b}).then(function(d){s.$n=d})]})})}function km(a,s,l,d){return(0,I.mG)(this,void 0,void 0,function(){var g,y,b,C,T,x,N,V,q,ee;return(0,I.Jh)(this,function(J){switch(J.label){case 0:for(g=je(a),y=mn(),b=rr(),C=mi(),T=0,x=l;T<x.length;T++)V=s.qn((N=x[T]).metadata.name),N.document&&(y=y.add(V)),b=b.insert(V,s.Un(N)),C=C.insert(V,s.Kn(N.metadata.readTime));return q=g.On.newChangeBuffer({trackRemovals:!0}),[4,pc(g,(re=d,Ri(sc(rt.fromString("__bundle__/docs/"+re)))))];case 1:return ee=J.sent(),[2,g.persistence.runTransaction("Apply bundle documents","readwrite",function(re){return Jt(re,q,b,Et.min(),C).next(function(Ie){return q.apply(re),Ie}).next(function(Ie){return g.qe.removeMatchingKeysForTargetId(re,ee.targetId).next(function(){return g.qe.addMatchingKeys(re,y,ee.targetId)}).next(function(){return g.Mn.En(re,Ie)}).next(function(){return Ie})})})]}var re})})}function kh(a,s,l){return void 0===l&&(l=mn()),(0,I.mG)(this,void 0,void 0,function(){var d,g;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return[4,pc(a,Ri(Xd(s.bundledQuery)))];case 1:return d=y.sent(),[2,(g=je(a)).persistence.runTransaction("Save named query","readwrite",function(b){var C=ur(s.readTime);if(d.snapshotVersion.compareTo(C)>=0)return g.Ke.saveNamedQuery(b,s);var T=d.withResumeToken(Mn.EMPTY_BYTE_STRING,C);return g.kn=g.kn.insert(T.targetId,T),g.qe.updateTargetData(b,T).next(function(){return g.qe.removeMatchingKeysForTargetId(b,d.targetId)}).next(function(){return g.qe.addMatchingKeys(b,l,d.targetId)}).next(function(){return g.Ke.saveNamedQuery(b,s)})})]}})})}var p_=function(){function a(s){this.R=s,this.Qn=new Map,this.jn=new Map}return a.prototype.getBundleMetadata=function(s,l){return we.resolve(this.Qn.get(l))},a.prototype.saveBundleMetadata=function(s,l){var d;return this.Qn.set(l.id,{id:(d=l).id,version:d.version,createTime:ur(d.createTime)}),we.resolve()},a.prototype.getNamedQuery=function(s,l){return we.resolve(this.jn.get(l))},a.prototype.saveNamedQuery=function(s,l){return this.jn.set(l.name,{name:(d=l).name,query:Xd(d.bundledQuery),readTime:ur(d.readTime)}),we.resolve();var d},a}(),Om=function(){function a(){this.Wn=new $n(cr.Gn),this.zn=new $n(cr.Hn)}return a.prototype.isEmpty=function(){return this.Wn.isEmpty()},a.prototype.addReference=function(s,l){var d=new cr(s,l);this.Wn=this.Wn.add(d),this.zn=this.zn.add(d)},a.prototype.Jn=function(s,l){var d=this;s.forEach(function(g){return d.addReference(g,l)})},a.prototype.removeReference=function(s,l){this.Yn(new cr(s,l))},a.prototype.Xn=function(s,l){var d=this;s.forEach(function(g){return d.removeReference(g,l)})},a.prototype.Zn=function(s){var l=this,d=new fe(new rt([])),g=new cr(d,s),y=new cr(d,s+1),b=[];return this.zn.forEachInRange([g,y],function(C){l.Yn(C),b.push(C.key)}),b},a.prototype.ts=function(){var s=this;this.Wn.forEach(function(l){return s.Yn(l)})},a.prototype.Yn=function(s){this.Wn=this.Wn.delete(s),this.zn=this.zn.delete(s)},a.prototype.es=function(s){var l=new fe(new rt([])),d=new cr(l,s),g=new cr(l,s+1),y=mn();return this.zn.forEachInRange([d,g],function(b){y=y.add(b.key)}),y},a.prototype.containsKey=function(s){var l=new cr(s,0),d=this.Wn.firstAfterOrEqual(l);return null!==d&&s.isEqual(d.key)},a}(),cr=function(){function a(s,l){this.key=s,this.ns=l}return a.Gn=function(s,l){return fe.comparator(s.key,l.key)||Je(s.ns,l.ns)},a.Hn=function(s,l){return Je(s.ns,l.ns)||fe.comparator(s.key,l.key)},a}(),ki=function(){function a(s,l){this.Ut=s,this.referenceDelegate=l,this._n=[],this.ss=1,this.rs=new $n(cr.Gn)}return a.prototype.checkEmpty=function(s){return we.resolve(0===this._n.length)},a.prototype.addMutationBatch=function(s,l,d,g){var y=this.ss;this.ss++;var b=new Eu(y,l,d,g);this._n.push(b);for(var C=0,T=g;C<T.length;C++){var x=T[C];this.rs=this.rs.add(new cr(x.key,y)),this.Ut.addToCollectionParentIndex(s,x.key.path.popLast())}return we.resolve(b)},a.prototype.lookupMutationBatch=function(s,l){return we.resolve(this.os(l))},a.prototype.getNextMutationBatchAfterBatchId=function(s,l){var g=this.cs(l+1),y=g<0?0:g;return we.resolve(this._n.length>y?this._n[y]:null)},a.prototype.getHighestUnacknowledgedBatchId=function(){return we.resolve(0===this._n.length?-1:this.ss-1)},a.prototype.getAllMutationBatches=function(s){return we.resolve(this._n.slice())},a.prototype.getAllMutationBatchesAffectingDocumentKey=function(s,l){var d=this,g=new cr(l,0),y=new cr(l,Number.POSITIVE_INFINITY),b=[];return this.rs.forEachInRange([g,y],function(C){var T=d.os(C.ns);b.push(T)}),we.resolve(b)},a.prototype.getAllMutationBatchesAffectingDocumentKeys=function(s,l){var d=this,g=new $n(Je);return l.forEach(function(y){var b=new cr(y,0),C=new cr(y,Number.POSITIVE_INFINITY);d.rs.forEachInRange([b,C],function(T){g=g.add(T.ns)})}),we.resolve(this.us(g))},a.prototype.getAllMutationBatchesAffectingQuery=function(s,l){var d=l.path,g=d.length+1,y=d;fe.isDocumentKey(y)||(y=y.child(""));var b=new cr(new fe(y),0),C=new $n(Je);return this.rs.forEachWhile(function(T){var x=T.key.path;return!!d.isPrefixOf(x)&&(x.length===g&&(C=C.add(T.ns)),!0)},b),we.resolve(this.us(C))},a.prototype.us=function(s){var l=this,d=[];return s.forEach(function(g){var y=l.os(g);null!==y&&d.push(y)}),d},a.prototype.removeMutationBatch=function(s,l){var d=this;at(0===this.hs(l.batchId,"removed")),this._n.shift();var g=this.rs;return we.forEach(l.mutations,function(y){var b=new cr(y.key,l.batchId);return g=g.delete(b),d.referenceDelegate.markPotentiallyOrphaned(s,y.key)}).next(function(){d.rs=g})},a.prototype.Gt=function(s){},a.prototype.containsKey=function(s,l){var d=new cr(l,0),g=this.rs.firstAfterOrEqual(d);return we.resolve(l.isEqual(g&&g.key))},a.prototype.performConsistencyCheck=function(s){return we.resolve()},a.prototype.hs=function(s,l){return this.cs(s)},a.prototype.cs=function(s){return 0===this._n.length?0:s-this._n[0].batchId},a.prototype.os=function(s){var l=this.cs(s);return l<0||l>=this._n.length?null:this._n[l]},a}(),sf=function(){function a(s,l){this.Ut=s,this.ls=l,this.docs=new Rn(fe.comparator),this.size=0}return a.prototype.addEntry=function(s,l,d){var g=l.key,y=this.docs.get(g),b=y?y.size:0,C=this.ls(l);return this.docs=this.docs.insert(g,{document:l.clone(),size:C,readTime:d}),this.size+=C-b,this.Ut.addToCollectionParentIndex(s,g.path.popLast())},a.prototype.removeEntry=function(s){var l=this.docs.get(s);l&&(this.docs=this.docs.remove(s),this.size-=l.size)},a.prototype.getEntry=function(s,l){var d=this.docs.get(l);return we.resolve(d?d.document.clone():Mi.newInvalidDocument(l))},a.prototype.getEntries=function(s,l){var d=this,g=rr();return l.forEach(function(y){var b=d.docs.get(y);g=g.insert(y,b?b.document.clone():Mi.newInvalidDocument(y))}),we.resolve(g)},a.prototype.getDocumentsMatchingQuery=function(s,l,d){for(var g=rr(),y=new fe(l.path.child("")),b=this.docs.getIteratorFrom(y);b.hasNext();){var C=b.getNext(),x=C.value,N=x.document,V=x.readTime;if(!l.path.isPrefixOf(C.key.path))break;V.compareTo(d)<=0||su(l,N)&&(g=g.insert(N.key,N.clone()))}return we.resolve(g)},a.prototype.fs=function(s,l){return we.forEach(this.docs,function(d){return l(d)})},a.prototype.newChangeBuffer=function(s){return new xm(this)},a.prototype.getSize=function(s){return we.resolve(this.size)},a}(),xm=function(a){function s(l){var d=this;return(d=a.call(this)||this).Ie=l,d}return(0,I.ZT)(s,a),s.prototype.applyChanges=function(l){var d=this,g=[];return this.changes.forEach(function(y,b){b.document.isValidDocument()?g.push(d.Ie.addEntry(l,b.document,d.getReadTime(y))):d.Ie.removeEntry(y)}),we.waitFor(g)},s.prototype.getFromCache=function(l,d){return this.Ie.getEntry(l,d)},s.prototype.getAllFromCache=function(l,d){return this.Ie.getEntries(l,d)},s}(Qo),Gp=function(){function a(s){this.persistence=s,this.ds=new Su(function(l){return da(l)},Gr),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ws=0,this._s=new Om,this.targetCount=0,this.ys=nf.Jt()}return a.prototype.forEachTarget=function(s,l){return this.ds.forEach(function(d,g){return l(g)}),we.resolve()},a.prototype.getLastRemoteSnapshotVersion=function(s){return we.resolve(this.lastRemoteSnapshotVersion)},a.prototype.getHighestSequenceNumber=function(s){return we.resolve(this.ws)},a.prototype.allocateTargetId=function(s){return this.highestTargetId=this.ys.next(),we.resolve(this.highestTargetId)},a.prototype.setTargetsMetadata=function(s,l,d){return d&&(this.lastRemoteSnapshotVersion=d),l>this.ws&&(this.ws=l),we.resolve()},a.prototype.te=function(s){this.ds.set(s.target,s);var l=s.targetId;l>this.highestTargetId&&(this.ys=new nf(l),this.highestTargetId=l),s.sequenceNumber>this.ws&&(this.ws=s.sequenceNumber)},a.prototype.addTargetData=function(s,l){return this.te(l),this.targetCount+=1,we.resolve()},a.prototype.updateTargetData=function(s,l){return this.te(l),we.resolve()},a.prototype.removeTargetData=function(s,l){return this.ds.delete(l.target),this._s.Zn(l.targetId),this.targetCount-=1,we.resolve()},a.prototype.removeTargets=function(s,l,d){var g=this,y=0,b=[];return this.ds.forEach(function(C,T){T.sequenceNumber<=l&&null===d.get(T.targetId)&&(g.ds.delete(C),b.push(g.removeMatchingKeysForTargetId(s,T.targetId)),y++)}),we.waitFor(b).next(function(){return y})},a.prototype.getTargetCount=function(s){return we.resolve(this.targetCount)},a.prototype.getTargetData=function(s,l){var d=this.ds.get(l)||null;return we.resolve(d)},a.prototype.addMatchingKeys=function(s,l,d){return this._s.Jn(l,d),we.resolve()},a.prototype.removeMatchingKeys=function(s,l,d){this._s.Xn(l,d);var g=this.persistence.referenceDelegate,y=[];return g&&l.forEach(function(b){y.push(g.markPotentiallyOrphaned(s,b))}),we.waitFor(y)},a.prototype.removeMatchingKeysForTargetId=function(s,l){return this._s.Zn(l),we.resolve()},a.prototype.getMatchingKeysForTargetId=function(s,l){var d=this._s.es(l);return we.resolve(d)},a.prototype.containsKey=function(s,l){return we.resolve(this._s.containsKey(l))},a}(),yi=function(){function a(s,l){var d=this;this.gs={},this.Ne=new qi(0),this.xe=!1,this.xe=!0,this.referenceDelegate=s(this),this.qe=new Gp(this),this.Ut=new Zd,this.Ue=new sf(this.Ut,function(b){return d.referenceDelegate.ps(b)}),this.R=new Qd(l),this.Ke=new p_(this.R)}return a.prototype.start=function(){return Promise.resolve()},a.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(a.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),a.prototype.setDatabaseDeletedListener=function(){},a.prototype.setNetworkEnabled=function(){},a.prototype.getIndexManager=function(){return this.Ut},a.prototype.getMutationQueue=function(s){var l=this.gs[s.toKey()];return l||(l=new ki(this.Ut,this.referenceDelegate),this.gs[s.toKey()]=l),l},a.prototype.getTargetCache=function(){return this.qe},a.prototype.getRemoteDocumentCache=function(){return this.Ue},a.prototype.getBundleCache=function(){return this.Ke},a.prototype.runTransaction=function(s,l,d){var g=this;Ce("MemoryPersistence","Starting transaction:",s);var y=new fl(this.Ne.next());return this.referenceDelegate.Es(),d(y).next(function(b){return g.referenceDelegate.Ts(y).next(function(){return b})}).toPromise().then(function(b){return y.raiseOnCommittedEvent(),b})},a.prototype.Is=function(s,l){return we.or(Object.values(this.gs).map(function(d){return function(){return d.containsKey(s,l)}}))},a}(),fl=function(a){function s(l){var d=this;return(d=a.call(this)||this).currentSequenceNumber=l,d}return(0,I.ZT)(s,a),s}(Dh),af=function(){function a(s){this.persistence=s,this.As=new Om,this.Rs=null}return a.bs=function(s){return new a(s)},Object.defineProperty(a.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ze()},enumerable:!1,configurable:!0}),a.prototype.addReference=function(s,l,d){return this.As.addReference(d,l),this.vs.delete(d.toString()),we.resolve()},a.prototype.removeReference=function(s,l,d){return this.As.removeReference(d,l),this.vs.add(d.toString()),we.resolve()},a.prototype.markPotentiallyOrphaned=function(s,l){return this.vs.add(l.toString()),we.resolve()},a.prototype.removeTarget=function(s,l){var d=this;this.As.Zn(l.targetId).forEach(function(y){return d.vs.add(y.toString())});var g=this.persistence.getTargetCache();return g.getMatchingKeysForTargetId(s,l.targetId).next(function(y){y.forEach(function(b){return d.vs.add(b.toString())})}).next(function(){return g.removeTargetData(s,l)})},a.prototype.Es=function(){this.Rs=new Set},a.prototype.Ts=function(s){var l=this,d=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.vs,function(g){var y=fe.fromPath(g);return l.Ps(s,y).next(function(b){b||d.removeEntry(y)})}).next(function(){return l.Rs=null,d.apply(s)})},a.prototype.updateLimboDocument=function(s,l){var d=this;return this.Ps(s,l).next(function(g){g?d.vs.delete(l.toString()):d.vs.add(l.toString())})},a.prototype.ps=function(s){return 0},a.prototype.Ps=function(s,l){var d=this;return we.or([function(){return we.resolve(d.As.containsKey(l))},function(){return d.persistence.getTargetCache().containsKey(s,l)},function(){return d.persistence.Is(s,l)}])},a}(),Qr=function(){function a(s){this.uid=s}return a.prototype.isAuthenticated=function(){return null!=this.uid},a.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},a.prototype.isEqual=function(s){return s.uid===this.uid},a}();function Wp(a,s){return"firestore_clients_"+a+"_"+s}function Oh(a,s,l){var d="firestore_mutations_"+a+"_"+l;return s.isAuthenticated()&&(d+="_"+s.uid),d}function Kp(a,s){return"firestore_targets_"+a+"_"+s}Qr.UNAUTHENTICATED=new Qr(null),Qr.GOOGLE_CREDENTIALS=new Qr("google-credentials-uid"),Qr.FIRST_PARTY=new Qr("first-party-uid"),Qr.MOCK_USER=new Qr("mock-user");var uf=function(){function a(s,l,d,g){this.user=s,this.batchId=l,this.state=d,this.error=g}return a.Vs=function(s,l,d){var g,y=JSON.parse(d),b="object"==typeof y&&-1!==["pending","acknowledged","rejected"].indexOf(y.state)&&(void 0===y.error||"object"==typeof y.error);return b&&y.error&&(b="string"==typeof y.error.message&&"string"==typeof y.error.code)&&(g=new me(y.error.code,y.error.message)),b?new a(s,l,y.state,g):(wr("SharedClientState","Failed to parse mutation state for ID '"+l+"': "+d),null)},a.prototype.Ss=function(){var s={state:this.state,updateTimeMs:Date.now()};return this.error&&(s.error={code:this.error.code,message:this.error.message}),JSON.stringify(s)},a}(),xh=function(){function a(s,l,d){this.targetId=s,this.state=l,this.error=d}return a.Vs=function(s,l){var d,g=JSON.parse(l),y="object"==typeof g&&-1!==["not-current","current","rejected"].indexOf(g.state)&&(void 0===g.error||"object"==typeof g.error);return y&&g.error&&(y="string"==typeof g.error.message&&"string"==typeof g.error.code)&&(d=new me(g.error.code,g.error.message)),y?new a(s,g.state,d):(wr("SharedClientState","Failed to parse target state for ID '"+s+"': "+l),null)},a.prototype.Ss=function(){var s={state:this.state,updateTimeMs:Date.now()};return this.error&&(s.error={code:this.error.code,message:this.error.message}),JSON.stringify(s)},a}(),pl=function(){function a(s,l){this.clientId=s,this.activeTargetIds=l}return a.Vs=function(s,l){for(var d=JSON.parse(l),g="object"==typeof d&&d.activeTargetIds instanceof Array,y=ya(),b=0;g&&b<d.activeTargetIds.length;++b)g=$e(d.activeTargetIds[b]),y=y.add(d.activeTargetIds[b]);return g?new a(s,y):(wr("SharedClientState","Failed to parse client data for instance '"+s+"': "+l),null)},a}(),Yp=function(){function a(s,l){this.clientId=s,this.onlineState=l}return a.Vs=function(s){var l=JSON.parse(s);return"object"==typeof l&&-1!==["Unknown","Online","Offline"].indexOf(l.onlineState)&&"string"==typeof l.clientId?new a(l.clientId,l.onlineState):(wr("SharedClientState","Failed to parse online state: "+s),null)},a}(),mc=function(){function a(){this.activeTargetIds=ya()}return a.prototype.Ds=function(s){this.activeTargetIds=this.activeTargetIds.add(s)},a.prototype.Cs=function(s){this.activeTargetIds=this.activeTargetIds.delete(s)},a.prototype.Ss=function(){var s={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(s)},a}(),Ea=function(){function a(s,l,d,g,y){this.window=s,this.Se=l,this.persistenceKey=d,this.Ns=g,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Rn(Je),this.started=!1,this.$s=[];var b=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.Os=Wp(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new mc),this.Ls=new RegExp("^firestore_clients_"+b+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+b+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+b+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(C){return"firestore_bundle_loaded_"+C}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return a.yt=function(s){return!(!s||!s.localStorage)},a.prototype.start=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l,d,g,y,b,C,T,x,N,q=this;return(0,I.Jh)(this,function(ee){switch(ee.label){case 0:return[4,this.syncEngine.fn()];case 1:for(s=ee.sent(),l=0,d=s;l<d.length;l++)(g=d[l])!==this.Ns&&(y=this.getItem(Wp(this.persistenceKey,g)))&&(b=pl.Vs(g,y))&&(this.Fs=this.Fs.insert(b.clientId,b));for(this.Qs(),(C=this.storage.getItem(this.Us))&&(T=this.js(C))&&this.Ws(T),x=0,N=this.$s;x<N.length;x++)this.ks(N[x]);return this.$s=[],this.window.addEventListener("pagehide",function(){return q.shutdown()}),this.started=!0,[2]}})})},a.prototype.writeSequenceNumber=function(s){this.setItem(this.Ms,JSON.stringify(s))},a.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},a.prototype.isActiveQueryTarget=function(s){var l=!1;return this.Fs.forEach(function(d,g){g.activeTargetIds.has(s)&&(l=!0)}),l},a.prototype.addPendingMutation=function(s){this.zs(s,"pending")},a.prototype.updateMutationState=function(s,l,d){this.zs(s,l,d),this.Hs(s)},a.prototype.addLocalQueryTarget=function(s){var l="not-current";if(this.isActiveQueryTarget(s)){var d=this.storage.getItem(Kp(this.persistenceKey,s));if(d){var g=xh.Vs(s,d);g&&(l=g.state)}}return this.Js.Ds(s),this.Qs(),l},a.prototype.removeLocalQueryTarget=function(s){this.Js.Cs(s),this.Qs()},a.prototype.isLocalQueryTarget=function(s){return this.Js.activeTargetIds.has(s)},a.prototype.clearQueryState=function(s){this.removeItem(Kp(this.persistenceKey,s))},a.prototype.updateQueryState=function(s,l,d){this.Ys(s,l,d)},a.prototype.handleUserChange=function(s,l,d){var g=this;l.forEach(function(y){g.Hs(y)}),this.currentUser=s,d.forEach(function(y){g.addPendingMutation(y)})},a.prototype.setOnlineState=function(s){this.Xs(s)},a.prototype.notifyBundleLoaded=function(){this.Zs()},a.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},a.prototype.getItem=function(s){var l=this.storage.getItem(s);return Ce("SharedClientState","READ",s,l),l},a.prototype.setItem=function(s,l){Ce("SharedClientState","SET",s,l),this.storage.setItem(s,l)},a.prototype.removeItem=function(s){Ce("SharedClientState","REMOVE",s),this.storage.removeItem(s)},a.prototype.ks=function(s){var l=this,d=s;if(d.storageArea===this.storage){if(Ce("SharedClientState","EVENT",d.key,d.newValue),d.key===this.Os)return void wr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,I.mG)(l,void 0,void 0,function(){var g,y,b,C,T,x;return(0,I.Jh)(this,function(N){if(this.started){if(null!==d.key)if(this.Ls.test(d.key)){if(null==d.newValue)return g=this.ti(d.key),[2,this.ei(g,null)];if(y=this.ni(d.key,d.newValue))return[2,this.ei(y.clientId,y)]}else if(this.Bs.test(d.key)){if(null!==d.newValue&&(b=this.si(d.key,d.newValue)))return[2,this.ii(b)]}else if(this.qs.test(d.key)){if(null!==d.newValue&&(C=this.ri(d.key,d.newValue)))return[2,this.oi(C)]}else if(d.key===this.Us){if(null!==d.newValue&&(T=this.js(d.newValue)))return[2,this.Ws(T)]}else if(d.key===this.Ms)(x=function(V){var q=qi.o;if(null!=V)try{var ee=JSON.parse(V);at("number"==typeof ee),q=ee}catch(J){wr("SharedClientState","Failed to read sequence number from WebStorage",J)}return q}(d.newValue))!==qi.o&&this.sequenceNumberHandler(x);else if(d.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(d);return[2]})})})}},Object.defineProperty(a.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),a.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},a.prototype.zs=function(s,l,d){var g=new uf(this.currentUser,s,l,d),y=Oh(this.persistenceKey,this.currentUser,s);this.setItem(y,g.Ss())},a.prototype.Hs=function(s){var l=Oh(this.persistenceKey,this.currentUser,s);this.removeItem(l)},a.prototype.Xs=function(s){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:s}))},a.prototype.Ys=function(s,l,d){var g=Kp(this.persistenceKey,s),y=new xh(s,l,d);this.setItem(g,y.Ss())},a.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},a.prototype.ti=function(s){var l=this.Ls.exec(s);return l?l[1]:null},a.prototype.ni=function(s,l){var d=this.ti(s);return pl.Vs(d,l)},a.prototype.si=function(s,l){var d=this.Bs.exec(s),g=Number(d[1]);return uf.Vs(new Qr(void 0!==d[2]?d[2]:null),g,l)},a.prototype.ri=function(s,l){var d=this.qs.exec(s),g=Number(d[1]);return xh.Vs(g,l)},a.prototype.js=function(s){return Yp.Vs(s)},a.prototype.ii=function(s){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(l){return s.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(s.batchId,s.state,s.error)]:(Ce("SharedClientState","Ignoring mutation for non-active user "+s.user.uid),[2])})})},a.prototype.oi=function(s){return this.syncEngine.ai(s.targetId,s.state,s.error)},a.prototype.ei=function(s,l){var d=this,g=l?this.Fs.insert(s,l):this.Fs.remove(s),y=this.Gs(this.Fs),b=this.Gs(g),C=[],T=[];return b.forEach(function(x){y.has(x)||C.push(x)}),y.forEach(function(x){b.has(x)||T.push(x)}),this.syncEngine.hi(C,T).then(function(){d.Fs=g})},a.prototype.Ws=function(s){this.Fs.get(s.clientId)&&this.onlineStateHandler(s.onlineState)},a.prototype.Gs=function(s){var l=ya();return s.forEach(function(d,g){l=l.unionWith(g.activeTargetIds)}),l},a}(),vc=function(){function a(){this.li=new mc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return a.prototype.addPendingMutation=function(s){},a.prototype.updateMutationState=function(s,l,d){},a.prototype.addLocalQueryTarget=function(s){return this.li.Ds(s),this.fi[s]||"not-current"},a.prototype.updateQueryState=function(s,l,d){this.fi[s]=l},a.prototype.removeLocalQueryTarget=function(s){this.li.Cs(s)},a.prototype.isLocalQueryTarget=function(s){return this.li.activeTargetIds.has(s)},a.prototype.clearQueryState=function(s){delete this.fi[s]},a.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},a.prototype.isActiveQueryTarget=function(s){return this.li.activeTargetIds.has(s)},a.prototype.start=function(){return this.li=new mc,Promise.resolve()},a.prototype.handleUserChange=function(s,l,d){},a.prototype.setOnlineState=function(s){},a.prototype.shutdown=function(){},a.prototype.writeSequenceNumber=function(s){},a.prototype.notifyBundleLoaded=function(){},a}(),Pm=function(){function a(){}return a.prototype.di=function(s){},a.prototype.shutdown=function(){},a}(),Ph=function(){function a(){var s=this;this.wi=function(){return s._i()},this.mi=function(){return s.yi()},this.gi=[],this.pi()}return a.prototype.di=function(s){this.gi.push(s)},a.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},a.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},a.prototype._i=function(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var s=0,l=this.gi;s<l.length;s++)(0,l[s])(0)},a.prototype.yi=function(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var s=0,l=this.gi;s<l.length;s++)(0,l[s])(1)},a.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},a}(),oy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Nm=function(){function a(s){this.Ei=s.Ei,this.Ti=s.Ti}return a.prototype.Ii=function(s){this.Ai=s},a.prototype.Ri=function(s){this.bi=s},a.prototype.onMessage=function(s){this.vi=s},a.prototype.close=function(){this.Ti()},a.prototype.send=function(s){this.Ei(s)},a.prototype.Pi=function(){this.Ai()},a.prototype.Vi=function(s){this.bi(s)},a.prototype.Si=function(s){this.vi(s)},a}(),Xs=function(a){function s(l){var d=this;return(d=a.call(this,l)||this).forceLongPolling=l.forceLongPolling,d.autoDetectLongPolling=l.autoDetectLongPolling,d.useFetchStreams=l.useFetchStreams,d}return(0,I.ZT)(s,a),s.prototype.Fi=function(l,d,g,y){return new Promise(function(b,C){var T=new wp;T.listenOnce(im.COMPLETE,function(){try{switch(T.getLastErrorCode()){case Sd.NO_ERROR:var N=T.getResponseJson();Ce("Connection","XHR received:",JSON.stringify(N)),b(N);break;case Sd.TIMEOUT:Ce("Connection",'RPC "'+l+'" timed out'),C(new me(se.DEADLINE_EXCEEDED,"Request time out"));break;case Sd.HTTP_ERROR:var V=T.getStatus();if(Ce("Connection",'RPC "'+l+'" failed with status:',V,"response text:",T.getResponseText()),V>0){var q=T.getResponseJson().error;if(q&&q.status&&q.message){var ee=(re=q.status.toLowerCase().replace(/_/g,"-"),Object.values(se).indexOf(re)>=0?re:se.UNKNOWN);C(new me(ee,q.message))}else C(new me(se.UNKNOWN,"Server responded with status "+T.getStatus()))}else C(new me(se.UNAVAILABLE,"Connection failed."));break;default:Ze()}}finally{Ce("Connection",'RPC "'+l+'" completed.')}var re});var x=JSON.stringify(y);T.send(d,"POST",x,g,15)})},s.prototype.Oi=function(l,d){var g=[this.Di,"/","google.firestore.v1.Firestore","/",l,"/channel"],y=new yp,b=ls(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new tc({})),this.ki(C.initMessageHeaders,d),(0,Ge.uI)()||(0,Ge.b$)()||(0,Ge.d)()||(0,Ge.w1)()||(0,Ge.Mn)()||(0,Ge.ru)()||(C.httpHeadersOverwriteParam="$httpHeaders");var T=g.join("");Ce("Connection","Creating WebChannel: "+T,C);var x=y.createWebChannel(T,C),N=!1,V=!1,q=new Nm({Ei:function(J){V?Ce("Connection","Not sending because WebChannel is closed:",J):(N||(Ce("Connection","Opening WebChannel transport."),x.open(),N=!0),Ce("Connection","WebChannel sending:",J),x.send(J))},Ti:function(){return x.close()}}),ee=function(J,re,Ie){J.listen(re,function(Pe){try{Ie(Pe)}catch(st){setTimeout(function(){throw st},0)}})};return ee(x,th.EventType.OPEN,function(){V||Ce("Connection","WebChannel transport opened.")}),ee(x,th.EventType.CLOSE,function(){V||(V=!0,Ce("Connection","WebChannel transport closed"),q.Vi())}),ee(x,th.EventType.ERROR,function(J){V||(V=!0,nh("Connection","WebChannel transport errored:",J),q.Vi(new me(se.UNAVAILABLE,"The operation could not be completed")))}),ee(x,th.EventType.MESSAGE,function(J){var re;if(!V){var Ie=J.data[0];at(!!Ie);var st=Ie.error||(null===(re=Ie[0])||void 0===re?void 0:re.error);if(st){Ce("Connection","WebChannel received error:",st);var lt=st.status,$t=function(Fn){var Qi=Zn[Fn];if(void 0!==Qi)return Tp(Qi)}(lt),pn=st.message;void 0===$t&&($t=se.INTERNAL,pn="Unknown error status: "+lt+" with message "+st.message),V=!0,q.Vi(new me($t,pn)),x.close()}else Ce("Connection","WebChannel received:",Ie),q.Si(Ie)}}),ee(b,zv.STAT_EVENT,function(J){J.stat===bp_PROXY?Ce("Connection","Detected buffering proxy"):J.stat===bp_NOPROXY&&Ce("Connection","Detected no buffering proxy")}),setTimeout(function(){q.Pi()},0),q},s}(function(){function a(s){this.databaseInfo=s,this.databaseId=s.databaseId,this.Di=(s.ssl?"https":"http")+"://"+s.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return a.prototype.Ni=function(s,l,d,g){var y=this.xi(s,l);Ce("RestConnection","Sending: ",y,d);var b={};return this.ki(b,g),this.Fi(s,y,b,d).then(function(C){return Ce("RestConnection","Received: ",C),C},function(C){throw nh("RestConnection",s+" failed with error: ",C,"url: ",y,"request:",d),C})},a.prototype.$i=function(s,l,d,g){return this.Ni(s,l,d,g)},a.prototype.ki=function(s,l){if(s["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",s["Content-Type"]="text/plain",this.databaseInfo.appId&&(s["X-Firebase-GMPID"]=this.databaseInfo.appId),l)for(var d in l.authHeaders)l.authHeaders.hasOwnProperty(d)&&(s[d]=l.authHeaders[d])},a.prototype.xi=function(s,l){return this.Di+"/v1/"+l+":"+oy[s]},a}());function gl(){return"undefined"!=typeof window?window:null}function yc(){return"undefined"!=typeof document?document:null}function ml(a){return new fm(a,!0)}var Qp=function(){function a(s,l,d,g,y){void 0===d&&(d=1e3),void 0===g&&(g=1.5),void 0===y&&(y=6e4),this.Se=s,this.timerId=l,this.Mi=d,this.Li=g,this.Bi=y,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return a.prototype.reset=function(){this.qi=0},a.prototype.Qi=function(){this.qi=this.Bi},a.prototype.ji=function(s){var l=this;this.cancel();var d=Math.floor(this.qi+this.Wi()),g=Math.max(0,Date.now()-this.Ki),y=Math.max(0,d-g);y>0&&Ce("ExponentialBackoff","Backing off for "+y+" ms (base delay: "+this.qi+" ms, delay with jitter: "+d+" ms, last attempt: "+g+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,y,function(){return l.Ki=Date.now(),s()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},a.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},a.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},a.prototype.Wi=function(){return(Math.random()-.5)*this.qi},a}(),cf=function(){function a(s,l,d,g,y,b){this.Se=s,this.zi=d,this.Hi=g,this.Ji=y,this.listener=b,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Qp(s,l)}return a.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},a.prototype.er=function(){return 2===this.state},a.prototype.start=function(){3!==this.state?this.auth():this.nr()},a.prototype.stop=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){switch(s.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},a.prototype.sr=function(){this.state=0,this.Zi.reset()},a.prototype.ir=function(){var s=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return s.rr()}))},a.prototype.cr=function(s){this.ur(),this.stream.send(s)},a.prototype.rr=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){return this.er()?[2,this.close(0)]:[2]})})},a.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},a.prototype.close=function(s,l){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(d){switch(d.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==s?this.Zi.reset():l&&l.code===se.RESOURCE_EXHAUSTED?(wr(l.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):l&&l.code===se.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=s,[4,this.listener.Ri(l)];case 1:return d.sent(),[2]}})})},a.prototype.ar=function(){},a.prototype.auth=function(){var s=this;this.state=1;var l=this.hr(this.Yi),d=this.Yi;this.Ji.getToken().then(function(g){s.Yi===d&&s.lr(g)},function(g){l(function(){var y=new me(se.UNKNOWN,"Fetching auth token failed: "+g.message);return s.dr(y)})})},a.prototype.lr=function(s){var l=this,d=this.hr(this.Yi);this.stream=this.wr(s),this.stream.Ii(function(){d(function(){return l.state=2,l.listener.Ii()})}),this.stream.Ri(function(g){d(function(){return l.dr(g)})}),this.stream.onMessage(function(g){d(function(){return l.onMessage(g)})})},a.prototype.nr=function(){var s=this;this.state=4,this.Zi.ji(function(){return(0,I.mG)(s,void 0,void 0,function(){return(0,I.Jh)(this,function(l){return this.state=0,this.start(),[2]})})})},a.prototype.dr=function(s){return Ce("PersistentStream","close with error: "+s),this.stream=null,this.close(3,s)},a.prototype.hr=function(s){var l=this;return function(d){l.Se.enqueueAndForget(function(){return l.Yi===s?d():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},a}(),lf=function(a){function s(l,d,g,y,b){var C=this;return(C=a.call(this,l,"listen_stream_connection_backoff","listen_stream_idle",d,g,b)||this).R=y,C}return(0,I.ZT)(s,a),s.prototype.wr=function(l){return this.Hi.Oi("Listen",l)},s.prototype.onMessage=function(l){this.Zi.reset();var d=function(y,b){var C,Ie;if("targetChange"in b){var T="NO_CHANGE"===(Ie=b.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Ie?1:"REMOVE"===Ie?2:"CURRENT"===Ie?3:"RESET"===Ie?4:Ze(),x=b.targetChange.targetIds||[],N=function(Ie,Pe){return Ie.I?(at(void 0===Pe||"string"==typeof Pe),Mn.fromBase64String(Pe||"")):(at(void 0===Pe||Pe instanceof Uint8Array),Mn.fromUint8Array(Pe||new Uint8Array))}(y,b.targetChange.resumeToken),V=(q=b.targetChange.cause)&&function(Ie){var Pe=void 0===Ie.code?se.UNKNOWN:Tp(Ie.code);return new me(Pe,Ie.message||"")}(q);C=new vu(T,x,N,V||null)}else if("documentChange"in b){x=Wi(y,(T=b.documentChange).document.name),N=ur(T.document.updateTime);var q=new $r({mapValue:{fields:T.document.fields}}),ee=(V=Mi.newFoundDocument(x,N,q),T.targetIds||[]);C=new gu(ee,T.removedTargetIds||[],V.key,V)}else if("documentDelete"in b)x=Wi(y,(T=b.documentDelete).document),N=T.readTime?ur(T.readTime):Et.min(),q=Mi.newNoDocument(x,N),C=new gu([],V=T.removedTargetIds||[],q.key,q);else if("documentRemove"in b)x=Wi(y,(T=b.documentRemove).document),C=new gu([],N=T.removedTargetIds||[],x,null);else{if(!("filter"in b))return Ze();var re=b.filter;x=new vh(T=re.count||0),C=new mu(N=re.targetId,x)}return C}(this.R,l),g=function(y){if(!("targetChange"in y))return Et.min();var b=y.targetChange;return b.targetIds&&b.targetIds.length?Et.min():b.readTime?ur(b.readTime):Et.min()}(l);return this.listener._r(d,g)},s.prototype.mr=function(l){var y,b,C,T,d={};d.database=ai(this.R),d.addTarget=(y=this.R,(C=$o(T=(b=l).target)?{documents:sl(y,T)}:{query:al(y,T)}).targetId=b.targetId,b.resumeToken.approximateByteSize()>0?C.resumeToken=Rp(y,b.resumeToken):b.snapshotVersion.compareTo(Et.min())>0&&(C.readTime=Vd(y,b.snapshotVersion.toTimestamp())),C);var g=function(y,b){var C=function(T,x){switch(x){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ze()}}(0,b.purpose);return null==C?null:{"goog-listen-tags":C}}(0,l);g&&(d.labels=g),this.cr(d)},s.prototype.yr=function(l){var d={};d.database=ai(this.R),d.removeTarget=l,this.cr(d)},s}(cf),Fm=function(a){function s(l,d,g,y,b){var C=this;return(C=a.call(this,l,"write_stream_connection_backoff","write_stream_idle",d,g,b)||this).R=y,C.gr=!1,C}return(0,I.ZT)(s,a),Object.defineProperty(s.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),s.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,a.prototype.start.call(this)},s.prototype.ar=function(){this.gr&&this.Er([])},s.prototype.wr=function(l){return this.Hi.Oi("Write",l)},s.prototype.onMessage=function(l){if(at(!!l.streamToken),this.lastStreamToken=l.streamToken,this.gr){this.Zi.reset();var d=(b=l.commitTime,(y=l.writeResults)&&y.length>0?(at(void 0!==b),y.map(function(C){return x=b,(N=ur((T=C).updateTime?T.updateTime:x)).isEqual(Et.min())&&(N=ur(x)),new cu(N,T.transformResults||[]);var T,x,N})):[]),g=ur(l.commitTime);return this.listener.Tr(g,d)}var y,b;return at(!l.writeResults||0===l.writeResults.length),this.gr=!0,this.listener.Ir()},s.prototype.Ar=function(){var l={};l.database=ai(this.R),this.cr(l)},s.prototype.Er=function(l){var d=this,g={streamToken:this.lastStreamToken,writes:l.map(function(y){return Ws(d.R,y)})};this.cr(g)},s}(cf),sy=function(a){function s(l,d,g){var y=this;return(y=a.call(this)||this).credentials=l,y.Hi=d,y.R=g,y.Rr=!1,y}return(0,I.ZT)(s,a),s.prototype.br=function(){if(this.Rr)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.")},s.prototype.Ni=function(l,d,g){var y=this;return this.br(),this.credentials.getToken().then(function(b){return y.Hi.Ni(l,d,g,b)}).catch(function(b){throw"FirebaseError"===b.name?(b.code===se.UNAUTHENTICATED&&y.credentials.invalidateToken(),b):new me(se.UNKNOWN,b.toString())})},s.prototype.$i=function(l,d,g){var y=this;return this.br(),this.credentials.getToken().then(function(b){return y.Hi.$i(l,d,g,b)}).catch(function(b){throw"FirebaseError"===b.name?(b.code===se.UNAUTHENTICATED&&y.credentials.invalidateToken(),b):new me(se.UNKNOWN,b.toString())})},s.prototype.terminate=function(){this.Rr=!0},s}(function(){}),ay=function(){function a(s,l){this.asyncQueue=s,this.onlineStateHandler=l,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return a.prototype.Sr=function(){var s=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return s.Pr=null,s.Cr("Backend didn't respond within 10 seconds."),s.Dr("Offline"),Promise.resolve()}))},a.prototype.Nr=function(s){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+s.toString()),this.Dr("Offline")))},a.prototype.set=function(s){this.kr(),this.vr=0,"Online"===s&&(this.Vr=!1),this.Dr(s)},a.prototype.Dr=function(s){s!==this.state&&(this.state=s,this.onlineStateHandler(s))},a.prototype.Cr=function(s){var l="Could not reach Cloud Firestore backend. "+s+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(wr(l),this.Vr=!1):Ce("OnlineStateTracker",l)},a.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},a}(),Xp=function(a,s,l,d,g){var y=this;this.localStore=a,this.datastore=s,this.asyncQueue=l,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=g,this.Lr.di(function(b){l.enqueueAndForget(function(){return(0,I.mG)(y,void 0,void 0,function(){return(0,I.Jh)(this,function(C){switch(C.label){case 0:return Ao(this)?(Ce("RemoteStore","Restarting streams for network reachability change."),[4,function(T){return(0,I.mG)(this,void 0,void 0,function(){var x;return(0,I.Jh)(this,function(N){switch(N.label){case 0:return(x=je(T)).Or.add(4),[4,yl(x)];case 1:return N.sent(),x.Br.set("Unknown"),x.Or.delete(4),[4,vl(x)];case 2:return N.sent(),[2]}})})}(this)]):[3,2];case 1:C.sent(),C.label=2;case 2:return[2]}})})})}),this.Br=new ay(l,d)};function vl(a){return(0,I.mG)(this,void 0,void 0,function(){var s,l;return(0,I.Jh)(this,function(d){switch(d.label){case 0:if(!Ao(a))return[3,4];s=0,l=a.Mr,d.label=1;case 1:return s<l.length?[4,(0,l[s])(!0)]:[3,4];case 2:d.sent(),d.label=3;case 3:return s++,[3,1];case 4:return[2]}})})}function yl(a){return(0,I.mG)(this,void 0,void 0,function(){var s,l;return(0,I.Jh)(this,function(d){switch(d.label){case 0:s=0,l=a.Mr,d.label=1;case 1:return s<l.length?[4,(0,l[s])(!1)]:[3,4];case 2:d.sent(),d.label=3;case 3:return s++,[3,1];case 4:return[2]}})})}function hf(a,s){var l=je(a);l.$r.has(s.targetId)||(l.$r.set(s.targetId,s),df(l)?Zp(l):Tu(l).er()&&To(l,s))}function Nh(a,s){var l=je(a),d=Tu(l);l.$r.delete(s),d.er()&&Ss(l,s),0===l.$r.size&&(d.er()?d.ir():Ao(l)&&l.Br.set("Unknown"))}function To(a,s){a.qr.U(s.targetId),Tu(a).mr(s)}function Ss(a,s){a.qr.U(s),Tu(a).yr(s)}function Zp(a){a.qr=new Bd({getRemoteKeysForTarget:function(s){return a.remoteSyncer.getRemoteKeysForTarget(s)},lt:function(s){return a.$r.get(s)||null}}),Tu(a).start(),a.Br.Sr()}function df(a){return Ao(a)&&!Tu(a).tr()&&a.$r.size>0}function Ao(a){return 0===je(a).Or.size}function _c(a){a.qr=void 0}function ci(a){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){return a.$r.forEach(function(l,d){To(a,l)}),[2]})})}function Jp(a,s){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(l){return _c(a),df(a)?(a.Br.Nr(s),Zp(a)):a.Br.set("Unknown"),[2]})})}function Iu(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var d,g,y;return(0,I.Jh)(this,function(b){switch(b.label){case 0:if(a.Br.set("Online"),!(s instanceof vu&&2===s.state&&s.cause))return[3,6];b.label=1;case 1:return b.trys.push([1,3,,5]),[4,function(C,T){return(0,I.mG)(this,void 0,void 0,function(){var x,N,V,q;return(0,I.Jh)(this,function(ee){switch(ee.label){case 0:x=T.cause,N=0,V=T.targetIds,ee.label=1;case 1:return N<V.length?C.$r.has(q=V[N])?[4,C.remoteSyncer.rejectListen(q,x)]:[3,3]:[3,5];case 2:ee.sent(),C.$r.delete(q),C.qr.removeTarget(q),ee.label=3;case 3:ee.label=4;case 4:return N++,[3,1];case 5:return[2]}})})}(a,s)];case 2:return b.sent(),[3,5];case 3:return d=b.sent(),Ce("RemoteStore","Failed to remove targets %s: %s ",s.targetIds.join(","),d),[4,ff(a,d)];case 4:return b.sent(),[3,5];case 5:return[3,13];case 6:if(s instanceof gu?a.qr.X(s):s instanceof mu?a.qr.rt(s):a.qr.et(s),l.isEqual(Et.min()))return[3,13];b.label=7;case 7:return b.trys.push([7,11,,13]),[4,rf(a.localStore)];case 8:return g=b.sent(),l.compareTo(g)>=0?[4,(C=a,T=l,x=C.qr.ut(T),x.targetChanges.forEach(function(N,V){if(N.resumeToken.approximateByteSize()>0){var q=C.$r.get(V);q&&C.$r.set(V,q.withResumeToken(N.resumeToken,T))}}),x.targetMismatches.forEach(function(N){var V=C.$r.get(N);if(V){C.$r.set(N,V.withResumeToken(Mn.EMPTY_BYTE_STRING,V.snapshotVersion)),Ss(C,N);var q=new Np(V.target,N,1,V.sequenceNumber);To(C,q)}}),C.remoteSyncer.applyRemoteEvent(x))]:[3,10];case 9:b.sent(),b.label=10;case 10:return[3,13];case 11:return Ce("RemoteStore","Failed to raise snapshot:",y=b.sent()),[4,ff(a,y)];case 12:return b.sent(),[3,13];case 13:return[2]}var C,T,x})})}function ff(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var d=this;return(0,I.Jh)(this,function(g){switch(g.label){case 0:if(!wu(s))throw s;return a.Or.add(1),[4,yl(a)];case 1:return g.sent(),a.Br.set("Offline"),l||(l=function(){return rf(a.localStore)}),a.asyncQueue.enqueueRetryable(function(){return(0,I.mG)(d,void 0,void 0,function(){return(0,I.Jh)(this,function(y){switch(y.label){case 0:return Ce("RemoteStore","Retrying IndexedDB access"),[4,l()];case 1:return y.sent(),a.Or.delete(1),[4,vl(a)];case 2:return y.sent(),[2]}})})}),[2]}})})}function Fh(a,s){return s().catch(function(l){return ff(a,l,s)})}function Zs(a){return(0,I.mG)(this,void 0,void 0,function(){var s,l,d,g,y;return(0,I.Jh)(this,function(b){switch(b.label){case 0:s=je(a),l=Js(s),d=s.Fr.length>0?s.Fr[s.Fr.length-1].batchId:-1,b.label=1;case 1:if(!(Ao(C=s)&&C.Fr.length<10))return[3,7];b.label=2;case 2:return b.trys.push([2,4,,6]),[4,iy(s.localStore,d)];case 3:return null===(g=b.sent())?(0===s.Fr.length&&l.ir(),[3,7]):(d=g.batchId,function(C,T){C.Fr.push(T);var x=Js(C);x.er()&&x.pr&&x.Er(T.mutations)}(s,g),[3,6]);case 4:return y=b.sent(),[4,ff(s,y)];case 5:return b.sent(),[3,6];case 6:return[3,1];case 7:return Lh(s)&&eg(s),[2]}var C})})}function Lh(a){return Ao(a)&&!Js(a).tr()&&a.Fr.length>0}function eg(a){Js(a).start()}function tg(a){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){return Js(a).Ar(),[2]})})}function ng(a){return(0,I.mG)(this,void 0,void 0,function(){var s,l,d;return(0,I.Jh)(this,function(y){for(s=Js(a),l=0,d=a.Fr;l<d.length;l++)s.Er(d[l].mutations);return[2]})})}function jh(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var d,g;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return d=a.Fr.shift(),g=Yv.from(d,s,l),[4,Fh(a,function(){return a.remoteSyncer.applySuccessfulWrite(g)})];case 1:return y.sent(),[4,Zs(a)];case 2:return y.sent(),[2]}})})}function rg(a,s){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(l){switch(l.label){case 0:return s&&Js(a).pr?[4,function(d,g){return(0,I.mG)(this,void 0,void 0,function(){var y,b;return(0,I.Jh)(this,function(C){switch(C.label){case 0:return va(b=g.code)&&b!==se.ABORTED?(y=d.Fr.shift(),Js(d).sr(),[4,Fh(d,function(){return d.remoteSyncer.rejectFailedWrite(y.batchId,g)})]):[3,3];case 1:return C.sent(),[4,Zs(d)];case 2:C.sent(),C.label=3;case 3:return[2]}})})}(a,s)]:[3,2];case 1:l.sent(),l.label=2;case 2:return Lh(a)&&eg(a),[2]}})})}function Ca(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l;return(0,I.Jh)(this,function(d){switch(d.label){case 0:return l=je(a),s?(l.Or.delete(2),[4,vl(l)]):[3,2];case 1:return d.sent(),[3,5];case 2:return s?[3,4]:(l.Or.add(2),[4,yl(l)]);case 3:d.sent(),l.Br.set("Unknown"),d.label=4;case 4:d.label=5;case 5:return[2]}})})}function Tu(a){var l,d,g,y,s=this;return a.Ur||(a.Ur=(l=a.datastore,d=a.asyncQueue,g={Ii:ci.bind(null,a),Ri:Jp.bind(null,a),_r:Iu.bind(null,a)},(y=je(l)).br(),new lf(d,y.Hi,y.credentials,y.R,g)),a.Mr.push(function(l){return(0,I.mG)(s,void 0,void 0,function(){return(0,I.Jh)(this,function(d){switch(d.label){case 0:return l?(a.Ur.sr(),df(a)?Zp(a):a.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,a.Ur.stop()];case 2:d.sent(),_c(a),d.label=3;case 3:return[2]}})})})),a.Ur}function Js(a){var l,d,g,y,s=this;return a.Kr||(a.Kr=(l=a.datastore,d=a.asyncQueue,g={Ii:tg.bind(null,a),Ri:rg.bind(null,a),Ir:ng.bind(null,a),Tr:jh.bind(null,a)},(y=je(l)).br(),new Fm(d,y.Hi,y.credentials,y.R,g)),a.Mr.push(function(l){return(0,I.mG)(s,void 0,void 0,function(){return(0,I.Jh)(this,function(d){switch(d.label){case 0:return l?(a.Kr.sr(),[4,Zs(a)]):[3,2];case 1:return d.sent(),[3,4];case 2:return[4,a.Kr.stop()];case 3:d.sent(),a.Fr.length>0&&(Ce("RemoteStore","Stopping write stream with "+a.Fr.length+" pending writes"),a.Fr=[]),d.label=4;case 4:return[2]}})})})),a.Kr}var ig=function(){function a(s,l,d,g,y){this.asyncQueue=s,this.timerId=l,this.targetTimeMs=d,this.op=g,this.removalCallback=y,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(b){})}return a.createAndSchedule=function(s,l,d,g,y){var b=new a(s,l,Date.now()+d,g,y);return b.start(d),b},a.prototype.start=function(s){var l=this;this.timerHandle=setTimeout(function(){return l.handleDelayElapsed()},s)},a.prototype.skipDelay=function(){return this.handleDelayElapsed()},a.prototype.cancel=function(s){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new me(se.CANCELLED,"Operation cancelled"+(s?": "+s:""))))},a.prototype.handleDelayElapsed=function(){var s=this;this.asyncQueue.enqueueAndForget(function(){return null!==s.timerHandle?(s.clearTimeout(),s.op().then(function(l){return s.deferred.resolve(l)})):Promise.resolve()})},a.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},a}();function Da(a,s){if(wr("AsyncQueue",s+": "+a),wu(a))return new me(se.UNAVAILABLE,s+": "+a);throw a}var pf=function(){function a(s){this.comparator=s?function(l,d){return s(l,d)||fe.comparator(l.key,d.key)}:function(l,d){return fe.comparator(l.key,d.key)},this.keyedMap=il(),this.sortedSet=new Rn(this.comparator)}return a.emptySet=function(s){return new a(s.comparator)},a.prototype.has=function(s){return null!=this.keyedMap.get(s)},a.prototype.get=function(s){return this.keyedMap.get(s)},a.prototype.first=function(){return this.sortedSet.minKey()},a.prototype.last=function(){return this.sortedSet.maxKey()},a.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},a.prototype.indexOf=function(s){var l=this.keyedMap.get(s);return l?this.sortedSet.indexOf(l):-1},Object.defineProperty(a.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),a.prototype.forEach=function(s){this.sortedSet.inorderTraversal(function(l,d){return s(l),!1})},a.prototype.add=function(s){var l=this.delete(s.key);return l.copy(l.keyedMap.insert(s.key,s),l.sortedSet.insert(s,null))},a.prototype.delete=function(s){var l=this.get(s);return l?this.copy(this.keyedMap.remove(s),this.sortedSet.remove(l)):this},a.prototype.isEqual=function(s){if(!(s instanceof a)||this.size!==s.size)return!1;for(var l=this.sortedSet.getIterator(),d=s.sortedSet.getIterator();l.hasNext();){var g=l.getNext().key,y=d.getNext().key;if(!g.isEqual(y))return!1}return!0},a.prototype.toString=function(){var s=[];return this.forEach(function(l){s.push(l.toString())}),0===s.length?"DocumentSet ()":"DocumentSet (\n  "+s.join("  \n")+"\n)"},a.prototype.copy=function(s,l){var d=new a;return d.comparator=this.comparator,d.keyedMap=s,d.sortedSet=l,d},a}(),gf=function(){function a(){this.Qr=new Rn(fe.comparator)}return a.prototype.track=function(s){var l=s.doc.key,d=this.Qr.get(l);d?0!==s.type&&3===d.type?this.Qr=this.Qr.insert(l,s):3===s.type&&1!==d.type?this.Qr=this.Qr.insert(l,{type:d.type,doc:s.doc}):2===s.type&&2===d.type?this.Qr=this.Qr.insert(l,{type:2,doc:s.doc}):2===s.type&&0===d.type?this.Qr=this.Qr.insert(l,{type:0,doc:s.doc}):1===s.type&&0===d.type?this.Qr=this.Qr.remove(l):1===s.type&&2===d.type?this.Qr=this.Qr.insert(l,{type:1,doc:d.doc}):0===s.type&&1===d.type?this.Qr=this.Qr.insert(l,{type:2,doc:s.doc}):Ze():this.Qr=this.Qr.insert(l,s)},a.prototype.jr=function(){var s=[];return this.Qr.inorderTraversal(function(l,d){s.push(d)}),s},a}(),Bh=function(){function a(s,l,d,g,y,b,C,T){this.query=s,this.docs=l,this.oldDocs=d,this.docChanges=g,this.mutatedKeys=y,this.fromCache=b,this.syncStateChanged=C,this.excludesMetadataChanges=T}return a.fromInitialDocuments=function(s,l,d,g){var y=[];return l.forEach(function(b){y.push({type:0,doc:b})}),new a(s,l,pf.emptySet(l),y,d,g,!0,!1)},Object.defineProperty(a.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(s){if(!(this.fromCache===s.fromCache&&this.syncStateChanged===s.syncStateChanged&&this.mutatedKeys.isEqual(s.mutatedKeys)&&hh(this.query,s.query)&&this.docs.isEqual(s.docs)&&this.oldDocs.isEqual(s.oldDocs)))return!1;var l=this.docChanges,d=s.docChanges;if(l.length!==d.length)return!1;for(var g=0;g<l.length;g++)if(l[g].type!==d[g].type||!l[g].doc.isEqual(d[g].doc))return!1;return!0},a}(),Lm=function(){this.Wr=void 0,this.listeners=[]},uy=function(){this.queries=new Su(function(a){return cm(a)},hh),this.onlineState="Unknown",this.Gr=new Set};function mf(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d,g,y,b,C,T;return(0,I.Jh)(this,function(x){switch(x.label){case 0:if(l=je(a),g=!1,(y=l.queries.get(d=s.query))||(g=!0,y=new Lm),!g)return[3,4];x.label=1;case 1:return x.trys.push([1,3,,4]),b=y,[4,l.onListen(d)];case 2:return b.Wr=x.sent(),[3,4];case 3:return C=x.sent(),T=Da(C,"Initialization of query '"+Xc(s.query)+"' failed"),[2,void s.onError(T)];case 4:return l.queries.set(d,y),y.listeners.push(s),s.zr(l.onlineState),y.Wr&&s.Hr(y.Wr)&&Vh(l),[2]}})})}function bc(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d,g,y,b;return(0,I.Jh)(this,function(C){return l=je(a),g=!1,(y=l.queries.get(d=s.query))&&(b=y.listeners.indexOf(s))>=0&&(y.listeners.splice(b,1),g=0===y.listeners.length),g?[2,(l.queries.delete(d),l.onUnlisten(d))]:[2]})})}function og(a,s){for(var l=je(a),d=!1,g=0,y=s;g<y.length;g++){var b=y[g],T=l.queries.get(b.query);if(T){for(var x=0,N=T.listeners;x<N.length;x++)N[x].Hr(b)&&(d=!0);T.Wr=b}}d&&Vh(l)}function jm(a,s,l){var d=je(a),g=d.queries.get(s);if(g)for(var y=0,b=g.listeners;y<b.length;y++)b[y].onError(l);d.queries.delete(s)}function Vh(a){a.Gr.forEach(function(s){s.next()})}var vf=function(){function a(s,l,d){this.query=s,this.Jr=l,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=d||{}}return a.prototype.Hr=function(s){if(!this.options.includeMetadataChanges){for(var l=[],d=0,g=s.docChanges;d<g.length;d++){var y=g[d];3!==y.type&&l.push(y)}s=new Bh(s.query,s.docs,s.oldDocs,l,s.mutatedKeys,s.fromCache,s.syncStateChanged,!0)}var b=!1;return this.Yr?this.Zr(s)&&(this.Jr.next(s),b=!0):this.eo(s,this.onlineState)&&(this.no(s),b=!0),this.Xr=s,b},a.prototype.onError=function(s){this.Jr.error(s)},a.prototype.zr=function(s){this.onlineState=s;var l=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,s)&&(this.no(this.Xr),l=!0),l},a.prototype.eo=function(s,l){return!s.fromCache||!(this.options.so&&"Offline"!==l||s.docs.isEmpty()&&"Offline"!==l)},a.prototype.Zr=function(s){return s.docChanges.length>0||!!(s.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==s.hasPendingWrites)&&!0===this.options.includeMetadataChanges},a.prototype.no=function(s){s=Bh.fromInitialDocuments(s.query,s.docs,s.mutatedKeys,s.fromCache),this.Yr=!0,this.Jr.next(s)},a}(),Bm=function(){function a(s,l){this.payload=s,this.byteLength=l}return a.prototype.io=function(){return"metadata"in this.payload},a}(),Uh=function(){function a(s){this.R=s}return a.prototype.qn=function(s){return Wi(this.R,s)},a.prototype.Un=function(s){return s.metadata.exists?yu(this.R,s.document,!1):Mi.newNoDocument(this.qn(s.metadata.name),this.Kn(s.metadata.readTime))},a.prototype.Kn=function(s){return ur(s)},a}();!function(){function a(s,l,d){this.ro=s,this.localStore=l,this.R=d,this.queries=[],this.documents=[],this.progress=function Au(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}(s)}a.prototype.oo=function(s){this.progress.bytesLoaded+=s.byteLength;var l=this.progress.documentsLoaded;return s.payload.namedQuery?this.queries.push(s.payload.namedQuery):s.payload.documentMetadata?(this.documents.push({metadata:s.payload.documentMetadata}),s.payload.documentMetadata.exists||++l):s.payload.document&&(this.documents[this.documents.length-1].document=s.payload.document,++l),l!==this.progress.documentsLoaded?(this.progress.documentsLoaded=l,Object.assign({},this.progress)):null},a.prototype.co=function(s){for(var l=new Map,d=new Uh(this.R),g=0,y=s;g<y.length;g++){var b=y[g];if(b.metadata.queries)for(var C=d.qn(b.metadata.name),T=0,x=b.metadata.queries;T<x.length;T++){var N=x[T],V=(l.get(N)||mn()).add(C);l.set(N,V)}}return l},a.prototype.complete=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l,d,g,y;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return[4,km(this.localStore,new Uh(this.R),this.documents,this.ro.id)];case 1:s=b.sent(),l=this.co(this.documents),d=0,g=this.queries,b.label=2;case 2:return d<g.length?[4,kh(this.localStore,y=g[d],l.get(y.name))]:[3,5];case 3:b.sent(),b.label=4;case 4:return d++,[3,2];case 5:return[2,(this.progress.taskState="Success",new qt(Object.assign({},this.progress),s))]}})})}}();var Hh=function(a){this.key=a},sg=function(a){this.key=a},yf=function(){function a(s,l){this.query=s,this.uo=l,this.ao=null,this.current=!1,this.ho=mn(),this.mutatedKeys=mn(),this.lo=Zc(s),this.fo=new pf(this.lo)}return Object.defineProperty(a.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),a.prototype._o=function(s,l){var d=this,g=l?l.mo:new gf,y=l?l.fo:this.fo,b=l?l.mutatedKeys:this.mutatedKeys,C=y,T=!1,x=ou(this.query)&&y.size===this.query.limit?y.last():null,N=lh(this.query)&&y.size===this.query.limit?y.first():null;if(s.inorderTraversal(function(q,ee){var J=y.get(q),re=su(d.query,ee)?ee:null,Ie=!!J&&d.mutatedKeys.has(J.key),Pe=!!re&&(re.hasLocalMutations||d.mutatedKeys.has(re.key)&&re.hasCommittedMutations),st=!1;J&&re?J.data.isEqual(re.data)?Ie!==Pe&&(g.track({type:3,doc:re}),st=!0):d.yo(J,re)||(g.track({type:2,doc:re}),st=!0,(x&&d.lo(re,x)>0||N&&d.lo(re,N)<0)&&(T=!0)):!J&&re?(g.track({type:0,doc:re}),st=!0):J&&!re&&(g.track({type:1,doc:J}),st=!0,(x||N)&&(T=!0)),st&&(re?(C=C.add(re),b=Pe?b.add(q):b.delete(q)):(C=C.delete(q),b=b.delete(q)))}),ou(this.query)||lh(this.query))for(;C.size>this.query.limit;){var V=ou(this.query)?C.last():C.first();C=C.delete(V.key),b=b.delete(V.key),g.track({type:1,doc:V})}return{fo:C,mo:g,Nn:T,mutatedKeys:b}},a.prototype.yo=function(s,l){return s.hasLocalMutations&&l.hasCommittedMutations&&!l.hasLocalMutations},a.prototype.applyChanges=function(s,l,d){var g=this,y=this.fo;this.fo=s.fo,this.mutatedKeys=s.mutatedKeys;var b=s.mo.jr();b.sort(function(N,V){return ee=V.type,(J=function(re){switch(re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze()}})(N.type)-J(ee)||g.lo(N.doc,V.doc);var ee,J}),this.po(d);var C=l?this.Eo():[],T=0===this.ho.size&&this.current?1:0,x=T!==this.ao;return this.ao=T,0!==b.length||x?{snapshot:new Bh(this.query,s.fo,y,b,s.mutatedKeys,0===T,x,!1),To:C}:{To:C}},a.prototype.zr=function(s){return this.current&&"Offline"===s?(this.current=!1,this.applyChanges({fo:this.fo,mo:new gf,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},a.prototype.Io=function(s){return!this.uo.has(s)&&!!this.fo.has(s)&&!this.fo.get(s).hasLocalMutations},a.prototype.po=function(s){var l=this;s&&(s.addedDocuments.forEach(function(d){return l.uo=l.uo.add(d)}),s.modifiedDocuments.forEach(function(d){}),s.removedDocuments.forEach(function(d){return l.uo=l.uo.delete(d)}),this.current=s.current)},a.prototype.Eo=function(){var s=this;if(!this.current)return[];var l=this.ho;this.ho=mn(),this.fo.forEach(function(g){s.Io(g.key)&&(s.ho=s.ho.add(g.key))});var d=[];return l.forEach(function(g){s.ho.has(g)||d.push(new sg(g))}),this.ho.forEach(function(g){l.has(g)||d.push(new Hh(g))}),d},a.prototype.Ao=function(s){this.uo=s.Bn,this.ho=mn();var l=this._o(s.documents);return this.applyChanges(l,!0)},a.prototype.Ro=function(){return Bh.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},a}(),_f=function(a,s,l){this.query=a,this.targetId=s,this.view=l},bf=function(a){this.key=a,this.bo=!1},ag=function(){function a(s,l,d,g,y,b){this.localStore=s,this.remoteStore=l,this.eventManager=d,this.sharedClientState=g,this.currentUser=y,this.maxConcurrentLimboResolutions=b,this.vo={},this.Po=new Su(function(C){return cm(C)},hh),this.Vo=new Map,this.So=new Set,this.Do=new Rn(fe.comparator),this.Co=new Map,this.No=new Om,this.xo={},this.ko=new Map,this.Fo=nf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(a.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),a}();function ug(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,g,y,b,C;return(0,I.Jh)(this,function(T){switch(T.label){case 0:return l=If(a),(y=l.Po.get(s))?(l.sharedClientState.addLocalQueryTarget(y.targetId),g=y.view.Ro(),[3,4]):[3,1];case 1:return[4,pc(l.localStore,Ri(s))];case 2:return b=T.sent(),C=l.sharedClientState.addLocalQueryTarget(b.targetId),[4,qh(l,s,b.targetId,"current"===C)];case 3:g=T.sent(),l.isPrimaryClient&&hf(l.remoteStore,b),T.label=4;case 4:return[2,g]}})})}function qh(a,s,l,d){return(0,I.mG)(this,void 0,void 0,function(){var g,y,b,C,T,x;return(0,I.Jh)(this,function(N){switch(N.label){case 0:return a.Oo=function(V,q,ee){return function(J,re,Ie,Pe){return(0,I.mG)(this,void 0,void 0,function(){var st,lt,$t;return(0,I.Jh)(this,function(pn){switch(pn.label){case 0:return(st=re.view._o(Ie)).Nn?[4,gc(J.localStore,re.query,!1).then(function(Fn){return re.view._o(Fn.documents,st)})]:[3,2];case 1:st=pn.sent(),pn.label=2;case 2:return lt=Pe&&Pe.targetChanges.get(re.targetId),$t=re.view.applyChanges(st,J.isPrimaryClient,lt),[2,(Df(J,re.targetId,$t.To),$t.snapshot)]}})})}(a,V,q,ee)},[4,gc(a.localStore,s,!0)];case 1:return g=N.sent(),y=new yf(s,g.Bn),b=y._o(g.documents),C=Ko.createSynthesizedTargetChangeForCurrentChange(l,d&&"Offline"!==a.onlineState),T=y.applyChanges(b,a.isPrimaryClient,C),Df(a,l,T.To),x=new _f(s,l,y),[2,(a.Po.set(s,x),a.Vo.has(l)?a.Vo.get(l).push(s):a.Vo.set(l,[s]),T.snapshot)]}})})}function _l(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d,g;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return l=je(a),d=l.Po.get(s),(g=l.Vo.get(d.targetId)).length>1?[2,(l.Vo.set(d.targetId,g.filter(function(b){return!hh(b,s)})),void l.Po.delete(s))]:l.isPrimaryClient?(l.sharedClientState.removeLocalQueryTarget(d.targetId),l.sharedClientState.isActiveQueryTarget(d.targetId)?[3,2]:[4,Ds(l.localStore,d.targetId,!1).then(function(){l.sharedClientState.clearQueryState(d.targetId),Nh(l.remoteStore,d.targetId),Ia(l,d.targetId)}).catch(dc)]):[3,3];case 1:y.sent(),y.label=2;case 2:return[3,5];case 3:return Ia(l,d.targetId),[4,Ds(l.localStore,d.targetId,!0)];case 4:y.sent(),y.label=5;case 5:return[2]}})})}function wf(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var d,g,y,b;return(0,I.Jh)(this,function(C){switch(C.label){case 0:d=Qh(a),C.label=1;case 1:return C.trys.push([1,5,,6]),[4,(T=d.localStore,x=s,V=je(T),q=pi.now(),ee=x.reduce(function(J,re){return J.add(re.key)},mn()),V.persistence.runTransaction("Locally write mutations","readwrite",function(J){return V.Mn.pn(J,ee).next(function(re){N=re;for(var Ie=[],Pe=0,st=x;Pe<st.length;Pe++){var lt=st[Pe],$t=lu(lt,N.get(lt.key));null!=$t&&Ie.push(new Er(lt.key,$t,Md($t.value.mapValue),nr.exists(!0)))}return V._n.addMutationBatch(J,q,Ie,x)})}).then(function(J){return J.applyToLocalDocumentSet(N),{batchId:J.batchId,changes:N}}))];case 2:return g=C.sent(),d.sharedClientState.addPendingMutation(g.batchId),function(T,x,N){var V=T.xo[T.currentUser.toKey()];V||(V=new Rn(Je)),V=V.insert(x,N),T.xo[T.currentUser.toKey()]=V}(d,g.batchId,l),[4,ea(d,g.changes)];case 3:return C.sent(),[4,Zs(d.remoteStore)];case 4:return C.sent(),[3,6];case 5:return y=C.sent(),b=Da(y,"Failed to persist write"),l.reject(b),[3,6];case 6:return[2]}var T,x,N,V,q,ee})})}function zh(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d;return(0,I.Jh)(this,function(g){switch(g.label){case 0:l=je(a),g.label=1;case 1:return g.trys.push([1,4,,6]),[4,ry(l.localStore,s)];case 2:return d=g.sent(),s.targetChanges.forEach(function(y,b){var C=l.Co.get(b);C&&(at(y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size<=1),y.addedDocuments.size>0?C.bo=!0:y.modifiedDocuments.size>0?at(C.bo):y.removedDocuments.size>0&&(at(C.bo),C.bo=!1))}),[4,ea(l,d,s)];case 3:return g.sent(),[3,6];case 4:return[4,dc(g.sent())];case 5:return g.sent(),[3,6];case 6:return[2]}})})}function $h(a,s,l){var d=je(a);if(d.isPrimaryClient&&0===l||!d.isPrimaryClient&&1===l){var g=[];d.Po.forEach(function(y,b){var C=b.view.zr(s);C.snapshot&&g.push(C.snapshot)}),function(y,b){var C=je(y);C.onlineState=b;var T=!1;C.queries.forEach(function(x,N){for(var V=0,q=N.listeners;V<q.length;V++)q[V].zr(b)&&(T=!0)}),T&&Vh(C)}(d.eventManager,s),g.length&&d.vo._r(g),d.onlineState=s,d.isPrimaryClient&&d.sharedClientState.setOnlineState(s)}}function cg(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var d,g,y,b,C,T;return(0,I.Jh)(this,function(x){switch(x.label){case 0:return(d=je(a)).sharedClientState.updateQueryState(s,"rejected",l),g=d.Co.get(s),(y=g&&g.key)?(b=(b=new Rn(fe.comparator)).insert(y,Mi.newNoDocument(y,Et.min())),C=mn().add(y),T=new Gs(Et.min(),new Map,new $n(Je),b,C),[4,zh(d,T)]):[3,2];case 1:return x.sent(),d.Do=d.Do.remove(y),d.Co.delete(s),Yh(d),[3,4];case 2:return[4,Ds(d.localStore,s,!1).then(function(){return Ia(d,s,l)}).catch(dc)];case 3:x.sent(),x.label=4;case 4:return[2]}})})}function Gh(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d,g;return(0,I.Jh)(this,function(y){switch(y.label){case 0:l=je(a),d=s.batch.batchId,y.label=1;case 1:return y.trys.push([1,4,,6]),[4,Mm(l.localStore,s)];case 2:return g=y.sent(),Cf(l,d,null),Sa(l,d),l.sharedClientState.updateMutationState(d,"acknowledged"),[4,ea(l,g)];case 3:return y.sent(),[3,6];case 4:return[4,dc(y.sent())];case 5:return y.sent(),[3,6];case 6:return[2]}})})}function lg(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var d,g;return(0,I.Jh)(this,function(y){switch(y.label){case 0:d=je(a),y.label=1;case 1:return y.trys.push([1,4,,6]),[4,(b=d.localStore,C=s,T=je(b),T.persistence.runTransaction("Reject batch","readwrite-primary",function(x){var N;return T._n.lookupMutationBatch(x,C).next(function(V){return at(null!==V),N=V.keys(),T._n.removeMutationBatch(x,V)}).next(function(){return T._n.performConsistencyCheck(x)}).next(function(){return T.Mn.pn(x,N)})}))];case 2:return g=y.sent(),Cf(d,s,l),Sa(d,s),d.sharedClientState.updateMutationState(s,"rejected",l),[4,ea(d,g)];case 3:return y.sent(),[3,6];case 4:return[4,dc(y.sent())];case 5:return y.sent(),[3,6];case 6:return[2]}var b,C,T})})}function Ef(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d,g,y,b;return(0,I.Jh)(this,function(C){switch(C.label){case 0:Ao((l=je(a)).remoteStore)||Ce("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,(T=l.localStore,x=je(T),x.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(N){return x._n.getHighestUnacknowledgedBatchId(N)}))];case 2:return-1===(d=C.sent())?[2,void s.resolve()]:((g=l.ko.get(d)||[]).push(s),l.ko.set(d,g),[3,4]);case 3:return y=C.sent(),b=Da(y,"Initialization of waitForPendingWrites() operation failed"),s.reject(b),[3,4];case 4:return[2]}var T,x})})}function Sa(a,s){(a.ko.get(s)||[]).forEach(function(l){l.resolve()}),a.ko.delete(s)}function Cf(a,s,l){var d=je(a),g=d.xo[d.currentUser.toKey()];if(g){var y=g.get(s);y&&(l?y.reject(l):y.resolve(),g=g.remove(s)),d.xo[d.currentUser.toKey()]=g}}function Ia(a,s,l){void 0===l&&(l=null),a.sharedClientState.removeLocalQueryTarget(s);for(var d=0,g=a.Vo.get(s);d<g.length;d++){var y=g[d];a.Po.delete(y),l&&a.vo.Mo(y,l)}a.Vo.delete(s),a.isPrimaryClient&&a.No.Zn(s).forEach(function(b){a.No.containsKey(b)||Wh(a,b)})}function Wh(a,s){a.So.delete(s.path.canonicalString());var l=a.Do.get(s);null!==l&&(Nh(a.remoteStore,l),a.Do=a.Do.remove(s),a.Co.delete(l),Yh(a))}function Df(a,s,l){for(var d=0,g=l;d<g.length;d++){var y=g[d];y instanceof Hh?(a.No.addReference(y.key,s),Kh(a,y)):y instanceof sg?(Ce("SyncEngine","Document no longer in limbo: "+y.key),a.No.removeReference(y.key,s),a.No.containsKey(y.key)||Wh(a,y.key)):Ze()}}function Kh(a,s){var l=s.key,d=l.path.canonicalString();a.Do.get(l)||a.So.has(d)||(Ce("SyncEngine","New document in limbo: "+l),a.So.add(d),Yh(a))}function Yh(a){for(;a.So.size>0&&a.Do.size<a.maxConcurrentLimboResolutions;){var s=a.So.values().next().value;a.So.delete(s);var l=new fe(rt.fromString(s)),d=a.Fo.next();a.Co.set(d,new bf(l)),a.Do=a.Do.insert(l,d),hf(a.remoteStore,new Np(Ri(sc(l.path)),d,2,qi.o))}}function ea(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var d,g,y,b;return(0,I.Jh)(this,function(C){switch(C.label){case 0:return d=je(a),g=[],y=[],b=[],d.Po.isEmpty()?[3,3]:(d.Po.forEach(function(T,x){b.push(d.Oo(x,s,l).then(function(N){if(N){d.isPrimaryClient&&d.sharedClientState.updateQueryState(x.targetId,N.fromCache?"not-current":"current"),g.push(N);var V=Hp.Pn(x.targetId,N);y.push(V)}}))}),[4,Promise.all(b)]);case 1:return C.sent(),d.vo._r(g),[4,function(T,x){return(0,I.mG)(this,void 0,void 0,function(){var N,V,q,ee,J,re,Ie,st;return(0,I.Jh)(this,function(lt){switch(lt.label){case 0:N=je(T),lt.label=1;case 1:return lt.trys.push([1,3,,4]),[4,N.persistence.runTransaction("notifyLocalViewChanges","readwrite",function($t){return we.forEach(x,function(pn){return we.forEach(pn.bn,function(Fn){return N.persistence.referenceDelegate.addReference($t,pn.targetId,Fn)}).next(function(){return we.forEach(pn.vn,function(Fn){return N.persistence.referenceDelegate.removeReference($t,pn.targetId,Fn)})})})})];case 2:return lt.sent(),[3,4];case 3:if(!wu(V=lt.sent()))throw V;return Ce("LocalStore","Failed to update sequence numbers: "+V),[3,4];case 4:for(q=0,ee=x;q<ee.length;q++)re=(J=ee[q]).targetId,J.fromCache||(Ie=N.kn.get(re),st=Ie.withLastLimboFreeSnapshotVersion(Ie.snapshotVersion),N.kn=N.kn.insert(re,st));return[2]}})})}(d.localStore,y)];case 2:C.sent(),C.label=3;case 3:return[2]}})})}function cy(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d;return(0,I.Jh)(this,function(g){switch(g.label){case 0:return(l=je(a)).currentUser.isEqual(s)?[3,3]:(Ce("SyncEngine","User change. New user:",s.toKey()),[4,Rh(l.localStore,s)]);case 1:return d=g.sent(),l.currentUser=s,(y=l).ko.forEach(function(C){C.forEach(function(T){T.reject(new me(se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.ko.clear(),l.sharedClientState.handleUserChange(s,d.removedBatchIds,d.addedBatchIds),[4,ea(l,d.Ln)];case 2:g.sent(),g.label=3;case 3:return[2]}var y})})}function Mu(a,s){var l=je(a),d=l.Co.get(s);if(d&&d.bo)return mn().add(d.key);var g=mn(),y=l.Vo.get(s);if(!y)return g;for(var b=0,C=y;b<C.length;b++){var x=l.Po.get(C[b]);g=g.unionWith(x.view.wo)}return g}function ly(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d,g;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return[4,gc((l=je(a)).localStore,s.query,!0)];case 1:return d=y.sent(),g=s.view.Ao(d),[2,(l.isPrimaryClient&&Df(l,s.targetId,g.To),g)]}})})}function hg(a){return(0,I.mG)(this,void 0,void 0,function(){var s;return(0,I.Jh)(this,function(l){return[2,$p((s=je(a)).localStore).then(function(d){return ea(s,d)})]})})}function hy(a,s,l,d){return(0,I.mG)(this,void 0,void 0,function(){var g,y;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return[4,(C=(g=je(a)).localStore,T=s,x=je(C),N=je(x._n),x.persistence.runTransaction("Lookup mutation documents","readonly",function(V){return N.jt(V,T).next(function(q){return q?x.Mn.pn(V,q):we.resolve(null)})}))];case 1:return null===(y=b.sent())?[3,6]:"pending"!==l?[3,3]:[4,Zs(g.remoteStore)];case 2:return b.sent(),[3,4];case 3:"acknowledged"===l||"rejected"===l?(Cf(g,s,d||null),Sa(g,s),function(C,T){je(je(C)._n).Gt(T)}(g.localStore,s)):Ze(),b.label=4;case 4:return[4,ea(g,y)];case 5:return b.sent(),[3,7];case 6:Ce("SyncEngine","Cannot apply mutation batch with id: "+s),b.label=7;case 7:return[2]}var C,T,x,N})})}function Um(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d,g,y,b,T,x;return(0,I.Jh)(this,function(N){switch(N.label){case 0:return If(l=je(a)),Qh(l),!0!==s||!0===l.$o?[3,3]:(d=l.sharedClientState.getAllActiveQueryTargets(),[4,fo(l,d.toArray())]);case 1:return g=N.sent(),l.$o=!0,[4,Ca(l.remoteStore,!0)];case 2:for(N.sent(),y=0,b=g;y<b.length;y++)hf(l.remoteStore,b[y]);return[3,7];case 3:return!1!==s||!1===l.$o?[3,7]:(T=[],x=Promise.resolve(),l.Vo.forEach(function(V,q){l.sharedClientState.isLocalQueryTarget(q)?T.push(q):x=x.then(function(){return Ia(l,q),Ds(l.localStore,q,!0)}),Nh(l.remoteStore,q)}),[4,x]);case 4:return N.sent(),[4,fo(l,T)];case 5:return N.sent(),(q=je(l)).Co.forEach(function(ee,J){Nh(q.remoteStore,J)}),q.No.ts(),q.Co=new Map,q.Do=new Rn(fe.comparator),l.$o=!1,[4,Ca(l.remoteStore,!1)];case 6:N.sent(),N.label=7;case 7:return[2]}var q})})}function fo(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var d,g,y,b,C,T,x,N,V,q,J,re,Ie;return(0,I.Jh)(this,function(Pe){switch(Pe.label){case 0:d=je(a),g=[],y=[],b=0,C=s,Pe.label=1;case 1:return b<C.length?(x=void 0,(N=d.Vo.get(T=C[b]))&&0!==N.length?[4,pc(d.localStore,Ri(N[0]))]:[3,7]):[3,13];case 2:x=Pe.sent(),V=0,q=N,Pe.label=3;case 3:return V<q.length?(J=d.Po.get(q[V]),[4,ly(d,J)]):[3,6];case 4:(re=Pe.sent()).snapshot&&y.push(re.snapshot),Pe.label=5;case 5:return V++,[3,3];case 6:return[3,11];case 7:return[4,zp(d.localStore,T)];case 8:return Ie=Pe.sent(),[4,pc(d.localStore,Ie)];case 9:return x=Pe.sent(),[4,qh(d,Sf(Ie),T,!1)];case 10:Pe.sent(),Pe.label=11;case 11:g.push(x),Pe.label=12;case 12:return b++,[3,1];case 13:return[2,(d.vo._r(y),g)]}})})}function Sf(a){return xd(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function Hm(a){var s=je(a);return je(je(s.localStore).persistence).fn()}function dg(a,s,l,d){return(0,I.mG)(this,void 0,void 0,function(){var g,y,b;return(0,I.Jh)(this,function(C){switch(C.label){case 0:return(g=je(a)).$o?(Ce("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!g.Vo.has(s))return[3,8];switch(l){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,$p(g.localStore)];case 3:return y=C.sent(),b=Gs.createSynthesizedRemoteEventForCurrentChange(s,"current"===l),[4,ea(g,y,b)];case 4:return C.sent(),[3,8];case 5:return[4,Ds(g.localStore,s,!0)];case 6:return C.sent(),Ia(g,s,d),[3,8];case 7:Ze(),C.label=8;case 8:return[2]}})})}function qm(a,s,l){return(0,I.mG)(this,void 0,void 0,function(){var d,g,y,b,C,T,x,N,V;return(0,I.Jh)(this,function(ee){switch(ee.label){case 0:if(!(d=If(a)).$o)return[3,10];g=0,y=s,ee.label=1;case 1:return g<y.length?d.Vo.has(b=y[g])?(Ce("SyncEngine","Adding an already active target "+b),[3,5]):[4,zp(d.localStore,b)]:[3,6];case 2:return C=ee.sent(),[4,pc(d.localStore,C)];case 3:return T=ee.sent(),[4,qh(d,Sf(C),T.targetId,!1)];case 4:ee.sent(),hf(d.remoteStore,T),ee.label=5;case 5:return g++,[3,1];case 6:x=function(J){return(0,I.Jh)(this,function(re){switch(re.label){case 0:return d.Vo.has(J)?[4,Ds(d.localStore,J,!1).then(function(){Nh(d.remoteStore,J),Ia(d,J)}).catch(dc)]:[3,2];case 1:re.sent(),re.label=2;case 2:return[2]}})},N=0,V=l,ee.label=7;case 7:return N<V.length?[5,x(V[N])]:[3,10];case 8:ee.sent(),ee.label=9;case 9:return N++,[3,7];case 10:return[2]}})})}function If(a){var s=je(a);return s.remoteStore.remoteSyncer.applyRemoteEvent=zh.bind(null,s),s.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mu.bind(null,s),s.remoteStore.remoteSyncer.rejectListen=cg.bind(null,s),s.vo._r=og.bind(null,s.eventManager),s.vo.Mo=jm.bind(null,s.eventManager),s}function Qh(a){var s=je(a);return s.remoteStore.remoteSyncer.applySuccessfulWrite=Gh.bind(null,s),s.remoteStore.remoteSyncer.rejectFailedWrite=lg.bind(null,s),s}var pg=function(){function a(){this.synchronizeTabs=!1}return a.prototype.initialize=function(s){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(l){switch(l.label){case 0:return this.R=ml(s.databaseInfo.databaseId),this.sharedClientState=this.Bo(s),this.persistence=this.qo(s),[4,this.persistence.start()];case 1:return l.sent(),this.gcScheduler=this.Uo(s),this.localStore=this.Ko(s),[2]}})})},a.prototype.Uo=function(s){return null},a.prototype.Ko=function(s){return qp(this.persistence,new Am,s.initialUser,this.R)},a.prototype.qo=function(s){return new yi(af.bs,this.R)},a.prototype.Bo=function(s){return new vc},a.prototype.terminate=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){switch(s.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return s.sent(),[4,this.persistence.shutdown()];case 2:return s.sent(),[2]}})})},a}(),zm=function(a){function s(l,d,g){var y=this;return(y=a.call(this)||this).Qo=l,y.cacheSizeBytes=d,y.forceOwnership=g,y.synchronizeTabs=!1,y}return(0,I.ZT)(s,a),s.prototype.initialize=function(l){return(0,I.mG)(this,void 0,void 0,function(){var d=this;return(0,I.Jh)(this,function(g){switch(g.label){case 0:return[4,a.prototype.initialize.call(this,l)];case 1:return g.sent(),[4,Rm(this.localStore)];case 2:return g.sent(),[4,this.Qo.initialize(this,l)];case 3:return g.sent(),[4,Qh(this.Qo.syncEngine)];case 4:return g.sent(),[4,Zs(this.Qo.remoteStore)];case 5:return g.sent(),[4,this.persistence.He(function(){return d.gcScheduler&&!d.gcScheduler.started&&d.gcScheduler.start(d.localStore),Promise.resolve()})];case 6:return g.sent(),[2]}})})},s.prototype.Ko=function(l){return qp(this.persistence,new Am,l.initialUser,this.R)},s.prototype.Uo=function(l){return new Jv(this.persistence.referenceDelegate.garbageCollector,l.asyncQueue)},s.prototype.qo=function(l){var d=Tm(l.databaseInfo.databaseId,l.databaseInfo.persistenceKey),g=void 0!==this.cacheSizeBytes?Yo.withCacheSize(this.cacheSizeBytes):Yo.DEFAULT;return new Bp(this.synchronizeTabs,d,l.clientId,g,l.asyncQueue,gl(),yc(),this.R,this.sharedClientState,!!this.forceOwnership)},s.prototype.Bo=function(l){return new vc},s}(pg),dy=function(a){function s(l,d){var g=this;return(g=a.call(this,l,d,!1)||this).Qo=l,g.cacheSizeBytes=d,g.synchronizeTabs=!0,g}return(0,I.ZT)(s,a),s.prototype.initialize=function(l){return(0,I.mG)(this,void 0,void 0,function(){var d,g=this;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return[4,a.prototype.initialize.call(this,l)];case 1:return y.sent(),d=this.Qo.syncEngine,this.sharedClientState instanceof Ea?(this.sharedClientState.syncEngine={ui:hy.bind(null,d),ai:dg.bind(null,d),hi:qm.bind(null,d),fn:Hm.bind(null,d),ci:hg.bind(null,d)},[4,this.sharedClientState.start()]):[3,3];case 2:y.sent(),y.label=3;case 3:return[4,this.persistence.He(function(b){return(0,I.mG)(g,void 0,void 0,function(){return(0,I.Jh)(this,function(C){switch(C.label){case 0:return[4,Um(this.Qo.syncEngine,b)];case 1:return C.sent(),this.gcScheduler&&(b&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):b||this.gcScheduler.stop()),[2]}})})})];case 4:return y.sent(),[2]}})})},s.prototype.Bo=function(l){var d=gl();if(!Ea.yt(d))throw new me(se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var g=Tm(l.databaseInfo.databaseId,l.databaseInfo.persistenceKey);return new Ea(d,l.asyncQueue,g,l.clientId,l.initialUser)},s}(zm),mt=function(){function a(){}return a.prototype.initialize=function(s,l){return(0,I.mG)(this,void 0,void 0,function(){var d=this;return(0,I.Jh)(this,function(g){switch(g.label){case 0:return this.localStore?[3,2]:(this.localStore=s.localStore,this.sharedClientState=s.sharedClientState,this.datastore=this.createDatastore(l),this.remoteStore=this.createRemoteStore(l),this.eventManager=this.createEventManager(l),this.syncEngine=this.createSyncEngine(l,!s.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(y){return $h(d.syncEngine,y,1)},this.remoteStore.remoteSyncer.handleCredentialChange=cy.bind(null,this.syncEngine),[4,Ca(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:g.sent(),g.label=2;case 2:return[2]}})})},a.prototype.createEventManager=function(s){return new uy},a.prototype.createDatastore=function(s){var d=ml(s.databaseInfo.databaseId),g=new Xs(s.databaseInfo);return new sy(s.credentials,g,d)},a.prototype.createRemoteStore=function(s){var l,d,g,y,b,C=this;return l=this.localStore,d=this.datastore,g=s.asyncQueue,y=function(T){return $h(C.syncEngine,T,0)},b=Ph.yt()?new Ph:new Pm,new Xp(l,d,g,y,b)},a.prototype.createSyncEngine=function(s,l){return x=l,N=new ag(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,s.initialUser,s.maxConcurrentLimboResolutions),x&&(N.$o=!0),N;var x,N},a.prototype.terminate=function(){return function(s){return(0,I.mG)(this,void 0,void 0,function(){var l;return(0,I.Jh)(this,function(d){switch(d.label){case 0:return l=je(s),Ce("RemoteStore","RemoteStore shutting down."),l.Or.add(5),[4,yl(l)];case 1:return d.sent(),l.Lr.shutdown(),l.Br.set("Unknown"),[2]}})})}(this.remoteStore)},a}(),ta=function(){function a(s){this.observer=s,this.muted=!1}return a.prototype.next=function(s){this.observer.next&&this.jo(this.observer.next,s)},a.prototype.error=function(s){this.observer.error?this.jo(this.observer.error,s):console.error("Uncaught Error in snapshot listener:",s)},a.prototype.Wo=function(){this.muted=!0},a.prototype.jo=function(s,l){var d=this;this.muted||setTimeout(function(){d.muted||s(l)},0)},a}(),Af=(function(){function a(s,l){var d=this;this.Go=s,this.R=l,this.metadata=new Wn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(g){g&&g.io()?d.metadata.resolve(g.payload.metadata):d.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==g?void 0:g.payload)))},function(g){return d.metadata.reject(g)})}a.prototype.close=function(){return this.Go.cancel()},a.prototype.getMetadata=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){return[2,this.metadata.promise]})})},a.prototype.Lo=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){switch(s.label){case 0:return[4,this.getMetadata()];case 1:return[2,(s.sent(),this.Ho())]}})})},a.prototype.Ho=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l,d,g;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return[4,this.Jo()];case 1:return null===(s=y.sent())?[2,null]:(l=this.zo.decode(s),d=Number(l),isNaN(d)&&this.Yo("length string ("+l+") is not valid number"),[4,this.Xo(d)]);case 2:return g=y.sent(),[2,new Bm(JSON.parse(g),s.length+d)]}})})},a.prototype.Zo=function(){return this.buffer.findIndex(function(s){return s==="{".charCodeAt(0)})},a.prototype.Jo=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l;return(0,I.Jh)(this,function(d){switch(d.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(d.sent())return[3,3];d.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((s=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),l=this.buffer.slice(0,s),[2,(this.buffer=this.buffer.slice(s),l)])}})})},a.prototype.Xo=function(s){return(0,I.mG)(this,void 0,void 0,function(){var l;return(0,I.Jh)(this,function(d){switch(d.label){case 0:return this.buffer.length<s?[4,this.tc()]:[3,3];case 1:d.sent()&&this.Yo("Reached the end of bundle when more is expected."),d.label=2;case 2:return[3,0];case 3:return l=this.zo.decode(this.buffer.slice(0,s)),[2,(this.buffer=this.buffer.slice(s),l)]}})})},a.prototype.Yo=function(s){throw this.Go.cancel(),new Error("Invalid bundle format: "+s)},a.prototype.tc=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l;return(0,I.Jh)(this,function(d){switch(d.label){case 0:return[4,this.Go.read()];case 1:return(s=d.sent()).done||((l=new Uint8Array(this.buffer.length+s.value.length)).set(this.buffer),l.set(s.value,this.buffer.length),this.buffer=l),[2,s.done]}})})}}(),function(){function a(s){this.datastore=s,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return a.prototype.lookup=function(s){return(0,I.mG)(this,void 0,void 0,function(){var l,d=this;return(0,I.Jh)(this,function(g){switch(g.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new me(se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(y,b){return(0,I.mG)(this,void 0,void 0,function(){var C,T,x,N,V,q;return(0,I.Jh)(this,function(ee){switch(ee.label){case 0:return C=je(y),T=ai(C.R)+"/documents",x={documents:b.map(function(J){return uc(C.R,J)})},[4,C.$i("BatchGetDocuments",T,x)];case 1:return N=ee.sent(),V=new Map,N.forEach(function(J){var Ie,Pe,re=(Ie=C.R,"found"in(Pe=J)?function(st,lt){at(!!lt.found);var $t=Wi(st,lt.found.name),pn=ur(lt.found.updateTime),Fn=new $r({mapValue:{fields:lt.found.fields}});return Mi.newFoundDocument($t,pn,Fn)}(Ie,Pe):"missing"in Pe?function(st,lt){at(!!lt.missing),at(!!lt.readTime);var $t=Wi(st,lt.missing),pn=ur(lt.readTime);return Mi.newNoDocument($t,pn)}(Ie,Pe):Ze());V.set(re.key.toString(),re)}),q=[],[2,(b.forEach(function(J){var re=V.get(J.toString());at(!!re),q.push(re)}),q)]}})})}(this.datastore,s)];case 1:return[2,((l=g.sent()).forEach(function(y){return d.recordVersion(y)}),l)]}})})},a.prototype.set=function(s,l){this.write(l.toMutation(s,this.precondition(s))),this.writtenDocs.add(s.toString())},a.prototype.update=function(s,l){try{this.write(l.toMutation(s,this.preconditionForUpdate(s)))}catch(d){this.lastWriteError=d}this.writtenDocs.add(s.toString())},a.prototype.delete=function(s){this.write(new du(s,this.precondition(s))),this.writtenDocs.add(s.toString())},a.prototype.commit=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l=this;return(0,I.Jh)(this,function(d){switch(d.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return s=this.readVersions,this.mutations.forEach(function(g){s.delete(g.key.toString())}),s.forEach(function(g,y){var b=fe.fromPath(y);l.mutations.push(new bs(b,l.precondition(b)))}),[4,function(g,y){return(0,I.mG)(this,void 0,void 0,function(){var b,C,T;return(0,I.Jh)(this,function(x){switch(x.label){case 0:return b=je(g),C=ai(b.R)+"/documents",T={writes:y.map(function(N){return Ws(b.R,N)})},[4,b.Ni("Commit",C,T)];case 1:return x.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return d.sent(),this.committed=!0,[2]}})})},a.prototype.recordVersion=function(s){var l;if(s.isFoundDocument())l=s.version;else{if(!s.isNoDocument())throw Ze();l=Et.min()}var d=this.readVersions.get(s.key.toString());if(d){if(!l.isEqual(d))throw new me(se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(s.key.toString(),l)},a.prototype.precondition=function(s){var l=this.readVersions.get(s.toString());return!this.writtenDocs.has(s.toString())&&l?nr.updateTime(l):nr.none()},a.prototype.preconditionForUpdate=function(s){var l=this.readVersions.get(s.toString());if(!this.writtenDocs.has(s.toString())&&l){if(l.isEqual(Et.min()))throw new me(se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nr.updateTime(l)}return nr.exists(!0)},a.prototype.write=function(s){this.ensureCommitNotCalled(),this.mutations.push(s)},a.prototype.ensureCommitNotCalled=function(){},a}()),po=function(){function a(s,l,d,g){this.asyncQueue=s,this.datastore=l,this.updateFunction=d,this.deferred=g,this.ec=5,this.Zi=new Qp(this.asyncQueue,"transaction_retry")}return a.prototype.run=function(){this.ec-=1,this.nc()},a.prototype.nc=function(){var s=this;this.Zi.ji(function(){return(0,I.mG)(s,void 0,void 0,function(){var l,d,g=this;return(0,I.Jh)(this,function(y){return l=new Af(this.datastore),(d=this.sc(l))&&d.then(function(b){g.asyncQueue.enqueueAndForget(function(){return l.commit().then(function(){g.deferred.resolve(b)}).catch(function(C){g.ic(C)})})}).catch(function(b){g.ic(b)}),[2]})})})},a.prototype.sc=function(s){try{var l=this.updateFunction(s);return!Ti(l)&&l.catch&&l.then?l:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(d){return this.deferred.reject(d),null}},a.prototype.ic=function(s){var l=this;this.ec>0&&this.rc(s)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return l.nc(),Promise.resolve()})):this.deferred.reject(s)},a.prototype.rc=function(s){if("FirebaseError"===s.name){var l=s.code;return"aborted"===l||"failed-precondition"===l||!va(l)}return!1},a}(),Mf=function(){function a(s,l,d){var g=this;this.credentials=s,this.asyncQueue=l,this.databaseInfo=d,this.user=Qr.UNAUTHENTICATED,this.clientId=Cn.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(l,function(y){return(0,I.mG)(g,void 0,void 0,function(){return(0,I.Jh)(this,function(b){switch(b.label){case 0:return Ce("FirestoreClient","Received user=",y.uid),[4,this.credentialListener(y)];case 1:return b.sent(),this.user=y,[2]}})})})}return a.prototype.getConfiguration=function(){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},a.prototype.setCredentialChangeListener=function(s){this.credentialListener=s},a.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.")},a.prototype.terminate=function(){var s=this;this.asyncQueue.enterRestrictedMode();var l=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,I.mG)(s,void 0,void 0,function(){var d,g;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return y.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:y.sent(),y.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:y.sent(),y.label=4;case 4:return this.credentials.removeChangeListener(),l.resolve(),[3,6];case 5:return d=y.sent(),g=Da(d,"Failed to shutdown persistence"),l.reject(g),[3,6];case 6:return[2]}})})}),l.promise},a}();function $m(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d,g=this;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return a.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider"),[4,a.getConfiguration()];case 1:return l=y.sent(),[4,s.initialize(l)];case 2:return y.sent(),d=l.initialUser,a.setCredentialChangeListener(function(b){return(0,I.mG)(g,void 0,void 0,function(){return(0,I.Jh)(this,function(C){switch(C.label){case 0:return d.isEqual(b)?[3,2]:[4,Rh(s.localStore,b)];case 1:C.sent(),d=b,C.label=2;case 2:return[2]}})})}),s.persistence.setDatabaseDeletedListener(function(){return a.terminate()}),a.offlineComponents=s,[2]}})})}function bl(a,s){return(0,I.mG)(this,void 0,void 0,function(){var l,d;return(0,I.Jh)(this,function(g){switch(g.label){case 0:return a.asyncQueue.verifyOperationInProgress(),[4,Mo(a)];case 1:return l=g.sent(),Ce("FirestoreClient","Initializing OnlineComponentProvider"),[4,a.getConfiguration()];case 2:return d=g.sent(),[4,s.initialize(l,d)];case 3:return g.sent(),a.setCredentialChangeListener(function(y){return function(b,C){return(0,I.mG)(this,void 0,void 0,function(){var T,x;return(0,I.Jh)(this,function(N){switch(N.label){case 0:return(T=je(b)).asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials"),x=Ao(T),T.Or.add(3),[4,yl(T)];case 1:return N.sent(),x&&T.Br.set("Unknown"),[4,T.remoteSyncer.handleCredentialChange(C)];case 2:return N.sent(),T.Or.delete(3),[4,vl(T)];case 3:return N.sent(),[2]}})})}(s.remoteStore,y)}),a.onlineComponents=s,[2]}})})}function Mo(a){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){switch(s.label){case 0:return a.offlineComponents?[3,2]:(Ce("FirestoreClient","Using default OfflineComponentProvider"),[4,$m(a,new pg)]);case 1:s.sent(),s.label=2;case 2:return[2,a.offlineComponents]}})})}function wc(a){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(s){switch(s.label){case 0:return a.onlineComponents?[3,2]:(Ce("FirestoreClient","Using default OnlineComponentProvider"),[4,bl(a,new mt)]);case 1:s.sent(),s.label=2;case 2:return[2,a.onlineComponents]}})})}function Rf(a){return Mo(a).then(function(s){return s.persistence})}function Xh(a){return Mo(a).then(function(s){return s.localStore})}function fy(a){return wc(a).then(function(s){return s.remoteStore})}function Ec(a){return wc(a).then(function(s){return s.syncEngine})}function Zh(a){return(0,I.mG)(this,void 0,void 0,function(){var s,l;return(0,I.Jh)(this,function(d){switch(d.label){case 0:return[4,wc(a)];case 1:return s=d.sent(),[2,((l=s.eventManager).onListen=ug.bind(null,s.syncEngine),l.onUnlisten=_l.bind(null,s.syncEngine),l)]}})})}function Jh(a,s,l){var d=this;void 0===l&&(l={});var g=new Wn;return a.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(d,void 0,void 0,function(){var y;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return y=function(C,T,x,N,V){var q=new ta({next:function(J){T.enqueueAndForget(function(){return bc(C,ee)});var re=J.docs.has(x);!re&&J.fromCache?V.reject(new me(se.UNAVAILABLE,"Failed to get document because the client is offline.")):re&&J.fromCache&&N&&"server"===N.source?V.reject(new me(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):V.resolve(J)},error:function(J){return V.reject(J)}}),ee=new vf(sc(x.path),q,{includeMetadataChanges:!0,so:!0});return mf(C,ee)},[4,Zh(a)];case 1:return[2,y.apply(void 0,[b.sent(),a.asyncQueue,s,l,g])]}})})}),g.promise}function _i(a,s,l){var d=this;void 0===l&&(l={});var g=new Wn;return a.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(d,void 0,void 0,function(){var y;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return y=function(C,T,x,N,V){var q=new ta({next:function(J){T.enqueueAndForget(function(){return bc(C,ee)}),J.fromCache&&"server"===N.source?V.reject(new me(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):V.resolve(J)},error:function(J){return V.reject(J)}}),ee=new vf(x,q,{includeMetadataChanges:!0,so:!0});return mf(C,ee)},[4,Zh(a)];case 1:return[2,y.apply(void 0,[b.sent(),a.asyncQueue,s,l,g])]}})})}),g.promise}var ed=function(a,s,l,d,g,y,b,C){this.databaseId=a,this.appId=s,this.persistenceKey=l,this.host=d,this.ssl=g,this.forceLongPolling=y,this.autoDetectLongPolling=b,this.useFetchStreams=C},Ru=function(){function a(s,l){this.projectId=s,this.database=l||"(default)"}return Object.defineProperty(a.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(s){return s instanceof a&&s.projectId===this.projectId&&s.database===this.database},a}(),wl=new Map,td=function(a,s){this.user=s,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+a},kf=function(){function a(){this.changeListener=null}return a.prototype.getToken=function(){return Promise.resolve(null)},a.prototype.invalidateToken=function(){},a.prototype.setChangeListener=function(s,l){this.changeListener=l,s.enqueueRetryable(function(){return l(Qr.UNAUTHENTICATED)})},a.prototype.removeChangeListener=function(){this.changeListener=null},a}(),gg=function(){function a(s){this.token=s,this.changeListener=null}return a.prototype.getToken=function(){return Promise.resolve(this.token)},a.prototype.invalidateToken=function(){},a.prototype.setChangeListener=function(s,l){var d=this;this.changeListener=l,s.enqueueRetryable(function(){return l(d.token.user)})},a.prototype.removeChangeListener=function(){this.changeListener=null},a}(),py=function(){function a(s){var l=this;this.currentUser=Qr.UNAUTHENTICATED,this.oc=new Wn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){l.cc++,l.currentUser=l.ac(),l.oc.resolve(),l.changeListener&&l.asyncQueue.enqueueRetryable(function(){return l.changeListener(l.currentUser)})};var d=function(g){Ce("FirebaseCredentialsProvider","Auth detected"),l.auth=g,l.auth.addAuthTokenListener(l.uc)};s.onInit(function(g){return d(g)}),setTimeout(function(){if(!l.auth){var g=s.getImmediate({optional:!0});g?d(g):(Ce("FirebaseCredentialsProvider","Auth not yet detected"),l.oc.resolve())}},0)}return a.prototype.getToken=function(){var s=this,l=this.cc,d=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(d).then(function(g){return s.cc!==l?(Ce("FirebaseCredentialsProvider","getToken aborted due to token change."),s.getToken()):g?(at("string"==typeof g.accessToken),new td(g.accessToken,s.currentUser)):null}):Promise.resolve(null)},a.prototype.invalidateToken=function(){this.forceRefresh=!0},a.prototype.setChangeListener=function(s,l){var d=this;this.asyncQueue=s,this.asyncQueue.enqueueRetryable(function(){return(0,I.mG)(d,void 0,void 0,function(){return(0,I.Jh)(this,function(g){switch(g.label){case 0:return[4,this.oc.promise];case 1:return g.sent(),[4,l(this.currentUser)];case 2:return g.sent(),this.changeListener=l,[2]}})})})},a.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},a.prototype.ac=function(){var s=this.auth&&this.auth.getUid();return at(null===s||"string"==typeof s),new Qr(s)},a}(),Gm=function(){function a(s,l,d){this.hc=s,this.lc=l,this.fc=d,this.type="FirstParty",this.user=Qr.FIRST_PARTY}return Object.defineProperty(a.prototype,"authHeaders",{get:function(){var s={"X-Goog-AuthUser":this.lc},l=this.hc.auth.getAuthHeaderValueForFirstParty([]);return l&&(s.Authorization=l),this.fc&&(s["X-Goog-Iam-Authorization-Token"]=this.fc),s},enumerable:!1,configurable:!0}),a}(),Of=function(){function a(s,l,d){this.hc=s,this.lc=l,this.fc=d}return a.prototype.getToken=function(){return Promise.resolve(new Gm(this.hc,this.lc,this.fc))},a.prototype.setChangeListener=function(s,l){s.enqueueRetryable(function(){return l(Qr.FIRST_PARTY)})},a.prototype.removeChangeListener=function(){},a.prototype.invalidateToken=function(){},a}();function xf(a,s,l){if(!l)throw new me(se.INVALID_ARGUMENT,"Function "+a+"() cannot be called with an empty "+s+".")}function mg(a,s){if(void 0===s)return{merge:!1};if(void 0!==s.mergeFields&&void 0!==s.merge)throw new me(se.INVALID_ARGUMENT,"Invalid options passed to function "+a+'(): You cannot specify both "merge" and "mergeFields".');return s}function Cc(a,s,l,d){if(!0===s&&!0===d)throw new me(se.INVALID_ARGUMENT,a+" and "+l+" cannot be used together.")}function Dc(a){if(!fe.isDocumentKey(a))throw new me(se.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+a+" has "+a.length+".")}function Pf(a){if(fe.isDocumentKey(a))throw new me(se.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+a+" has "+a.length+".")}function nd(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=a.substring(0,20)+"..."),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";var s=function(l){if(l.constructor){var d=/function\s+([^\s(]+)\s*\(/.exec(l.constructor.toString());if(d&&d.length>1)return d[1]}return null}(a);return s?"a custom "+s+" object":"an object"}return"function"==typeof a?"a function":Ze()}function Yt(a,s){if("_delegate"in a&&(a=a._delegate),!(a instanceof s)){if(s.name===a.constructor.name)throw new me(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var l=nd(a);throw new me(se.INVALID_ARGUMENT,"Expected type '"+s.name+"', but it was: "+l)}return a}function vg(a,s){if(s<=0)throw new me(se.INVALID_ARGUMENT,"Function "+a+"() requires a positive number, but it was: "+s+".")}var yg=function(){function a(s){var l;if(void 0===s.host){if(void 0!==s.ssl)throw new me(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=s.host,this.ssl=null===(l=s.ssl)||void 0===l||l;if(this.credentials=s.credentials,this.ignoreUndefinedProperties=!!s.ignoreUndefinedProperties,void 0===s.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==s.cacheSizeBytes&&s.cacheSizeBytes<1048576)throw new me(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=s.cacheSizeBytes}this.experimentalForceLongPolling=!!s.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!s.experimentalAutoDetectLongPolling,this.useFetchStreams=!!s.useFetchStreams,Cc("experimentalForceLongPolling",s.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",s.experimentalAutoDetectLongPolling)}return a.prototype.isEqual=function(s){return this.host===s.host&&this.ssl===s.ssl&&this.credentials===s.credentials&&this.cacheSizeBytes===s.cacheSizeBytes&&this.experimentalForceLongPolling===s.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===s.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===s.ignoreUndefinedProperties&&this.useFetchStreams===s.useFetchStreams},a}(),rd=function(){function a(s,l){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yg({}),this._settingsFrozen=!1,s instanceof Ru?(this._databaseId=s,this._credentials=new kf):(this._app=s,this._databaseId=function(d){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new me(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(d.options.projectId)}(s),this._credentials=new py(l))}return Object.defineProperty(a.prototype,"app",{get:function(){if(!this._app)throw new me(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),a.prototype._setSettings=function(s){if(this._settingsFrozen)throw new me(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yg(s),void 0!==s.credentials&&(this._credentials=function(l){if(!l)return new kf;switch(l.type){case"gapi":var d=l.client;return at(!("object"!=typeof d||null===d||!d.auth||!d.auth.getAuthHeaderValueForFirstParty)),new Of(d,l.sessionIndex||"0",l.iamToken||null);case"provider":return l.client;default:throw new me(se.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(s.credentials))},a.prototype._getSettings=function(){return this._settings},a.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},a.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},a.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},a.prototype._terminate=function(){return(l=wl.get(this))&&(Ce("ComponentProvider","Removing Datastore"),wl.delete(this),l.terminate()),Promise.resolve();var l},a}(),Dn=function(){function a(s,l,d){this.converter=l,this._key=d,this.type="document",this.firestore=s}return Object.defineProperty(a.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){return new Ta(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),a.prototype.withConverter=function(s){return new a(this.firestore,s,this._key)},a}(),Oi=function(){function a(s,l,d){this.converter=l,this._query=d,this.type="query",this.firestore=s}return a.prototype.withConverter=function(s){return new a(this.firestore,s,this._query)},a}(),Ta=function(a){function s(l,d,g){var y=this;return(y=a.call(this,l,d,sc(g))||this)._path=g,y.type="collection",y}return(0,I.ZT)(s,a),Object.defineProperty(s.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){var l=this._path.popLast();return l.isEmpty()?null:new Dn(this.firestore,null,new fe(l))},enumerable:!1,configurable:!0}),s.prototype.withConverter=function(l){return new s(this.firestore,l,this._path)},s}(Oi);function na(a,s){for(var l,d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];if(a=(0,Ge.m9)(a),xf("collection","path",s),a instanceof rd)return Pf(l=rt.fromString.apply(rt,(0,I.ev)([s],d))),new Ta(a,null,l);if(!(a instanceof Dn||a instanceof Ta))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Pf(l=rt.fromString.apply(rt,(0,I.ev)([a.path],d)).child(rt.fromString(s))),new Ta(a.firestore,null,l)}function _g(a,s){for(var l,d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];if(a=(0,Ge.m9)(a),1===arguments.length&&(s=Cn.u()),xf("doc","path",s),a instanceof rd)return Dc(l=rt.fromString.apply(rt,(0,I.ev)([s],d))),new Dn(a,null,new fe(l));if(!(a instanceof Dn||a instanceof Ta))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Dc(l=a._path.child(rt.fromString.apply(rt,(0,I.ev)([s],d)))),new Dn(a.firestore,a instanceof Ta?a.converter:null,new fe(l))}function gy(a,s){return a=(0,Ge.m9)(a),s=(0,Ge.m9)(s),(a instanceof Dn||a instanceof Ta)&&(s instanceof Dn||s instanceof Ta)&&a.firestore===s.firestore&&a.path===s.path&&a.converter===s.converter}function Nf(a,s){return a=(0,Ge.m9)(a),s=(0,Ge.m9)(s),a instanceof Oi&&s instanceof Oi&&a.firestore===s.firestore&&hh(a._query,s._query)&&a.converter===s.converter}var Xo=function(){function a(){var s=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Qp(this,"async_queue_retry"),this.Ic=function(){var d=yc();d&&Ce("AsyncQueue","Visibility state changed to "+d.visibilityState),s.Zi.Gi()};var l=yc();l&&"function"==typeof l.addEventListener&&l.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(a.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),a.prototype.enqueueAndForget=function(s){this.enqueue(s)},a.prototype.enqueueAndForgetEvenWhileRestricted=function(s){this.Ac(),this.Rc(s)},a.prototype.enterRestrictedMode=function(s){if(!this._c){this._c=!0,this.Ec=s||!1;var l=yc();l&&"function"==typeof l.removeEventListener&&l.removeEventListener("visibilitychange",this.Ic)}},a.prototype.enqueue=function(s){var l=this;if(this.Ac(),this._c)return new Promise(function(){});var d=new Wn;return this.Rc(function(){return l._c&&l.Ec?Promise.resolve():(s().then(d.resolve,d.reject),d.promise)}).then(function(){return d.promise})},a.prototype.enqueueRetryable=function(s){var l=this;this.enqueueAndForget(function(){return l.wc.push(s),l.bc()})},a.prototype.bc=function(){return(0,I.mG)(this,void 0,void 0,function(){var s,l=this;return(0,I.Jh)(this,function(d){switch(d.label){case 0:if(0===this.wc.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return d.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!wu(s=d.sent()))throw s;return Ce("AsyncQueue","Operation failed with retryable error: "+s),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return l.bc()}),d.label=5;case 5:return[2]}})})},a.prototype.Rc=function(s){var l=this,d=this.dc.then(function(){return l.gc=!0,s().catch(function(g){throw l.yc=g,l.gc=!1,wr("INTERNAL UNHANDLED ERROR: ",(b=(y=g).message||"",y.stack&&(b=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),b)),g;var y,b}).then(function(g){return l.gc=!1,g})});return this.dc=d,d},a.prototype.enqueueAfterDelay=function(s,l,d){var g=this;this.Ac(),this.Tc.indexOf(s)>-1&&(l=0);var y=ig.createAndSchedule(this,s,l,d,function(b){return g.vc(b)});return this.mc.push(y),y},a.prototype.Ac=function(){this.yc&&Ze()},a.prototype.verifyOperationInProgress=function(){},a.prototype.Pc=function(){return(0,I.mG)(this,void 0,void 0,function(){var s;return(0,I.Jh)(this,function(l){switch(l.label){case 0:return[4,s=this.dc];case 1:l.sent(),l.label=2;case 2:if(s!==this.dc)return[3,0];l.label=3;case 3:return[2]}})})},a.prototype.Vc=function(s){for(var l=0,d=this.mc;l<d.length;l++)if(d[l].timerId===s)return!0;return!1},a.prototype.Sc=function(s){var l=this;return this.Pc().then(function(){l.mc.sort(function(b,C){return b.targetTimeMs-C.targetTimeMs});for(var d=0,g=l.mc;d<g.length;d++){var y=g[d];if(y.skipDelay(),"all"!==s&&y.timerId===s)break}return l.Pc()})},a.prototype.Dc=function(s){this.Tc.push(s)},a.prototype.vc=function(s){var l=this.mc.indexOf(s);this.mc.splice(l,1)},a}();function Aa(a){return function(s,l){if("object"!=typeof s||null===s)return!1;for(var d=s,g=0,y=["next","error","complete"];g<y.length;g++){var b=y[g];if(b in d&&"function"==typeof d[b])return!0}return!1}(a)}!function(){function a(){this._progressObserver={},this._taskCompletionResolver=new Wn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}a.prototype.onProgress=function(s,l,d){this._progressObserver={next:s,error:l,complete:d}},a.prototype.catch=function(s){return this._taskCompletionResolver.promise.catch(s)},a.prototype.then=function(s,l){return this._taskCompletionResolver.promise.then(s,l)},a.prototype._completeWith=function(s){this._updateProgress(s),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(s)},a.prototype._failWith=function(s){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(s),this._taskCompletionResolver.reject(s)},a.prototype._updateProgress=function(s){this._lastProgress=s,this._progressObserver.next&&this._progressObserver.next(s)}}();var or=function(a){function s(l,d){var g=this;return(g=a.call(this,l,d)||this).type="firestore",g._queue=new Xo,g._persistenceKey="name"in l?l.name:"[DEFAULT]",g}return(0,I.ZT)(s,a),s.prototype._terminate=function(){return this._firestoreClient||Ff(this),this._firestoreClient.terminate()},s}(rd);function zt(a){return a._firestoreClient||Ff(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function Ff(a){var s,y,C,l=a._freezeSettings(),d=(y=(null===(s=a._app)||void 0===s?void 0:s.options.appId)||"",new ed(a._databaseId,y,a._persistenceKey,(C=l).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));a._firestoreClient=new Mf(a._credentials,a._queue,d)}function wg(a,s,l){var d=this,g=new Wn;return a.asyncQueue.enqueue(function(){return(0,I.mG)(d,void 0,void 0,function(){var y;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return b.trys.push([0,3,,4]),[4,$m(a,l)];case 1:return b.sent(),[4,bl(a,s)];case 2:return b.sent(),g.resolve(),[3,4];case 3:if(!("FirebaseError"===(C=y=b.sent()).name?C.code===se.FAILED_PRECONDITION||C.code===se.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&C instanceof DOMException)||22===C.code||20===C.code||11===C.code))throw y;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+y),g.reject(y),[3,4];case 4:return[2]}var C})})}).then(function(){return g.promise})}function Ma(a){if(a._initialized||a._terminated)throw new me(se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Is=function(){function a(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];for(var d=0;d<s.length;++d)if(0===s[d].length)throw new me(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ms(s)}return a.prototype.isEqual=function(s){return this._internalPath.isEqual(s._internalPath)},a}(),Sc=function(){function a(s){this._byteString=s}return a.fromBase64String=function(s){try{return new a(Mn.fromBase64String(s))}catch(l){throw new me(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+l)}},a.fromUint8Array=function(s){return new a(Mn.fromUint8Array(s))},a.prototype.toBase64=function(){return this._byteString.toBase64()},a.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},a.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},a.prototype.isEqual=function(s){return this._byteString.isEqual(s._byteString)},a}(),Ts=function(a){this._methodName=a},id=function(){function a(s,l){if(!isFinite(s)||s<-90||s>90)throw new me(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+s);if(!isFinite(l)||l<-180||l>180)throw new me(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+l);this._lat=s,this._long=l}return Object.defineProperty(a.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(s){return this._lat===s._lat&&this._long===s._long},a.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},a.prototype._compareTo=function(s){return Je(this._lat,s._lat)||Je(this._long,s._long)},a}(),Km=/^__.*__$/,Eg=function(){function a(s,l,d){this.data=s,this.fieldMask=l,this.fieldTransforms=d}return a.prototype.toMutation=function(s,l){return null!==this.fieldMask?new Er(s,this.data,this.fieldMask,l,this.fieldTransforms):new mh(s,this.data,l,this.fieldTransforms)},a}(),Lf=function(){function a(s,l,d){this.data=s,this.fieldMask=l,this.fieldTransforms=d}return a.prototype.toMutation=function(s,l){return new Er(s,this.data,this.fieldMask,l,this.fieldTransforms)},a}();function El(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze()}}var Ra=function(){function a(s,l,d,g,y,b){this.settings=s,this.databaseId=l,this.R=d,this.ignoreUndefinedProperties=g,void 0===y&&this.Cc(),this.fieldTransforms=y||[],this.fieldMask=b||[]}return Object.defineProperty(a.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),a.prototype.xc=function(s){return new a(Object.assign(Object.assign({},this.settings),s),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},a.prototype.kc=function(s){var l,d=null===(l=this.path)||void 0===l?void 0:l.child(s),g=this.xc({path:d,Fc:!1});return g.$c(s),g},a.prototype.Oc=function(s){var l,d=null===(l=this.path)||void 0===l?void 0:l.child(s),g=this.xc({path:d,Fc:!1});return g.Cc(),g},a.prototype.Mc=function(s){return this.xc({path:void 0,Fc:!0})},a.prototype.Lc=function(s){return Hf(s,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},a.prototype.contains=function(s){return void 0!==this.fieldMask.find(function(l){return s.isPrefixOf(l)})||void 0!==this.fieldTransforms.find(function(l){return s.isPrefixOf(l.field)})},a.prototype.Cc=function(){if(this.path)for(var s=0;s<this.path.length;s++)this.$c(this.path.get(s))},a.prototype.$c=function(s){if(0===s.length)throw this.Lc("Document fields must not be empty");if(El(this.Nc)&&Km.test(s))throw this.Lc('Document fields cannot begin and end with "__"')},a}(),Zo=function(){function a(s,l,d){this.databaseId=s,this.ignoreUndefinedProperties=l,this.R=d||ml(s)}return a.prototype.Uc=function(s,l,d,g){return void 0===g&&(g=!1),new Ra({Nc:s,methodName:l,qc:d,path:ms.emptyPath(),Fc:!1,Bc:g},this.databaseId,this.R,this.ignoreUndefinedProperties)},a}();function Jo(a){var s=a._freezeSettings(),l=ml(a._databaseId);return new Zo(a._databaseId,!!s.ignoreUndefinedProperties,l)}function ka(a,s,l,d,g,y){void 0===y&&(y={});var b=a.Uc(y.merge||y.mergeFields?2:0,s,l,g);Uf("Data must be an object, but it was:",b,d);var C,T,x=my(d,b);if(y.merge)C=new Ii(b.fieldMask),T=b.fieldTransforms;else if(y.mergeFields){for(var N=[],V=0,q=y.mergeFields;V<q.length;V++){var ee=ku(s,q[V],l);if(!b.contains(ee))throw new me(se.INVALID_ARGUMENT,"Field '"+ee+"' is specified in your field mask but missing from your input data.");Nr(N,ee)||N.push(ee)}C=new Ii(N),T=b.fieldTransforms.filter(function(J){return C.covers(J.field)})}else C=null,T=b.fieldTransforms;return new Eg(new $r(x),C,T)}var Oa=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s.prototype._toFieldTransform=function(l){if(2!==l.Nc)throw l.Lc(1===l.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return l.fieldMask.push(l.path),null},s.prototype.isEqual=function(l){return l instanceof s},s}(Ts);function Cg(a,s,l){return new Ra({Nc:3,qc:s.settings.qc,methodName:a._methodName,Fc:l},s.databaseId,s.R,s.ignoreUndefinedProperties)}var Ic=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s.prototype._toFieldTransform=function(l){return new ga(l.path,new Gi)},s.prototype.isEqual=function(l){return l instanceof s},s}(Ts),es=function(a){function s(l,d){var g=this;return(g=a.call(this,l)||this).Kc=d,g}return(0,I.ZT)(s,a),s.prototype._toFieldTransform=function(l){var d=Cg(this,l,!0),g=this.Kc.map(function(b){return ra(b,d)}),y=new Wo(g);return new ga(l.path,y)},s.prototype.isEqual=function(l){return this===l},s}(Ts),jf=function(a){function s(l,d){var g=this;return(g=a.call(this,l)||this).Kc=d,g}return(0,I.ZT)(s,a),s.prototype._toFieldTransform=function(l){var d=Cg(this,l,!0),g=this.Kc.map(function(b){return ra(b,d)}),y=new uu(g);return new ga(l.path,y)},s.prototype.isEqual=function(l){return this===l},s}(Ts),Bf=function(a){function s(l,d){var g=this;return(g=a.call(this,l)||this).Qc=d,g}return(0,I.ZT)(s,a),s.prototype._toFieldTransform=function(l){var d=new tl(l.R,fh(l.R,this.Qc));return new ga(l.path,d)},s.prototype.isEqual=function(l){return this===l},s}(Ts);function od(a,s,l,d){var g=a.Uc(1,s,l);Uf("Data must be an object, but it was:",g,d);var y=[],b=$r.empty();dn(d,function(T,x){var N=Dg(s,T,l);x=(0,Ge.m9)(x);var V=g.Oc(N);if(x instanceof Oa)y.push(N);else{var q=ra(x,V);null!=q&&(y.push(N),b.set(N,q))}});var C=new Ii(y);return new Lf(b,C,g.fieldTransforms)}function Cl(a,s,l,d,g,y){var b=a.Uc(1,s,l),C=[ku(s,d,l)],T=[g];if(y.length%2!=0)throw new me(se.INVALID_ARGUMENT,"Function "+s+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var x=0;x<y.length;x+=2)C.push(ku(s,y[x])),T.push(y[x+1]);for(var N=[],V=$r.empty(),q=C.length-1;q>=0;--q)if(!Nr(N,C[q])){var ee=C[q],J=T[q];J=(0,Ge.m9)(J);var re=b.Oc(ee);if(J instanceof Oa)N.push(ee);else{var Ie=ra(J,re);null!=Ie&&(N.push(ee),V.set(ee,Ie))}}var Pe=new Ii(N);return new Lf(V,Pe,b.fieldTransforms)}function Ym(a,s,l,d){return void 0===d&&(d=!1),ra(l,a.Uc(d?4:3,s))}function ra(a,s){if(Vf(a=(0,Ge.m9)(a)))return Uf("Unsupported field value:",s,a),my(a,s);if(a instanceof Ts)return function(l,d){if(!El(d.Nc))throw d.Lc(l._methodName+"() can only be used with update() and set()");if(!d.path)throw d.Lc(l._methodName+"() is not currently supported inside arrays");var g=l._toFieldTransform(d);g&&d.fieldTransforms.push(g)}(a,s),null;if(void 0===a&&s.ignoreUndefinedProperties)return null;if(s.path&&s.fieldMask.push(s.path),a instanceof Array){if(s.settings.Fc&&4!==s.Nc)throw s.Lc("Nested arrays are not supported");return function(l,d){for(var g=[],y=0,b=0,C=l;b<C.length;b++){var T=ra(C[b],d.Mc(y));null==T&&(T={nullValue:"NULL_VALUE"}),g.push(T),y++}return{arrayValue:{values:g}}}(a,s)}return function(l,d){if(null===(l=(0,Ge.m9)(l)))return{nullValue:"NULL_VALUE"};if("number"==typeof l)return fh(d.R,l);if("boolean"==typeof l)return{booleanValue:l};if("string"==typeof l)return{stringValue:l};if(l instanceof Date){var g=pi.fromDate(l);return{timestampValue:Vd(d.R,g)}}if(l instanceof pi)return g=new pi(l.seconds,1e3*Math.floor(l.nanoseconds/1e3)),{timestampValue:Vd(d.R,g)};if(l instanceof id)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof Sc)return{bytesValue:Rp(d.R,l._byteString)};if(l instanceof Dn){var y=l.firestore._databaseId;if(!y.isEqual(g=d.databaseId))throw d.Lc("Document reference is for database "+y.projectId+"/"+y.database+" but should be for database "+g.projectId+"/"+g.database);return{referenceValue:Hd(l.firestore._databaseId||d.databaseId,l._key.path)}}throw d.Lc("Unsupported field value: "+nd(l))}(a,s)}function my(a,s){var l={};return Id(a)?s.path&&s.path.length>0&&s.fieldMask.push(s.path):dn(a,function(d,g){var y=ra(g,s.kc(d));null!=y&&(l[d]=y)}),{mapValue:{fields:l}}}function Vf(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof pi||a instanceof id||a instanceof Sc||a instanceof Dn||a instanceof Ts)}function Uf(a,s,l){if(!Vf(l)||"object"!=typeof(g=l)||null===g||Object.getPrototypeOf(g)!==Object.prototype&&null!==Object.getPrototypeOf(g)){var d=nd(l);throw s.Lc("an object"===d?a+" a custom object":a+" "+d)}var g}function ku(a,s,l){if((s=(0,Ge.m9)(s))instanceof Is)return s._internalPath;if("string"==typeof s)return Dg(a,s);throw Hf("Field path arguments must be of type string or FieldPath.",a,!1,void 0,l)}var Qm=new RegExp("[~\\*/\\[\\]]");function Dg(a,s,l){if(s.search(Qm)>=0)throw Hf("Invalid field path ("+s+"). Paths must not contain '~', '*', '/', '[', or ']'",a,!1,void 0,l);try{return(new(Is.bind.apply(Is,(0,I.ev)([void 0],s.split(".")))))._internalPath}catch(d){throw Hf("Invalid field path ("+s+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",a,!1,void 0,l)}}function Hf(a,s,l,d,g){var y=d&&!d.isEmpty(),b=void 0!==g,C="Function "+s+"() called with invalid data";l&&(C+=" (via `toFirestore()`)");var T="";return(y||b)&&(T+=" (found",y&&(T+=" in field "+d),b&&(T+=" in document "+g),T+=")"),new me(se.INVALID_ARGUMENT,(C+=". ")+a+T)}function Nr(a,s){return a.some(function(l){return l.isEqual(s)})}var fn=function(){function a(s,l,d,g,y){this._firestore=s,this._userDataWriter=l,this._key=d,this._document=g,this._converter=y}return Object.defineProperty(a.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ref",{get:function(){return new Dn(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),a.prototype.exists=function(){return null!==this._document},a.prototype.data=function(){if(this._document){if(this._converter){var s=new Ot(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(s)}return this._userDataWriter.convertValue(this._document.data.value)}},a.prototype.get=function(s){if(this._document){var l=this._document.data.field(Dl("DocumentSnapshot.get",s));if(null!==l)return this._userDataWriter.convertValue(l)}},a}(),Ot=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s.prototype.data=function(){return a.prototype.data.call(this)},s}(fn);function Dl(a,s){return"string"==typeof s?Dg(a,s):s instanceof Is?s._internalPath:s._delegate._internalPath}var ia=function(){function a(s,l){this.hasPendingWrites=s,this.fromCache=l}return a.prototype.isEqual=function(s){return this.hasPendingWrites===s.hasPendingWrites&&this.fromCache===s.fromCache},a}(),oa=function(a){function s(l,d,g,y,b,C){var T=this;return(T=a.call(this,l,d,g,y,C)||this)._firestore=l,T._firestoreImpl=l,T.metadata=b,T}return(0,I.ZT)(s,a),s.prototype.exists=function(){return a.prototype.exists.call(this)},s.prototype.data=function(l){if(void 0===l&&(l={}),this._document){if(this._converter){var d=new Jn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(d,l)}return this._userDataWriter.convertValue(this._document.data.value,l.serverTimestamps)}},s.prototype.get=function(l,d){if(void 0===d&&(d={}),this._document){var g=this._document.data.field(Dl("DocumentSnapshot.get",l));if(null!==g)return this._userDataWriter.convertValue(g,d.serverTimestamps)}},s}(fn),Jn=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s.prototype.data=function(l){return void 0===l&&(l={}),a.prototype.data.call(this,l)},s}(oa),ts=function(){function a(s,l,d,g){this._firestore=s,this._userDataWriter=l,this._snapshot=g,this.metadata=new ia(g.hasPendingWrites,g.fromCache),this.query=d}return Object.defineProperty(a.prototype,"docs",{get:function(){var s=[];return this.forEach(function(l){return s.push(l)}),s},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),a.prototype.forEach=function(s,l){var d=this;this._snapshot.docs.forEach(function(g){s.call(l,new Jn(d._firestore,d._userDataWriter,g.key,g,new ia(d._snapshot.mutatedKeys.has(g.key),d._snapshot.fromCache),d.query.converter))})},a.prototype.docChanges=function(s){void 0===s&&(s={});var l=!!s.includeMetadataChanges;if(l&&this._snapshot.excludesMetadataChanges)throw new me(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===l||(this._cachedChanges=function(d,g){if(d._snapshot.oldDocs.isEmpty()){var y=0;return d._snapshot.docChanges.map(function(C){return{type:"added",doc:new Jn(d._firestore,d._userDataWriter,C.doc.key,C.doc,new ia(d._snapshot.mutatedKeys.has(C.doc.key),d._snapshot.fromCache),d.query.converter),oldIndex:-1,newIndex:y++}})}var b=d._snapshot.oldDocs;return d._snapshot.docChanges.filter(function(C){return g||3!==C.type}).map(function(C){var T=new Jn(d._firestore,d._userDataWriter,C.doc.key,C.doc,new ia(d._snapshot.mutatedKeys.has(C.doc.key),d._snapshot.fromCache),d.query.converter),x=-1,N=-1;return 0!==C.type&&(x=b.indexOf(C.doc.key),b=b.delete(C.doc.key)),1!==C.type&&(N=(b=b.add(C.doc)).indexOf(C.doc.key)),{type:Ou(C.type),doc:T,oldIndex:x,newIndex:N}})}(this,l),this._cachedChangesIncludeMetadataChanges=l),this._cachedChanges},a}();function Ou(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze()}}function sd(a,s){return a instanceof oa&&s instanceof oa?a._firestore===s._firestore&&a._key.isEqual(s._key)&&(null===a._document?null===s._document:a._document.isEqual(s._document))&&a._converter===s._converter:a instanceof ts&&s instanceof ts&&a._firestore===s._firestore&&Nf(a.query,s.query)&&a.metadata.isEqual(s.metadata)&&a._snapshot.isEqual(s._snapshot)}function qf(a){if(lh(a)&&0===a.explicitOrderBy.length)throw new me(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Sl=function(){};function As(a){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];for(var d=0,g=s;d<g.length;d++){var y=g[d];a=y._apply(a)}return a}var zf=function(a){function s(l,d,g){var y=this;return(y=a.call(this)||this).jc=l,y.Wc=d,y.Gc=g,y.type="where",y}return(0,I.ZT)(s,a),s.prototype._apply=function(l){var y,C,d=Jo(l.firestore),g=function(y,b,C,T,x,N,V){var q;if(x.isKeyField()){if("array-contains"===N||"array-contains-any"===N)throw new me(se.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+N+"' queries on FieldPath.documentId().");if("in"===N||"not-in"===N){Wf(V,N);for(var ee=[],J=0,re=V;J<re.length;J++)ee.push(Tg(T,y,re[J]));q={arrayValue:{values:ee}}}else q=Tg(T,y,V)}else"in"!==N&&"not-in"!==N&&"array-contains-any"!==N||Wf(V,N),q=Ym(C,"where",V,"in"===N||"not-in"===N);var Pe=$i.create(x,N,q);return function(st,lt){if(lt.g()){var $t=si(st);if(null!==$t&&!$t.isEqual(lt.field))throw new me(se.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+$t.toString()+"' and '"+lt.field.toString()+"'");var pn=Pd(st);null!==pn&&Ro(0,lt.field,pn)}var Fn=function(Qi,yy){for(var Xf=0,iw=Qi.filters;Xf<iw.length;Xf++){var _y=iw[Xf];if(yy.indexOf(_y.op)>=0)return _y.op}return null}(st,function(Qi){switch(Qi){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(lt.op));if(null!==Fn)throw new me(se.INVALID_ARGUMENT,Fn===lt.op?"Invalid query. You cannot use more than one '"+lt.op.toString()+"' filter.":"Invalid query. You cannot use '"+lt.op.toString()+"' filters with '"+Fn.toString()+"' filters.")}(y,Pe),Pe}(l._query,0,d,l.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Oi(l.firestore,l.converter,(C=(y=l._query).filters.concat([g]),new Go(y.path,y.collectionGroup,y.explicitOrderBy.slice(),C,y.limit,y.limitType,y.startAt,y.endAt)))},s}(Sl),Sg=function(a){function s(l,d){var g=this;return(g=a.call(this)||this).jc=l,g.zc=d,g.type="orderBy",g}return(0,I.ZT)(s,a),s.prototype._apply=function(l){var g,b,d=function(g,y,b){if(null!==g.startAt)throw new me(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==g.endAt)throw new me(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var C=new oc(y,b);return function(T,x){if(null===Pd(T)){var N=si(T);null!==N&&Ro(0,N,x.field)}}(g,C),C}(l._query,this.jc,this.zc);return new Oi(l.firestore,l.converter,(b=(g=l._query).explicitOrderBy.concat([d]),new Go(g.path,g.collectionGroup,b,g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)))},s}(Sl),ad=function(a){function s(l,d,g){var y=this;return(y=a.call(this)||this).type=l,y.Hc=d,y.Jc=g,y}return(0,I.ZT)(s,a),s.prototype._apply=function(l){return new Oi(l.firestore,l.converter,um(l._query,this.Hc,this.Jc))},s}(Sl),$f=function(a){function s(l,d,g){var y=this;return(y=a.call(this)||this).type=l,y.Yc=d,y.Xc=g,y}return(0,I.ZT)(s,a),s.prototype._apply=function(l){var g,y,d=Ig(l,this.type,this.Yc,this.Xc);return new Oi(l.firestore,l.converter,(y=d,new Go((g=l._query).path,g.collectionGroup,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,y,g.endAt)))},s}(Sl),Gf=function(a){function s(l,d,g){var y=this;return(y=a.call(this)||this).type=l,y.Yc=d,y.Xc=g,y}return(0,I.ZT)(s,a),s.prototype._apply=function(l){var g,y,d=Ig(l,this.type,this.Yc,this.Xc);return new Oi(l.firestore,l.converter,(y=d,new Go((g=l._query).path,g.collectionGroup,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,y)))},s}(Sl);function Ig(a,s,l,d){if(l[0]=(0,Ge.m9)(l[0]),l[0]instanceof fn)return function(y,b,C,T,x){if(!T)throw new me(se.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+C+"().");for(var N=[],V=0,q=Nn(y);V<q.length;V++){var ee=q[V];if(ee.field.isKeyField())N.push(ve(b,T.key));else{var J=T.data.field(ee.field);if(Td(J))throw new me(se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ee.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===J){var re=ee.field.canonicalString();throw new me(se.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+re+"' (used as the orderBy) does not exist.")}N.push(J)}}return new Kc(N,x)}(a._query,a.firestore._databaseId,s,l[0]._document,d);var g=Jo(a.firestore);return function(y,b,C,T,x,N){var V=y.explicitOrderBy;if(x.length>V.length)throw new me(se.INVALID_ARGUMENT,"Too many arguments provided to "+T+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var q=[],ee=0;ee<x.length;ee++){var J=x[ee];if(V[ee].field.isKeyField()){if("string"!=typeof J)throw new me(se.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+T+"(), but got a "+typeof J);if(!Do(y)&&-1!==J.indexOf("/"))throw new me(se.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+T+"() must be a plain document ID, but '"+J+"' contains a slash.");var re=y.path.child(rt.fromString(J));if(!fe.isDocumentKey(re))throw new me(se.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+T+"() must result in a valid document path, but '"+re+"' is not because it contains an odd number of segments.");var Ie=new fe(re);q.push(ve(b,Ie))}else{var Pe=Ym(C,T,J);q.push(Pe)}}return new Kc(q,N)}(a._query,a.firestore._databaseId,g,s,l,d)}function Tg(a,s,l){if("string"==typeof(l=(0,Ge.m9)(l))){if(""===l)throw new me(se.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Do(s)&&-1!==l.indexOf("/"))throw new me(se.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+l+"' contains a '/' character.");var d=s.path.child(rt.fromString(l));if(!fe.isDocumentKey(d))throw new me(se.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+d+"' is not because it has an odd number of segments ("+d.length+").");return ve(a,new fe(d))}if(l instanceof Dn)return ve(a,l._key);throw new me(se.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+nd(l)+".")}function Wf(a,s){if(!Array.isArray(a)||0===a.length)throw new me(se.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+s.toString()+"' filters.");if(a.length>10)throw new me(se.INVALID_ARGUMENT,"Invalid Query. '"+s.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ro(a,s,l){if(!l.isEqual(s))throw new me(se.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+s.toString()+"' and so you must also use '"+s.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+l.toString()+"' instead.")}var Il=function(){function a(){}return a.prototype.convertValue=function(s,l){switch(void 0===l&&(l="none"),zi(s)){case 0:return null;case 1:return s.booleanValue;case 2:return zn(s.integerValue||s.doubleValue);case 3:return this.convertTimestamp(s.timestampValue);case 4:return this.convertServerTimestamp(s,l);case 5:return s.stringValue;case 6:return this.convertBytes(oi(s.bytesValue));case 7:return this.convertReference(s.referenceValue);case 8:return this.convertGeoPoint(s.geoPointValue);case 9:return this.convertArray(s.arrayValue,l);case 10:return this.convertObject(s.mapValue,l);default:throw Ze()}},a.prototype.convertObject=function(s,l){var d=this,g={};return dn(s.fields,function(y,b){g[y]=d.convertValue(b,l)}),g},a.prototype.convertGeoPoint=function(s){return new id(zn(s.latitude),zn(s.longitude))},a.prototype.convertArray=function(s,l){var d=this;return(s.values||[]).map(function(g){return d.convertValue(g,l)})},a.prototype.convertServerTimestamp=function(s,l){switch(l){case"previous":var d=ih(s);return null==d?null:this.convertValue(d,l);case"estimate":return this.convertTimestamp(rc(s));default:return null}},a.prototype.convertTimestamp=function(s){var l=uo(s);return new pi(l.seconds,l.nanos)},a.prototype.convertDocumentKey=function(s,l){var d=rt.fromString(s);at(xp(d));var g=new Ru(d.get(1),d.get(3)),y=new fe(d.popFirst(5));return g.isEqual(l)||wr("Document "+y+" contains a document reference within a different database ("+g.projectId+"/"+g.database+") which is not supported. It will be treated as a reference in the current database ("+l.projectId+"/"+l.database+") instead."),y},a}();function ud(a,s,l){return a?l&&(l.merge||l.mergeFields)?a.toFirestore(s,l):a.toFirestore(s):s}var Xm=function(a){function s(l){var d=this;return(d=a.call(this)||this).firestore=l,d}return(0,I.ZT)(s,a),s.prototype.convertBytes=function(l){return new Sc(l)},s.prototype.convertReference=function(l){var d=this.convertDocumentKey(l,this.firestore._databaseId);return new Dn(this.firestore,null,d)},s}(Il),g_=function(){function a(s,l){this._firestore=s,this._commitHandler=l,this._mutations=[],this._committed=!1,this._dataReader=Jo(s)}return a.prototype.set=function(s,l,d){this._verifyNotCommitted();var g=sa(s,this._firestore),y=ud(g.converter,l,d),b=ka(this._dataReader,"WriteBatch.set",g._key,y,null!==g.converter,d);return this._mutations.push(b.toMutation(g._key,nr.none())),this},a.prototype.update=function(s,l,d){for(var g=[],y=3;y<arguments.length;y++)g[y-3]=arguments[y];this._verifyNotCommitted();var b,C=sa(s,this._firestore);return b="string"==typeof(l=(0,Ge.m9)(l))||l instanceof Is?Cl(this._dataReader,"WriteBatch.update",C._key,l,d,g):od(this._dataReader,"WriteBatch.update",C._key,l),this._mutations.push(b.toMutation(C._key,nr.exists(!0))),this},a.prototype.delete=function(s){this._verifyNotCommitted();var l=sa(s,this._firestore);return this._mutations=this._mutations.concat(new du(l._key,nr.none())),this},a.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},a.prototype._verifyNotCommitted=function(){if(this._committed)throw new me(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},a}();function sa(a,s){if((a=(0,Ge.m9)(a)).firestore!==s)throw new me(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}var Tc=function(a){function s(l){var d=this;return(d=a.call(this)||this).firestore=l,d}return(0,I.ZT)(s,a),s.prototype.convertBytes=function(l){return new Sc(l)},s.prototype.convertReference=function(l){var d=this.convertDocumentKey(l,this.firestore._databaseId);return new Dn(this.firestore,null,d)},s}(Il);function Kf(a,s,l){a=Yt(a,Dn);var d=Yt(a.firestore,or),g=ud(a.converter,s,l);return Al(d,[ka(Jo(d),"setDoc",a._key,g,null!==a.converter,l).toMutation(a._key,nr.none())])}function cd(a,s,l){for(var d=[],g=3;g<arguments.length;g++)d[g-3]=arguments[g];a=Yt(a,Dn);var y=Yt(a.firestore,or),b=Jo(y);return Al(y,[("string"==typeof(s=(0,Ge.m9)(s))||s instanceof Is?Cl(b,"updateDoc",a._key,s,l,d):od(b,"updateDoc",a._key,s)).toMutation(a._key,nr.exists(!0))])}function Tl(a){for(var s,l,d,g=[],y=1;y<arguments.length;y++)g[y-1]=arguments[y];a=(0,Ge.m9)(a);var b={includeMetadataChanges:!1},C=0;"object"!=typeof g[C]||Aa(g[C])||(b=g[C],C++);var T,x,N,V={includeMetadataChanges:b.includeMetadataChanges};if(Aa(g[C])){var q=g[C];g[C]=null===(s=q.next)||void 0===s?void 0:s.bind(q),g[C+1]=null===(l=q.error)||void 0===l?void 0:l.bind(q),g[C+2]=null===(d=q.complete)||void 0===d?void 0:d.bind(q)}if(a instanceof Dn)x=Yt(a.firestore,or),N=sc(a._key.path),T={next:function(re){g[C]&&g[C](Yf(x,a,re))},error:g[C+1],complete:g[C+2]};else{var ee=Yt(a,Oi);x=Yt(ee.firestore,or),N=ee._query;var J=new Tc(x);T={next:function(re){g[C]&&g[C](new ts(x,J,ee,re))},error:g[C+1],complete:g[C+2]},qf(a._query)}return function(re,Ie,Pe,st){var lt=this,$t=new ta(st),pn=new vf(Ie,$t,Pe);return re.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(lt,void 0,void 0,function(){var Fn;return(0,I.Jh)(this,function(Qi){switch(Qi.label){case 0:return Fn=mf,[4,Zh(re)];case 1:return[2,Fn.apply(void 0,[Qi.sent(),pn])]}})})}),function(){$t.Wo(),re.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(lt,void 0,void 0,function(){var Fn;return(0,I.Jh)(this,function(Qi){switch(Qi.label){case 0:return Fn=bc,[4,Zh(re)];case 1:return[2,Fn.apply(void 0,[Qi.sent(),pn])]}})})})}}(zt(x),N,V,T)}function Al(a,s){return function(l,d){var g=this,y=new Wn;return l.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(g,void 0,void 0,function(){var b;return(0,I.Jh)(this,function(C){switch(C.label){case 0:return b=wf,[4,Ec(l)];case 1:return[2,b.apply(void 0,[C.sent(),d,y])]}})})}),y.promise}(zt(a),s)}function Yf(a,s,l){var d=l.docs.get(s._key),g=new Tc(a);return new oa(a,g,s._key,d,new ia(l.hasPendingWrites,l.fromCache),s.converter)}var ze=function(a){function s(l,d){var g=this;return(g=a.call(this,l,d)||this)._firestore=l,g}return(0,I.ZT)(s,a),s.prototype.get=function(l){var d=this,g=sa(l,this._firestore),y=new Tc(this._firestore);return a.prototype.get.call(this,l).then(function(b){return new oa(d._firestore,y,g._key,b._document,new ia(!1,!1),g.converter)})},s}(function(){function a(s,l){this._firestore=s,this._transaction=l,this._dataReader=Jo(s)}return a.prototype.get=function(s){var l=this,d=sa(s,this._firestore),g=new Xm(this._firestore);return this._transaction.lookup([d._key]).then(function(y){if(!y||1!==y.length)return Ze();var b=y[0];if(b.isFoundDocument())return new fn(l._firestore,g,b.key,b,d.converter);if(b.isNoDocument())return new fn(l._firestore,g,d._key,null,d.converter);throw Ze()})},a.prototype.set=function(s,l,d){var g=sa(s,this._firestore),y=ud(g.converter,l,d),b=ka(this._dataReader,"Transaction.set",g._key,y,null!==g.converter,d);return this._transaction.set(g._key,b),this},a.prototype.update=function(s,l,d){for(var g=[],y=3;y<arguments.length;y++)g[y-3]=arguments[y];var b,C=sa(s,this._firestore);return b="string"==typeof(l=(0,Ge.m9)(l))||l instanceof Is?Cl(this._dataReader,"Transaction.update",C._key,l,d,g):od(this._dataReader,"Transaction.update",C._key,l),this._transaction.update(C._key,b),this},a.prototype.delete=function(s){var l=sa(s,this._firestore);return this._transaction.delete(l._key),this},a}());function Ml(){if("undefined"==typeof Uint8Array)throw new me(se.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Sr(){if("undefined"==typeof atob)throw new me(se.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var xa=function(){function a(s){this._delegate=s}return a.fromBase64String=function(s){return Sr(),new a(Sc.fromBase64String(s))},a.fromUint8Array=function(s){return Ml(),new a(Sc.fromUint8Array(s))},a.prototype.toBase64=function(){return Sr(),this._delegate.toBase64()},a.prototype.toUint8Array=function(){return Ml(),this._delegate.toUint8Array()},a.prototype.isEqual=function(s){return this._delegate.isEqual(s._delegate)},a.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},a}(),ns=function(){function a(){}return a.prototype.enableIndexedDbPersistence=function(s,l){return function(d,g){Ma(d=Yt(d,or));var y=zt(d),b=d._freezeSettings(),C=new mt;return wg(y,C,new zm(C,b.cacheSizeBytes,null==g?void 0:g.forceOwnership))}(s._delegate,{forceOwnership:l})},a.prototype.enableMultiTabIndexedDbPersistence=function(s){return function(l){Ma(l=Yt(l,or));var d=zt(l),g=l._freezeSettings(),y=new mt;return wg(d,y,new dy(y,g.cacheSizeBytes))}(s._delegate)},a.prototype.clearIndexedDbPersistence=function(s){return function(l){var d=this;if(l._initialized&&!l._terminated)throw new me(se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var g=new Wn;return l._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,I.mG)(d,void 0,void 0,function(){var y;return(0,I.Jh)(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),[4,function(C){return(0,I.mG)(this,void 0,void 0,function(){return(0,I.Jh)(this,function(x){switch(x.label){case 0:return cc.yt()?[4,cc.delete(C+"main")]:[2,Promise.resolve()];case 1:return x.sent(),[2]}})})}(Tm(l._databaseId,l._persistenceKey))];case 1:return b.sent(),g.resolve(),[3,3];case 2:return y=b.sent(),g.reject(y),[3,3];case 3:return[2]}})})}),g.promise}(s._delegate)},a}(),Ag=function(){function a(s,l,d){var g=this;this._delegate=l,this.Zc=d,this.INTERNAL={delete:function(){return g.terminate()}},s instanceof Ru||(this.tu=s)}return Object.defineProperty(a.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),a.prototype.settings=function(s){var l=this._delegate._getSettings();s.merge||l.host===s.host||nh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),s.merge&&delete(s=Object.assign(Object.assign({},l),s)).merge,this._delegate._setSettings(s)},a.prototype.useEmulator=function(s,l,d){void 0===d&&(d={}),function(g,y,b,C){var T;void 0===C&&(C={});var x=(g=Yt(g,rd))._getSettings();if("firestore.googleapis.com"!==x.host&&x.host!==y&&nh("Host has been set in both settings() and useEmulator(), emulator host will be used"),g._setSettings(Object.assign(Object.assign({},x),{host:y+":"+b,ssl:!1})),C.mockUserToken){var N,V;if("string"==typeof C.mockUserToken)N=C.mockUserToken,V=Qr.MOCK_USER;else{N=(0,Ge.Sg)(C.mockUserToken,null===(T=g._app)||void 0===T?void 0:T.options.projectId);var q=C.mockUserToken.sub||C.mockUserToken.user_id;if(!q)throw new me(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");V=new Qr(q)}g._credentials=new gg(new td(N,V))}}(this._delegate,s,l,d)},a.prototype.enableNetwork=function(){return function(s){var l=this;return s.asyncQueue.enqueue(function(){return(0,I.mG)(l,void 0,void 0,function(){var d,g;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return[4,Rf(s)];case 1:return d=y.sent(),[4,fy(s)];case 2:return g=y.sent(),[2,(d.setNetworkEnabled(!0),b=g,C=je(b),C.Or.delete(0),vl(C))]}var b,C})})})}(zt(Yt(this._delegate,or)))},a.prototype.disableNetwork=function(){return function(s){var l=this;return s.asyncQueue.enqueue(function(){return(0,I.mG)(l,void 0,void 0,function(){var d,g;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return[4,Rf(s)];case 1:return d=y.sent(),[4,fy(s)];case 2:return g=y.sent(),[2,(d.setNetworkEnabled(!1),function(b){return(0,I.mG)(this,void 0,void 0,function(){var C;return(0,I.Jh)(this,function(T){switch(T.label){case 0:return(C=je(b)).Or.add(0),[4,yl(C)];case 1:return T.sent(),C.Br.set("Offline"),[2]}})})}(g))]}})})})}(zt(Yt(this._delegate,or)))},a.prototype.enablePersistence=function(s){var l=!1,d=!1;return s&&Cc("synchronizeTabs",l=!!s.synchronizeTabs,"experimentalForceOwningTab",d=!!s.experimentalForceOwningTab),l?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,d)},a.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},a.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},a.prototype.waitForPendingWrites=function(){return function(s){var l=this,d=new Wn;return s.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(l,void 0,void 0,function(){var g;return(0,I.Jh)(this,function(y){switch(y.label){case 0:return g=Ef,[4,Ec(s)];case 1:return[2,g.apply(void 0,[y.sent(),d])]}})})}),d.promise}(zt(Yt(this._delegate,or)))},a.prototype.onSnapshotsInSync=function(s){return d=s,function(g,y){var b=this,C=new ta(y);return g.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(b,void 0,void 0,function(){var T;return(0,I.Jh)(this,function(x){switch(x.label){case 0:return T=function(N,V){je(N).Gr.add(V),V.next()},[4,Zh(g)];case 1:return[2,T.apply(void 0,[x.sent(),C])]}})})}),function(){C.Wo(),g.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(b,void 0,void 0,function(){var T;return(0,I.Jh)(this,function(x){switch(x.label){case 0:return T=function(N,V){je(N).Gr.delete(V)},[4,Zh(g)];case 1:return[2,T.apply(void 0,[x.sent(),C])]}})})})}}(zt(Yt(this._delegate,or)),Aa(d)?d:{next:d});var d},Object.defineProperty(a.prototype,"app",{get:function(){if(!this.tu)throw new me(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),a.prototype.collection=function(s){try{return new u(this,na(this._delegate,s))}catch(l){throw bi(l,"collection()","Firestore.collection()")}},a.prototype.doc=function(s){try{return new aa(this,_g(this._delegate,s))}catch(l){throw bi(l,"doc()","Firestore.doc()")}},a.prototype.collectionGroup=function(s){try{return new xn(this,function(l,d){if(l=Yt(l,rd),xf("collectionGroup","collection id",d),d.indexOf("/")>=0)throw new me(se.INVALID_ARGUMENT,"Invalid collection ID '"+d+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Oi(l,null,(g=d,new Go(rt.emptyPath(),g)));var g}(this._delegate,s))}catch(l){throw bi(l,"collectionGroup()","Firestore.collectionGroup()")}},a.prototype.runTransaction=function(s){var d,l=this;return function(y,b){var C=this,T=new Wn;return y.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(C,void 0,void 0,function(){var x;return(0,I.Jh)(this,function(N){switch(N.label){case 0:return[4,(V=y,wc(V).then(function(q){return q.datastore}))];case 1:return x=N.sent(),new po(y.asyncQueue,x,b,T).run(),[2]}var V})})}),T.promise}(zt(d=this._delegate),function(y){return function(d){return s(new Ms(l,d))}(new ze(d,y))})},a.prototype.batch=function(){var s=this;return zt(this._delegate),new Zm(new g_(this._delegate,function(l){return Al(s._delegate,l)}))},a.prototype.loadBundle=function(s){throw new me(se.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},a.prototype.namedQuery=function(s){throw new me(se.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},a}(),Qf=function(a){function s(l){var d=this;return(d=a.call(this)||this).firestore=l,d}return(0,I.ZT)(s,a),s.prototype.convertBytes=function(l){return new xa(new Sc(l))},s.prototype.convertReference=function(l){var d=this.convertDocumentKey(l,this.firestore._databaseId);return aa.eu(d,this.firestore,null)},s}(Il),Ms=function(){function a(s,l){this._firestore=s,this._delegate=l,this._userDataWriter=new Qf(s)}return a.prototype.get=function(s){var l=this,d=f(s);return this._delegate.get(d).then(function(g){return new On(l._firestore,new oa(l._firestore._delegate,l._userDataWriter,g._key,g._document,g.metadata,d.converter))})},a.prototype.set=function(s,l,d){var g=f(s);return d?(mg("Transaction.set",d),this._delegate.set(g,l,d)):this._delegate.set(g,l),this},a.prototype.update=function(s,l,d){for(var g,y=[],b=3;b<arguments.length;b++)y[b-3]=arguments[b];var C=f(s);return 2===arguments.length?this._delegate.update(C,l):(g=this._delegate).update.apply(g,(0,I.ev)([C,l,d],y)),this},a.prototype.delete=function(s){var l=f(s);return this._delegate.delete(l),this},a}(),Zm=function(){function a(s){this._delegate=s}return a.prototype.set=function(s,l,d){var g=f(s);return d?(mg("WriteBatch.set",d),this._delegate.set(g,l,d)):this._delegate.set(g,l),this},a.prototype.update=function(s,l,d){for(var g,y=[],b=3;b<arguments.length;b++)y[b-3]=arguments[b];var C=f(s);return 2===arguments.length?this._delegate.update(C,l):(g=this._delegate).update.apply(g,(0,I.ev)([C,l,d],y)),this},a.prototype.delete=function(s){var l=f(s);return this._delegate.delete(l),this},a.prototype.commit=function(){return this._delegate.commit()},a}(),Pa=function(){function a(s,l,d){this._firestore=s,this._userDataWriter=l,this._delegate=d}return a.prototype.fromFirestore=function(s,l){var d=new Jn(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,null);return this._delegate.fromFirestore(new go(this._firestore,d),null!=l?l:{})},a.prototype.toFirestore=function(s,l){return l?this._delegate.toFirestore(s,l):this._delegate.toFirestore(s)},a.nu=function(s,l){var d=a.su,g=d.get(s);g||d.set(s,g=new WeakMap);var y=g.get(l);return y||(y=new a(s,new Qf(s),l),g.set(l,y)),y},a}();Pa.su=new WeakMap;var aa=function(){function a(s,l){this.firestore=s,this._delegate=l,this._userDataWriter=new Qf(s)}return a.iu=function(s,l,d){if(s.length%2!=0)throw new me(se.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+s.canonicalString()+" has "+s.length);return new a(l,new Dn(l._delegate,d,new fe(s)))},a.eu=function(s,l,d){return new a(l,new Dn(l._delegate,d,s))},Object.defineProperty(a.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){return new u(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),a.prototype.collection=function(s){try{return new u(this.firestore,na(this._delegate,s))}catch(l){throw bi(l,"collection()","DocumentReference.collection()")}},a.prototype.isEqual=function(s){return(s=(0,Ge.m9)(s))instanceof Dn&&gy(this._delegate,s)},a.prototype.set=function(s,l){l=mg("DocumentReference.set",l);try{return l?Kf(this._delegate,s,l):Kf(this._delegate,s)}catch(d){throw bi(d,"setDoc()","DocumentReference.set()")}},a.prototype.update=function(s,l){for(var d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];try{return 1===arguments.length?cd(this._delegate,s):cd.apply(void 0,(0,I.ev)([this._delegate,s,l],d))}catch(y){throw bi(y,"updateDoc()","DocumentReference.update()")}},a.prototype.delete=function(){return Al(Yt((s=this._delegate).firestore,or),[new du(s._key,nr.none())]);var s},a.prototype.onSnapshot=function(){for(var s=this,l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var g=Rl(l),y=lr(l,function(b){return new On(s.firestore,new oa(s.firestore._delegate,s._userDataWriter,b._key,b._document,b.metadata,s._delegate.converter))});return Tl(this._delegate,g,y)},a.prototype.get=function(s){var l=this;return("cache"===(null==s?void 0:s.source)?function(d){d=Yt(d,Dn);var g=Yt(d.firestore,or),y=zt(g),b=new Tc(g);return function(C,T){var x=this,N=new Wn;return C.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(x,void 0,void 0,function(){var V;return(0,I.Jh)(this,function(q){switch(q.label){case 0:return V=function(ee,J,re){return(0,I.mG)(this,void 0,void 0,function(){var Ie,Pe;return(0,I.Jh)(this,function(st){switch(st.label){case 0:return st.trys.push([0,2,,3]),[4,(lt=ee,$t=J,pn=je(lt),pn.persistence.runTransaction("read document","readonly",function(Fn){return pn.Mn.mn(Fn,$t)}))];case 1:return(Pe=st.sent()).isFoundDocument()?re.resolve(Pe):Pe.isNoDocument()?re.resolve(null):re.reject(new me(se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Ie=st.sent(),Pe=Da(Ie,"Failed to get document '"+J+" from cache"),re.reject(Pe),[3,3];case 3:return[2]}var lt,$t,pn})})},[4,Xh(C)];case 1:return[2,V.apply(void 0,[q.sent(),T,N])]}})})}),N.promise}(y,d._key).then(function(C){return new oa(g,b,d._key,C,new ia(null!==C&&C.hasLocalMutations,!0),d.converter)})}(this._delegate):"server"===(null==s?void 0:s.source)?function(d){d=Yt(d,Dn);var g=Yt(d.firestore,or);return Jh(zt(g),d._key,{source:"server"}).then(function(y){return Yf(g,d,y)})}(this._delegate):function(d){d=Yt(d,Dn);var g=Yt(d.firestore,or);return Jh(zt(g),d._key).then(function(y){return Yf(g,d,y)})}(this._delegate)).then(function(d){return new On(l.firestore,new oa(l.firestore._delegate,l._userDataWriter,d._key,d._document,d.metadata,l._delegate.converter))})},a.prototype.withConverter=function(s){return new a(this.firestore,this._delegate.withConverter(s?Pa.nu(this.firestore,s):null))},a}();function bi(a,s,l){return a.message=a.message.replace(s,l),a}function Rl(a){for(var s=0,l=a;s<l.length;s++){var d=l[s];if("object"==typeof d&&!Aa(d))return d}return{}}function lr(a,s){var l,d,g;return{next:function(y){g.next&&g.next(s(y))},error:null===(l=(g=Aa(a[0])?a[0]:Aa(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]}).error)||void 0===l?void 0:l.bind(g),complete:null===(d=g.complete)||void 0===d?void 0:d.bind(g)}}var On=function(){function a(s,l){this._firestore=s,this._delegate=l}return Object.defineProperty(a.prototype,"ref",{get:function(){return new aa(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),a.prototype.data=function(s){return this._delegate.data(s)},a.prototype.get=function(s,l){return this._delegate.get(s,l)},a.prototype.isEqual=function(s){return sd(this._delegate,s._delegate)},a}(),go=function(a){function s(){return null!==a&&a.apply(this,arguments)||this}return(0,I.ZT)(s,a),s.prototype.data=function(l){return this._delegate.data(l)},s}(On),xn=function(){function a(s,l){this.firestore=s,this._delegate=l,this._userDataWriter=new Qf(s)}return a.prototype.where=function(s,l,d){try{return new a(this.firestore,As(this._delegate,(b=d,C=l,T=Dl("where",g=s),new zf(T,C,b))))}catch(g){throw bi(g,/(orderBy|where)\(\)/,"Query.$1()")}var g,b,C,T},a.prototype.orderBy=function(s,l){try{return new a(this.firestore,As(this._delegate,function(d,g){void 0===g&&(g="asc");var y=g,b=Dl("orderBy",d);return new Sg(b,y)}(s,l)))}catch(d){throw bi(d,/(orderBy|where)\(\)/,"Query.$1()")}},a.prototype.limit=function(s){try{return new a(this.firestore,As(this._delegate,(vg("limit",l=s),new ad("limit",l,"F"))))}catch(l){throw bi(l,"limit()","Query.limit()")}var l},a.prototype.limitToLast=function(s){try{return new a(this.firestore,As(this._delegate,(vg("limitToLast",l=s),new ad("limitToLast",l,"L"))))}catch(l){throw bi(l,"limitToLast()","Query.limitToLast()")}var l},a.prototype.startAt=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new a(this.firestore,As(this._delegate,function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return new $f("startAt",d,!0)}.apply(void 0,s)))}catch(d){throw bi(d,"startAt()","Query.startAt()")}},a.prototype.startAfter=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new a(this.firestore,As(this._delegate,function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return new $f("startAfter",d,!1)}.apply(void 0,s)))}catch(d){throw bi(d,"startAfter()","Query.startAfter()")}},a.prototype.endBefore=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new a(this.firestore,As(this._delegate,function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return new Gf("endBefore",d,!0)}.apply(void 0,s)))}catch(d){throw bi(d,"endBefore()","Query.endBefore()")}},a.prototype.endAt=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new a(this.firestore,As(this._delegate,function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return new Gf("endAt",d,!1)}.apply(void 0,s)))}catch(d){throw bi(d,"endAt()","Query.endAt()")}},a.prototype.isEqual=function(s){return Nf(this._delegate,s._delegate)},a.prototype.get=function(s){var l=this;return("cache"===(null==s?void 0:s.source)?function(d){d=Yt(d,Oi);var g=Yt(d.firestore,or),y=zt(g),b=new Tc(g);return function(C,T){var x=this,N=new Wn;return C.asyncQueue.enqueueAndForget(function(){return(0,I.mG)(x,void 0,void 0,function(){var V;return(0,I.Jh)(this,function(q){switch(q.label){case 0:return V=function(ee,J,re){return(0,I.mG)(this,void 0,void 0,function(){var Ie,Pe,st,lt,$t;return(0,I.Jh)(this,function(pn){switch(pn.label){case 0:return pn.trys.push([0,2,,3]),[4,gc(ee,J,!0)];case 1:return $t=pn.sent(),Ie=new yf(J,$t.Bn),Pe=Ie._o($t.documents),st=Ie.applyChanges(Pe,!1),re.resolve(st.snapshot),[3,3];case 2:return lt=pn.sent(),$t=Da(lt,"Failed to execute query '"+J+" against cache"),re.reject($t),[3,3];case 3:return[2]}})})},[4,Xh(C)];case 1:return[2,V.apply(void 0,[q.sent(),T,N])]}})})}),N.promise}(y,d._query).then(function(C){return new ts(g,b,d,C)})}(this._delegate):"server"===(null==s?void 0:s.source)?function(d){d=Yt(d,Oi);var g=Yt(d.firestore,or),y=zt(g),b=new Tc(g);return _i(y,d._query,{source:"server"}).then(function(C){return new ts(g,b,d,C)})}(this._delegate):function(d){d=Yt(d,Oi);var g=Yt(d.firestore,or),y=zt(g),b=new Tc(g);return qf(d._query),_i(y,d._query).then(function(C){return new ts(g,b,d,C)})}(this._delegate)).then(function(d){return new Mg(l.firestore,new ts(l.firestore._delegate,l._userDataWriter,l._delegate,d._snapshot))})},a.prototype.onSnapshot=function(){for(var s=this,l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var g=Rl(l),y=lr(l,function(b){return new Mg(s.firestore,new ts(s.firestore._delegate,s._userDataWriter,s._delegate,b._snapshot))});return Tl(this._delegate,g,y)},a.prototype.withConverter=function(s){return new a(this.firestore,this._delegate.withConverter(s?Pa.nu(this.firestore,s):null))},a}(),Jm=function(){function a(s,l){this._firestore=s,this._delegate=l}return Object.defineProperty(a.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"doc",{get:function(){return new go(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),a}(),Mg=function(){function a(s,l){this._firestore=s,this._delegate=l}return Object.defineProperty(a.prototype,"query",{get:function(){return new xn(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"docs",{get:function(){var s=this;return this._delegate.docs.map(function(l){return new go(s._firestore,l)})},enumerable:!1,configurable:!0}),a.prototype.docChanges=function(s){var l=this;return this._delegate.docChanges(s).map(function(d){return new Jm(l._firestore,d)})},a.prototype.forEach=function(s,l){var d=this;this._delegate.forEach(function(g){s.call(l,new go(d._firestore,g))})},a.prototype.isEqual=function(s){return sd(this._delegate,s._delegate)},a}(),u=function(a){function s(l,d){var g=this;return(g=a.call(this,l,d)||this).firestore=l,g._delegate=d,g}return(0,I.ZT)(s,a),Object.defineProperty(s.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){var l=this._delegate.parent;return l?new aa(this.firestore,l):null},enumerable:!1,configurable:!0}),s.prototype.doc=function(l){try{return new aa(this.firestore,void 0===l?_g(this._delegate):_g(this._delegate,l))}catch(d){throw bi(d,"doc()","CollectionReference.doc()")}},s.prototype.add=function(l){var g,y,b,C,T,d=this;return(g=this._delegate,y=l,b=Yt(g.firestore,or),C=_g(g),T=ud(g.converter,y),Al(b,[ka(Jo(g.firestore),"addDoc",C._key,T,null!==g.converter,{}).toMutation(C._key,nr.exists(!1))]).then(function(){return C})).then(function(g){return new aa(d.firestore,g)})},s.prototype.isEqual=function(l){return gy(this._delegate,l._delegate)},s.prototype.withConverter=function(l){return new s(this.firestore,this._delegate.withConverter(l?Pa.nu(this.firestore,l):null))},s}(xn);function f(a){return Yt(a,Dn)}var v=function(){function a(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];this._delegate=new(Is.bind.apply(Is,(0,I.ev)([void 0],s)))}return a.documentId=function(){return new a(ms.keyField().canonicalString())},a.prototype.isEqual=function(s){return(s=(0,Ge.m9)(s))instanceof Is&&this._delegate._internalPath.isEqual(s._internalPath)},a}(),w=function(){function a(s){this._delegate=s}return a.serverTimestamp=function(){var s=new Ic("serverTimestamp");return s._methodName="FieldValue.serverTimestamp",new a(s)},a.delete=function(){var s=new Oa("deleteField");return s._methodName="FieldValue.delete",new a(s)},a.arrayUnion=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var d=function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];return new es("arrayUnion",g)}.apply(void 0,s);return d._methodName="FieldValue.arrayUnion",new a(d)},a.arrayRemove=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var d=function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];return new jf("arrayRemove",g)}.apply(void 0,s);return d._methodName="FieldValue.arrayRemove",new a(d)},a.increment=function(s){var l=new Bf("increment",s);return l._methodName="FieldValue.increment",new a(l)},a.prototype.isEqual=function(s){return this._delegate.isEqual(s._delegate)},a}(),P=Ft(461),U={Firestore:Ag,GeoPoint:id,Timestamp:pi,Blob:xa,Transaction:Ms,WriteBatch:Zm,DocumentReference:aa,DocumentSnapshot:On,Query:xn,QueryDocumentSnapshot:go,QuerySnapshot:Mg,CollectionReference:u,FieldPath:v,FieldValue:w,setLogLevel:function vy(a){Co.setLogLevel(a)},CACHE_SIZE_UNLIMITED:-1};!function le(a){a.INTERNAL.registerComponent(new P.wA("firestore",function(d){return s=d.getProvider("app").getImmediate(),l=d.getProvider("auth-internal"),new Ag(s,new or(s,l),new ns);var s,l},"PUBLIC").setServiceProps(Object.assign({},U))),a.registerVersion("@firebase/firestore","2.4.1")}(ge.Z)},589:(qa,hi,Ft)=>{Ft.r(hi);var ge=Ft(367),I=Ft(655),Ge=Ft(492),it=Ft(461),Tt="firebasestorage.googleapis.com",eo="storageBucket",ce=function(k){function M(L,H){var Y=k.call(this,$(L),"Firebase Storage: "+H+" ("+$(L)+")")||this;return Y.customData={serverResponse:null},Y._baseMessage=Y.message,Object.setPrototypeOf(Y,M.prototype),Y}return(0,I.ZT)(M,k),M.prototype._codeEquals=function(L){return $(L)===this.code},Object.defineProperty(M.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(L){this.customData.serverResponse=L,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),M}(Ge.ZR);function $(k){return"storage/"+k}function be(){return new ce("unknown","An unknown error occurred, please check the error payload for server response.")}function ft(){return new ce("canceled","User canceled the upload/download.")}function pt(){return new ce("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function en(k){return new ce("invalid-argument",k)}function Ci(){return new ce("app-deleted","The Firebase app was deleted.")}function te(k){return new ce("invalid-root-operation","The operation '"+k+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ye(k,M){return new ce("invalid-format","String does not match format '"+k+"': "+M)}function B(k){throw new ce("internal-error","Internal error: "+k)}var Oe={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ke=function k(M,L){this.data=M,this.contentType=L||null};function Qe(k,M){switch(k){case Oe.RAW:return new ke(Lt(M));case Oe.BASE64:case Oe.BASE64URL:return new ke(dt(k,M));case Oe.DATA_URL:return new ke(function Ue(k){var M=new Qt(k);return M.base64?dt(Oe.BASE64,M.rest):function We(k){var M;try{M=decodeURIComponent(k)}catch(L){throw ye(Oe.DATA_URL,"Malformed data URL.")}return Lt(M)}(M.rest)}(M),function Ee(k){return new Qt(k).contentType}(M))}throw be()}function Lt(k){for(var M=[],L=0;L<k.length;L++){var H=k.charCodeAt(L);if(H<=127)M.push(H);else if(H<=2047)M.push(192|H>>6,128|63&H);else if(55296==(64512&H))if(L<k.length-1&&56320==(64512&k.charCodeAt(L+1))){var ne=H,_e=k.charCodeAt(++L);M.push(240|(H=65536|(1023&ne)<<10|1023&_e)>>18,128|H>>12&63,128|H>>6&63,128|63&H)}else M.push(239,191,189);else 56320==(64512&H)?M.push(239,191,189):M.push(224|H>>12,128|H>>6&63,128|63&H)}return new Uint8Array(M)}function dt(k,M){switch(k){case Oe.BASE64:var L=-1!==M.indexOf("-"),H=-1!==M.indexOf("_");if(L||H)throw ye(k,"Invalid character '"+(L?"-":"_")+"' found: is it base64url encoded?");break;case Oe.BASE64URL:var ne=-1!==M.indexOf("+"),_e=-1!==M.indexOf("/");if(ne||_e)throw ye(k,"Invalid character '"+(ne?"+":"/")+"' found: is it base64 encoded?");M=M.replace(/-/g,"+").replace(/_/g,"/")}var de;try{de=function he(k){return atob(k)}(M)}catch(nt){throw ye(k,"Invalid character found")}for(var xe=new Uint8Array(de.length),Xe=0;Xe<de.length;Xe++)xe[Xe]=de.charCodeAt(Xe);return xe}var Qt=function k(M){this.base64=!1,this.contentType=null;var L=M.match(/^data:([^,]+)?,/);if(null===L)throw ye(Oe.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var H=L[1]||null;null!=H&&(this.base64=function Fe(k,M){return k.length>=M.length&&k.substring(k.length-M.length)===M}(H,";base64"),this.contentType=this.base64?H.substring(0,H.length-";base64".length):H),this.rest=M.substring(M.indexOf(",")+1)},vn={STATE_CHANGED:"state_changed"},ln={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Fi(k){switch(k){case"running":case"pausing":case"canceling":return ln.RUNNING;case"paused":return ln.PAUSED;case"success":return ln.SUCCESS;case"canceled":return ln.CANCELED;default:return ln.ERROR}}var No=(()=>{return(k=No||(No={}))[k.NO_ERROR=0]="NO_ERROR",k[k.NETWORK_ERROR=1]="NETWORK_ERROR",k[k.ABORT=2]="ABORT",No;var k})(),Fo=function(){function k(){var M=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=No.NO_ERROR,this.sendPromise_=new Promise(function(L){M.xhr_.addEventListener("abort",function(){M.errorCode_=No.ABORT,L()}),M.xhr_.addEventListener("error",function(){M.errorCode_=No.NETWORK_ERROR,L()}),M.xhr_.addEventListener("load",function(){L()})})}return k.prototype.send=function(M,L,H,Y){if(this.sent_)throw B("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(L,M,!0),void 0!==Y)for(var ne in Y)Y.hasOwnProperty(ne)&&this.xhr_.setRequestHeader(ne,Y[ne].toString());return void 0!==H?this.xhr_.send(H):this.xhr_.send(),this.sendPromise_},k.prototype.getErrorCode=function(){if(!this.sent_)throw B("cannot .getErrorCode() before sending");return this.errorCode_},k.prototype.getStatus=function(){if(!this.sent_)throw B("cannot .getStatus() before sending");try{return this.xhr_.status}catch(M){return-1}},k.prototype.getResponseText=function(){if(!this.sent_)throw B("cannot .getResponseText() before sending");return this.xhr_.responseText},k.prototype.abort=function(){this.xhr_.abort()},k.prototype.getResponseHeader=function(M){return this.xhr_.getResponseHeader(M)},k.prototype.addUploadProgressListener=function(M){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",M)},k.prototype.removeUploadProgressListener=function(M){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",M)},k}(),yn=function(){function k(){}return k.prototype.createConnection=function(){return function za(){return new Fo}()},k}(),Ar=function(){function k(M,L){this.bucket=M,this.path_=L}return Object.defineProperty(k.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),k.prototype.fullServerUrl=function(){var M=encodeURIComponent;return"/b/"+M(this.bucket)+"/o/"+M(this.path)},k.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},k.makeFromBucketSpec=function(M,L){var H;try{H=k.makeFromUrl(M,L)}catch(Y){return new k(M,"")}if(""===H.path)return H;throw function Vt(k){return new ce("invalid-default-bucket","Invalid default bucket '"+k+"'.")}(M)},k.makeFromUrl=function(M,L){var H=null,Y="([A-Za-z0-9.\\-_]+)",de=new RegExp("^gs://"+Y+"(/(.*))?$","i");function Xe(Vr){Vr.path_=decodeURIComponent(Vr.path)}for(var ht=L.replace(/[.]/g,"\\."),io=[{regex:de,indices:{bucket:1,path:3},postModify:function ne(Vr){"/"===Vr.path.charAt(Vr.path.length-1)&&(Vr.path_=Vr.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+ht+"/v[A-Za-z0-9_]+/b/"+Y+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:Xe},{regex:new RegExp("^https?://"+(L===Tt?"(?:storage.googleapis.com|storage.cloud.google.com)":L)+"/"+Y+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:Xe}],Bo=0;Bo<io.length;Bo++){var Zu=io[Bo],Zt=Zu.regex.exec(M);if(Zt){var Br=Zt[Zu.indices.path];Br||(Br=""),H=new k(Zt[Zu.indices.bucket],Br),Zu.postModify(H);break}}if(null==H)throw function pr(k){return new ce("invalid-url","Invalid URL '"+k+"'.")}(M);return H},k}(),Ul=function(){function k(M){this.promise_=Promise.reject(M)}return k.prototype.getPromise=function(){return this.promise_},k.prototype.cancel=function(M){},k}();function Kn(k){return"string"==typeof k||k instanceof String}function jr(k){return on()&&k instanceof Blob}function on(){return"undefined"!=typeof Blob}function Ps(k,M,L,H){if(H<M)throw en("Invalid value for '"+k+"'. Expected "+M+" or greater.");if(H>L)throw en("Invalid value for '"+k+"'. Expected "+L+" or less.")}function vo(k,M){var L=M.match(/^(\w+):\/\/.+/),Y=M;return null==(null==L?void 0:L[1])&&(Y="https://"+M),Y+"/v0"+k}function Hl(k){var M=encodeURIComponent,L="?";for(var H in k)k.hasOwnProperty(H)&&(L=L+(M(H)+"=")+M(k[H])+"&");return L.slice(0,-1)}var ni=function(){function k(M,L,H,Y,ne,_e,de,xe,Xe,nt,ht){var sr=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=M,this.method_=L,this.headers_=H,this.body_=Y,this.successCodes_=ne.slice(),this.additionalRetryCodes_=_e.slice(),this.callback_=de,this.errorCallback_=xe,this.progressCallback_=nt,this.timeout_=Xe,this.pool_=ht,this.promise_=new Promise(function(Vn,At){sr.resolve_=Vn,sr.reject_=At,sr.start_()})}return k.prototype.start_=function(){var M=this;function H(Y,ne){var _e=M.resolve_,de=M.reject_,xe=ne.connection;if(ne.wasSuccessCode)try{var Xe=M.callback_(xe,xe.getResponseText());!function di(k){return void 0!==k}(Xe)?_e():_e(Xe)}catch(ht){de(ht)}else if(null!==xe)(nt=be()).serverResponse=xe.getResponseText(),de(M.errorCallback_?M.errorCallback_(xe,nt):nt);else if(ne.canceled)de(nt=M.appDelete_?Ci():ft());else{var nt;de(nt=function It(){return new ce("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())}}this.canceled_?H(0,new us(!1,null,!0)):this.backoffId_=function Pt(k,M,L){var H=1,Y=null,ne=!1,_e=0;function de(){return 2===_e}var xe=!1;function Xe(){for(var At=[],Un=0;Un<arguments.length;Un++)At[Un]=arguments[Un];xe||(xe=!0,M.apply(null,At))}function nt(At){Y=setTimeout(function(){Y=null,k(ht,de())},At)}function ht(At){for(var Un=[],mr=1;mr<arguments.length;mr++)Un[mr-1]=arguments[mr];if(!xe){if(At)return void Xe.call.apply(Xe,(0,I.ev)([null,At],Un));var fi;if(de()||ne)return void Xe.call.apply(Xe,(0,I.ev)([null,At],Un));H<64&&(H*=2),1===_e?(_e=2,fi=0):fi=1e3*(H+Math.random()),nt(fi)}}var sr=!1;function Vn(At){sr||(sr=!0,!xe&&(null!==Y?(At||(_e=2),clearTimeout(Y),nt(0)):At||(_e=1)))}return nt(0),setTimeout(function(){ne=!0,Vn(!0)},L),Vn}(function L(Y,ne){if(ne)Y(!1,new us(!1,null,!0));else{var _e=M.pool_.createConnection();M.pendingConnection_=_e,null!==M.progressCallback_&&_e.addUploadProgressListener(de),_e.send(M.url_,M.method_,M.body_,M.headers_).then(function(){null!==M.progressCallback_&&_e.removeUploadProgressListener(de),M.pendingConnection_=null;var xe=_e.getErrorCode()===No.NO_ERROR,Xe=_e.getStatus();if(xe&&!M.isRetryStatusCode_(Xe)){var ht=-1!==M.successCodes_.indexOf(Xe);Y(!0,new us(ht,_e))}else{var nt=_e.getErrorCode()===No.ABORT;Y(!1,new us(!1,null,nt))}})}function de(xe){null!==M.progressCallback_&&M.progressCallback_(xe.loaded,xe.lengthComputable?xe.total:-1)}},H,this.timeout_)},k.prototype.getPromise=function(){return this.promise_},k.prototype.cancel=function(M){this.canceled_=!0,this.appDelete_=M||!1,null!==this.backoffId_&&function Wt(k){k(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},k.prototype.isRetryStatusCode_=function(M){var L=M>=500&&M<600,Y=-1!==[408,429].indexOf(M),ne=-1!==this.additionalRetryCodes_.indexOf(M);return L||Y||ne},k}(),us=function k(M,L,H){this.wasSuccessCode=M,this.connection=L,this.canceled=!!H};function to(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function $a(){for(var k=[],M=0;M<arguments.length;M++)k[M]=arguments[M];var L=to();if(void 0!==L){for(var H=new L,Y=0;Y<k.length;Y++)H.append(k[Y]);return H.getBlob()}if(on())return new Blob(k);throw new ce("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Tn=function(){function k(M,L){var H=0,Y="";jr(M)?(this.data_=M,H=M.size,Y=M.type):M instanceof ArrayBuffer?(L?this.data_=new Uint8Array(M):(this.data_=new Uint8Array(M.byteLength),this.data_.set(new Uint8Array(M))),H=this.data_.length):M instanceof Uint8Array&&(L?this.data_=M:(this.data_=new Uint8Array(M.length),this.data_.set(M)),H=M.length),this.size_=H,this.type_=Y}return k.prototype.size=function(){return this.size_},k.prototype.type=function(){return this.type_},k.prototype.slice=function(M,L){if(jr(this.data_)){var Y=function Ga(k,M,L){return k.webkitSlice?k.webkitSlice(M,L):k.mozSlice?k.mozSlice(M,L):k.slice?k.slice(M,L):null}(this.data_,M,L);return null===Y?null:new k(Y)}return new k(new Uint8Array(this.data_.buffer,M,L-M),!0)},k.getBlob=function(){for(var M=[],L=0;L<arguments.length;L++)M[L]=arguments[L];if(on()){var H=M.map(function(xe){return xe instanceof k?xe.data_:xe});return new k($a.apply(null,H))}var Y=M.map(function(xe){return Kn(xe)?Qe(Oe.RAW,xe).data:xe.data_}),ne=0;Y.forEach(function(xe){ne+=xe.byteLength});var _e=new Uint8Array(ne),de=0;return Y.forEach(function(xe){for(var Xe=0;Xe<xe.length;Xe++)_e[de++]=xe[Xe]}),new k(_e,!0)},k.prototype.uploadData=function(){return this.data_},k}();function Ns(k){var M;try{M=JSON.parse(k)}catch(L){return null}return function jn(k){return"object"==typeof k&&!Array.isArray(k)}(M)?M:null}function Q(k){var M=k.lastIndexOf("/",k.length-2);return-1===M?k:k.slice(M+1)}function ie(k,M){return M}var K=function k(M,L,H,Y){this.server=M,this.local=L||M,this.writable=!!H,this.xform=Y||ie},Me=null;function Ut(){if(Me)return Me;var k=[];k.push(new K("bucket")),k.push(new K("generation")),k.push(new K("metageneration")),k.push(new K("name","fullPath",!0));var L=new K("name");L.xform=function M(ne,_e){return function ut(k){return!Kn(k)||k.length<2?k:Q(k)}(_e)},k.push(L);var Y=new K("size");return Y.xform=function H(ne,_e){return void 0!==_e?Number(_e):_e},k.push(Y),k.push(new K("timeCreated")),k.push(new K("updated")),k.push(new K("md5Hash",null,!0)),k.push(new K("cacheControl",null,!0)),k.push(new K("contentDisposition",null,!0)),k.push(new K("contentEncoding",null,!0)),k.push(new K("contentLanguage",null,!0)),k.push(new K("contentType",null,!0)),k.push(new K("metadata","customMetadata",!0)),Me=k}function Mr(k,M,L){var H=Ns(M);return null===H?null:function Kt(k,M,L){for(var H={type:"file"},Y=L.length,ne=0;ne<Y;ne++){var _e=L[ne];H[_e.local]=_e.xform(H,M[_e.server])}return function tn(k,M){Object.defineProperty(k,"ref",{get:function L(){var ne=new Ar(k.bucket,k.fullPath);return M._makeStorageReference(ne)}})}(H,k),H}(k,H,L)}function kt(k,M){for(var L={},H=M.length,Y=0;Y<H;Y++){var ne=M[Y];ne.writable&&(L[ne.server]=k[ne.local])}return JSON.stringify(L)}var no="prefixes";var cs=function k(M,L,H,Y){this.url=M,this.method=L,this.handler=H,this.timeout=Y,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Yn(k){if(!k)throw be()}function Fs(k,M){return function L(H,Y){var ne=Mr(k,Y,M);return Yn(null!==ne),ne}}function yo(k){return function M(L,H){var Y;return Y=401===L.getStatus()?L.getResponseText().includes("Firebase App Check token is invalid")?function Rt(){return new ce("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Be(){return new ce("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===L.getStatus()?function Ae(k){return new ce("quota-exceeded","Quota for bucket '"+k+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(k.bucket):403===L.getStatus()?function xt(k){return new ce("unauthorized","User does not have permission to access '"+k+"'.")}(k.path):H,Y.serverResponse=H.serverResponse,Y}}function ca(k){var M=yo(k);return function L(H,Y){var ne=M(H,Y);return 404===H.getStatus()&&(ne=function Re(k){return new ce("object-not-found","Object '"+k+"' does not exist.")}(k.path)),ne.serverResponse=Y.serverResponse,ne}}function $u(k,M,L){var Y=vo(M.fullServerUrl(),k.host),_e=k.maxOperationRetryTime,de=new cs(Y,"GET",Fs(k,L),_e);return de.errorHandler=ca(M),de}function Wa(k,M,L,H,Y){var ne={};ne.prefix=M.isRoot?"":M.path+"/",L&&L.length>0&&(ne.delimiter=L),H&&(ne.pageToken=H),Y&&(ne.maxResults=Y);var de=vo(M.bucketOnlyServerUrl(),k.host),Xe=k.maxOperationRetryTime,nt=new cs(de,"GET",function zu(k,M){return function L(H,Y){var ne=function jo(k,M,L){var H=Ns(L);return null===H?null:function qu(k,M,L){var H={prefixes:[],items:[],nextPageToken:L.nextPageToken};if(L[no])for(var Y=0,ne=L[no];Y<ne.length;Y++){var de=ne[Y].replace(/\/$/,""),xe=k._makeStorageReference(new Ar(M,de));H.prefixes.push(xe)}if(L.items)for(var Xe=0,nt=L.items;Xe<nt.length;Xe++)xe=k._makeStorageReference(new Ar(M,nt[Xe].name)),H.items.push(xe);return H}(k,M,H)}(k,M,Y);return Yn(null!==ne),ne}}(k,M.bucket),Xe);return nt.urlParams=ne,nt.errorHandler=yo(M),nt}function $l(k,M,L){var H=Object.assign({},L);return H.fullPath=k.path,H.size=M.size(),H.contentType||(H.contentType=function zl(k,M){return k&&k.contentType||M&&M.type()||"application/octet-stream"}(null,M)),H}var Ya=function k(M,L,H,Y){this.current=M,this.total=L,this.finalized=!!H,this.metadata=Y||null};function er(k,M){var L=null;try{L=k.getResponseHeader("X-Goog-Upload-Status")}catch(Y){Yn(!1)}return Yn(!!L&&-1!==(M||["active"]).indexOf(L)),L}var Xt=function k(M,L,H){var Y=function In(k){return"function"==typeof k}(M)||null!=L||null!=H;if(Y)this.next=M,this.error=L,this.complete=H;else{var ne=M;this.next=ne.next,this.error=ne.error,this.complete=ne.complete}};function js(k){return function(){for(var M=[],L=0;L<arguments.length;L++)M[L]=arguments[L];Promise.resolve().then(function(){return k.apply(void 0,M)})}}var sn=function(){function k(M,L,H){var Y=this;void 0===H&&(H=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=M,this._blob=L,this._metadata=H,this._mappings=Ut(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(ne){Y._request=void 0,Y._chunkMultiplier=1,ne._codeEquals("canceled")?(Y._needToFetchStatus=!0,Y.completeTransitions_()):(Y._error=ne,Y._transition("error"))},this._metadataErrorHandler=function(ne){Y._request=void 0,ne._codeEquals("canceled")?Y.completeTransitions_():(Y._error=ne,Y._transition("error"))},this._promise=new Promise(function(ne,_e){Y._resolve=ne,Y._reject=_e,Y._start()}),this._promise.then(null,function(){})}return k.prototype._makeProgressCallback=function(){var M=this,L=this._transferred;return function(H){return M._updateProgress(L+H)}},k.prototype._shouldDoResumable=function(M){return M.size()>262144},k.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},k.prototype._resolveToken=function(M){var L=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(H){var Y=H[0],ne=H[1];switch(L._state){case"running":M(Y,ne);break;case"canceling":L._transition("canceled");break;case"pausing":L._transition("paused")}})},k.prototype._createResumable=function(){var M=this;this._resolveToken(function(L,H){var Y=function Qa(k,M,L,H,Y){var ne=M.bucketOnlyServerUrl(),_e=$l(M,H,Y),de={name:_e.fullPath},xe=vo(ne,k.host),nt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+H.size(),"X-Goog-Upload-Header-Content-Type":_e.contentType,"Content-Type":"application/json; charset=utf-8"},ht=kt(_e,L),At=new cs(xe,"POST",function Vn(Un){var mr;er(Un);try{mr=Un.getResponseHeader("X-Goog-Upload-URL")}catch(vr){Yn(!1)}return Yn(Kn(mr)),mr},k.maxUploadRetryTime);return At.urlParams=de,At.headers=nt,At.body=ht,At.errorHandler=yo(M),At}(M._ref.storage,M._ref._location,M._mappings,M._blob,M._metadata),ne=M._ref.storage._makeRequest(Y,L,H);M._request=ne,ne.getPromise().then(function(_e){M._request=void 0,M._uploadUrl=_e,M._needToFetchStatus=!1,M.completeTransitions_()},M._errorHandler)})},k.prototype._fetchStatus=function(){var M=this,L=this._uploadUrl;this._resolveToken(function(H,Y){var ne=function Rr(k,M,L,H){var xe=new cs(L,"POST",function ne(Xe){var nt=er(Xe,["active","final"]),ht=null;try{ht=Xe.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Vn){Yn(!1)}ht||Yn(!1);var sr=Number(ht);return Yn(!isNaN(sr)),new Ya(sr,H.size(),"final"===nt)},k.maxUploadRetryTime);return xe.headers={"X-Goog-Upload-Command":"query"},xe.errorHandler=yo(M),xe}(M._ref.storage,M._ref._location,L,M._blob),_e=M._ref.storage._makeRequest(ne,H,Y);M._request=_e,_e.getPromise().then(function(de){de=de,M._request=void 0,M._updateProgress(de.current),M._needToFetchStatus=!1,de.finalized&&(M._needToFetchMetadata=!0),M.completeTransitions_()},M._errorHandler)})},k.prototype._continueUpload=function(){var M=this,L=262144*this._chunkMultiplier,H=new Ya(this._transferred,this._blob.size()),Y=this._uploadUrl;this._resolveToken(function(ne,_e){var de;try{de=function Li(k,M,L,H,Y,ne,_e,de){var xe=new Ya(0,0);if(_e?(xe.current=_e.current,xe.total=_e.total):(xe.current=0,xe.total=H.size()),H.size()!==xe.total)throw function Ln(){return new ce("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();var Xe=xe.total-xe.current,nt=Xe;Y>0&&(nt=Math.min(nt,Y));var ht=xe.current,At={"X-Goog-Upload-Command":nt===Xe?"upload, finalize":"upload","X-Goog-Upload-Offset":""+xe.current},Un=H.slice(ht,ht+nt);if(null===Un)throw pt();var io=new cs(L,"POST",function mr(Bo,Zu){var Vr,Zt=er(Bo,["active","final"]),yr=xe.current+nt,Br=H.size();return Vr="final"===Zt?Fs(M,ne)(Bo,Zu):null,new Ya(yr,Br,"final"===Zt,Vr)},M.maxUploadRetryTime);return io.headers=At,io.body=Un.uploadData(),io.progressCallback=de||null,io.errorHandler=yo(k),io}(M._ref._location,M._ref.storage,Y,M._blob,L,M._mappings,H,M._makeProgressCallback())}catch(Xe){return M._error=Xe,void M._transition("error")}var xe=M._ref.storage._makeRequest(de,ne,_e);M._request=xe,xe.getPromise().then(function(Xe){M._increaseMultiplier(),M._request=void 0,M._updateProgress(Xe.current),Xe.finalized?(M._metadata=Xe.metadata,M._transition("success")):M.completeTransitions_()},M._errorHandler)})},k.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},k.prototype._fetchMetadata=function(){var M=this;this._resolveToken(function(L,H){var Y=$u(M._ref.storage,M._ref._location,M._mappings),ne=M._ref.storage._makeRequest(Y,L,H);M._request=ne,ne.getPromise().then(function(_e){M._request=void 0,M._metadata=_e,M._transition("success")},M._metadataErrorHandler)})},k.prototype._oneShotUpload=function(){var M=this;this._resolveToken(function(L,H){var Y=function Ka(k,M,L,H,Y){var ne=M.bucketOnlyServerUrl(),_e={"X-Goog-Upload-Protocol":"multipart"},xe=function de(){for(var io="",Bo=0;Bo<2;Bo++)io+=Math.random().toString().slice(2);return io}();_e["Content-Type"]="multipart/related; boundary="+xe;var Xe=$l(M,H,Y),nt=kt(Xe,L),Vn=Tn.getBlob("--"+xe+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+nt+"\r\n--"+xe+"\r\nContent-Type: "+Xe.contentType+"\r\n\r\n",H,"\r\n--"+xe+"--");if(null===Vn)throw pt();var At={name:Xe.fullPath},Un=vo(ne,k.host),vr=k.maxUploadRetryTime,fi=new cs(Un,"POST",Fs(k,L),vr);return fi.urlParams=At,fi.headers=_e,fi.body=Vn.uploadData(),fi.errorHandler=yo(M),fi}(M._ref.storage,M._ref._location,M._mappings,M._blob,M._metadata),ne=M._ref.storage._makeRequest(Y,L,H);M._request=ne,ne.getPromise().then(function(_e){M._request=void 0,M._metadata=_e,M._updateProgress(M._blob.size()),M._transition("success")},M._errorHandler)})},k.prototype._updateProgress=function(M){var L=this._transferred;this._transferred=M,this._transferred!==L&&this._notifyObservers()},k.prototype._transition=function(M){if(this._state!==M)switch(M){case"canceling":case"pausing":this._state=M,void 0!==this._request&&this._request.cancel();break;case"running":var L="paused"===this._state;this._state=M,L&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=M,this._notifyObservers();break;case"canceled":this._error=ft(),this._state=M,this._notifyObservers()}},k.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(k.prototype,"snapshot",{get:function(){var M=Fi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:M,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),k.prototype.on=function(M,L,H,Y){var ne=this,_e=new Xt(L,H,Y);return this._addObserver(_e),function(){ne._removeObserver(_e)}},k.prototype.then=function(M,L){return this._promise.then(M,L)},k.prototype.catch=function(M){return this.then(null,M)},k.prototype._addObserver=function(M){this._observers.push(M),this._notifyObserver(M)},k.prototype._removeObserver=function(M){var L=this._observers.indexOf(M);-1!==L&&this._observers.splice(L,1)},k.prototype._notifyObservers=function(){var M=this;this._finishPromise(),this._observers.slice().forEach(function(H){M._notifyObserver(H)})},k.prototype._finishPromise=function(){if(void 0!==this._resolve){var M=!0;switch(Fi(this._state)){case ln.SUCCESS:js(this._resolve.bind(null,this.snapshot))();break;case ln.CANCELED:case ln.ERROR:js(this._reject.bind(null,this._error))();break;default:M=!1}M&&(this._resolve=void 0,this._reject=void 0)}},k.prototype._notifyObserver=function(M){switch(Fi(this._state)){case ln.RUNNING:case ln.PAUSED:M.next&&js(M.next.bind(M,this.snapshot))();break;case ln.SUCCESS:M.complete&&js(M.complete.bind(M))();break;default:M.error&&js(M.error.bind(M,this._error))()}},k.prototype.resume=function(){var M="paused"===this._state||"pausing"===this._state;return M&&this._transition("running"),M},k.prototype.pause=function(){var M="running"===this._state;return M&&this._transition("pausing"),M},k.prototype.cancel=function(){var M="running"===this._state||"pausing"===this._state;return M&&this._transition("canceling"),M},k}(),ro=function(){function k(M,L){this._service=M,this._location=L instanceof Ar?L:Ar.makeFromUrl(L,M.host)}return k.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},k.prototype._newRef=function(M,L){return new k(M,L)},Object.defineProperty(k.prototype,"root",{get:function(){var M=new Ar(this._location.bucket,"");return this._newRef(this._service,M)},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"name",{get:function(){return Q(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"parent",{get:function(){var M=function W(k){if(0===k.length)return null;var M=k.lastIndexOf("/");return-1===M?"":k.slice(0,M)}(this._location.path);if(null===M)return null;var L=new Ar(this._location.bucket,M);return new k(this._service,L)},enumerable:!1,configurable:!0}),k.prototype._throwIfRoot=function(M){if(""===this._location.path)throw te(M)},k}();function ls(k){var M={prefixes:[],items:[]};return vt(k,M).then(function(){return M})}function vt(k,M,L){return(0,I.mG)(this,void 0,void 0,function(){var Y,ne,_e;return(0,I.Jh)(this,function(de){switch(de.label){case 0:return[4,hs(k,{pageToken:L})];case 1:return Y=de.sent(),(ne=M.prefixes).push.apply(ne,Y.prefixes),(_e=M.items).push.apply(_e,Y.items),null==Y.nextPageToken?[3,3]:[4,vt(k,M,Y.nextPageToken)];case 2:de.sent(),de.label=3;case 3:return[2]}})})}function hs(k,M){return(0,I.mG)(this,void 0,void 0,function(){var L,H;return(0,I.Jh)(this,function(Y){switch(Y.label){case 0:return null!=M&&"number"==typeof M.maxResults&&Ps("options.maxResults",1,1e3,M.maxResults),H=Wa(k.storage,k._location,"/",(L=M||{}).pageToken,L.maxResults),[4,k.storage.makeRequestWithTokens(H)];case 1:return[2,Y.sent().getPromise()]}})})}function Wu(k){return(0,I.mG)(this,void 0,void 0,function(){var M;return(0,I.Jh)(this,function(L){switch(L.label){case 0:return k._throwIfRoot("getDownloadURL"),M=function Gu(k,M,L){var Y=vo(M.fullServerUrl(),k.host),_e=k.maxOperationRetryTime,de=new cs(Y,"GET",function Lc(k,M){return function L(H,Y){var ne=Mr(k,Y,M);return Yn(null!==ne),function Ht(k,M,L){var H=Ns(M);if(null===H||!Kn(H.downloadTokens))return null;var Y=H.downloadTokens;if(0===Y.length)return null;var ne=encodeURIComponent;return Y.split(",").map(function(xe){var nt=k.fullPath;return vo("/b/"+ne(k.bucket)+"/o/"+ne(nt),L)+Hl({alt:"media",token:xe})})[0]}(ne,Y,k.host)}}(k,L),_e);return de.errorHandler=ca(M),de}(k.storage,k._location,Ut()),[4,k.storage.makeRequestWithTokens(M)];case 1:return[2,L.sent().getPromise().then(function(H){if(null===H)throw function et(){return new ce("no-download-url","The given file does not have any download URLs.")}();return H})]}})})}function hr(k,M){var L=function G(k,M){var L=M.split("/").filter(function(H){return H.length>0}).join("/");return 0===k.length?L:k+"/"+L}(k._location.path,M),H=new Ar(k._location.bucket,L);return new ro(k.storage,H)}function _o(k){return/^[A-Za-z]+:\/\//.test(k)}function Xa(k,M){if(k instanceof Ja){var L=k;if(null==L._bucket)throw function ti(){return new ce("no-default-bucket","No default bucket found. Did you set the '"+eo+"' property when initializing the app?")}();var H=new ro(L,L._bucket);return null!=M?Xa(H,M):H}return void 0!==M?hr(k,M):k}function Za(k,M){if(M&&_o(M)){if(k instanceof Ja)return function bd(k,M){return new ro(k,M)}(k,M);throw en("To use ref(service, url), the first argument must be a Storage instance.")}return Xa(k,M)}function gr(k,M){var L=null==M?void 0:M[eo];return null==L?null:Ar.makeFromBucketSpec(L,k)}var Ja=function(){function k(M,L,H,Y,ne,_e){this.app=M,this._authProvider=L,this._appCheckProvider=H,this._pool=Y,this._url=ne,this._firebaseVersion=_e,this._bucket=null,this._host=Tt,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ne?Ar.makeFromBucketSpec(ne,this._host):gr(this._host,this.app.options)}return Object.defineProperty(k.prototype,"host",{get:function(){return this._host},set:function(M){this._host=M,this._bucket=null!=this._url?Ar.makeFromBucketSpec(this._url,M):gr(M,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(M){Ps("time",0,Number.POSITIVE_INFINITY,M),this._maxUploadRetryTime=M},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(M){Ps("time",0,Number.POSITIVE_INFINITY,M),this._maxOperationRetryTime=M},enumerable:!1,configurable:!0}),k.prototype._getAuthToken=function(){return(0,I.mG)(this,void 0,void 0,function(){var M,L;return(0,I.Jh)(this,function(H){switch(H.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(M=this._authProvider.getImmediate({optional:!0}))?[4,M.getToken()]:[3,2];case 1:if(null!==(L=H.sent()))return[2,L.accessToken];H.label=2;case 2:return[2,null]}})})},k.prototype._getAppCheckToken=function(){return(0,I.mG)(this,void 0,void 0,function(){var M;return(0,I.Jh)(this,function(H){switch(H.label){case 0:return(M=this._appCheckProvider.getImmediate({optional:!0}))?[4,M.getToken()]:[3,2];case 1:return[2,H.sent().token];case 2:return[2,null]}})})},k.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(M){return M.cancel()}),this._requests.clear()),Promise.resolve()},k.prototype._makeStorageReference=function(M){return new ro(this,M)},k.prototype._makeRequest=function(M,L,H){var Y=this;if(this._deleted)return new Ul(Ci());var ne=function Lo(k,M,L,H,Y,ne){var _e=Hl(k.urlParams),de=k.url+_e,xe=Object.assign({},k.headers);return function _d(k,M){M&&(k["X-Firebase-GMPID"]=M)}(xe,M),function pp(k,M){null!==M&&M.length>0&&(k.Authorization="Firebase "+M)}(xe,L),function Hu(k,M){k["X-Firebase-Storage-Version"]="webjs/"+(null!=M?M:"AppManager")}(xe,ne),function wn(k,M){null!==M&&(k["X-Firebase-AppCheck"]=M)}(xe,H),new ni(de,k.method,xe,k.body,k.successCodes,k.additionalRetryCodes,k.handler,k.errorHandler,k.timeout,k.progressCallback,Y)}(M,this._appId,L,H,this._pool,this._firebaseVersion);return this._requests.add(ne),ne.getPromise().then(function(){return Y._requests.delete(ne)},function(){return Y._requests.delete(ne)}),ne},k.prototype.makeRequestWithTokens=function(M){return(0,I.mG)(this,void 0,void 0,function(){var L;return(0,I.Jh)(this,function(ne){switch(ne.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return L=ne.sent(),[2,this._makeRequest(M,L[0],L[1])]}})})},k}();function Qu(k,M){return Za(k=(0,Ge.m9)(k),M)}var ot=function(){function k(M,L,H){this._delegate=M,this.task=L,this.ref=H}return Object.defineProperty(k.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),k}(),nn=function(){function k(M,L){this._delegate=M,this._ref=L,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(k.prototype,"snapshot",{get:function(){return new ot(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),k.prototype.then=function(M,L){var H=this;return this._delegate.then(function(Y){if(M)return M(new ot(Y,H,H._ref))},L)},k.prototype.on=function(M,L,H,Y){var ne=this,_e=void 0;return L&&(_e="function"==typeof L?function(de){return L(new ot(de,ne,ne._ref))}:{next:L.next?function(de){return L.next(new ot(de,ne,ne._ref))}:void 0,complete:L.complete||void 0,error:L.error||void 0}),this._delegate.on(M,_e,H||void 0,Y||void 0)},k}(),ds=function(){function k(M,L){this._delegate=M,this._service=L}return Object.defineProperty(k.prototype,"prefixes",{get:function(){var M=this;return this._delegate.prefixes.map(function(L){return new Bi(L,M._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"items",{get:function(){var M=this;return this._delegate.items.map(function(L){return new Bi(L,M._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),k}(),Bi=function(){function k(M,L){this._delegate=M,this.storage=L}return Object.defineProperty(k.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),k.prototype.toString=function(){return this._delegate.toString()},k.prototype.child=function(M){var L=function Ql(k,M){return hr(k,M)}(this._delegate,M);return new k(L,this.storage)},Object.defineProperty(k.prototype,"root",{get:function(){return new k(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"parent",{get:function(){var M=this._delegate.parent;return null==M?null:new k(M,this.storage)},enumerable:!1,configurable:!0}),k.prototype.put=function(M,L){return this._throwIfRoot("put"),new nn(function Ku(k,M,L){return function Wl(k,M,L){return k._throwIfRoot("uploadBytesResumable"),new sn(k,new Tn(M),L)}(k=(0,Ge.m9)(k),M,L)}(this._delegate,M,L),this)},k.prototype.putString=function(M,L,H){void 0===L&&(L=Oe.RAW),this._throwIfRoot("putString");var Y=Qe(L,M),ne=(0,I.pi)({},H);return null==ne.contentType&&null!=Y.contentType&&(ne.contentType=Y.contentType),new nn(new sn(this._delegate,new Tn(Y.data,!0),ne),this)},k.prototype.listAll=function(){var M=this;return function Yl(k){return ls(k=(0,Ge.m9)(k))}(this._delegate).then(function(L){return new ds(L,M.storage)})},k.prototype.list=function(M){var L=this;return function gp(k,M){return hs(k=(0,Ge.m9)(k),M)}(this._delegate,M||void 0).then(function(H){return new ds(H,L.storage)})},k.prototype.getMetadata=function(){return function ji(k){return function Kl(k){return(0,I.mG)(this,void 0,void 0,function(){var M;return(0,I.Jh)(this,function(L){switch(L.label){case 0:return k._throwIfRoot("getMetadata"),M=$u(k.storage,k._location,Ut()),[4,k.storage.makeRequestWithTokens(M)];case 1:return[2,L.sent().getPromise()]}})})}(k=(0,Ge.m9)(k))}(this._delegate)},k.prototype.updateMetadata=function(M){return function eu(k,M){return function yt(k,M){return(0,I.mG)(this,void 0,void 0,function(){var L;return(0,I.Jh)(this,function(H){switch(H.label){case 0:return k._throwIfRoot("updateMetadata"),L=function Ls(k,M,L,H){var ne=vo(M.fullServerUrl(),k.host),de=kt(L,H),Xe=k.maxOperationRetryTime,nt=new cs(ne,"PATCH",Fs(k,H),Xe);return nt.headers={"Content-Type":"application/json; charset=utf-8"},nt.body=de,nt.errorHandler=ca(M),nt}(k.storage,k._location,M,Ut()),[4,k.storage.makeRequestWithTokens(L)];case 1:return[2,H.sent().getPromise()]}})})}(k=(0,Ge.m9)(k),M)}(this._delegate,M)},k.prototype.getDownloadURL=function(){return function Yu(k){return Wu(k=(0,Ge.m9)(k))}(this._delegate)},k.prototype.delete=function(){return this._throwIfRoot("delete"),function jc(k){return function ct(k){return(0,I.mG)(this,void 0,void 0,function(){var M;return(0,I.Jh)(this,function(L){switch(L.label){case 0:return k._throwIfRoot("deleteObject"),M=function ql(k,M){var H=vo(M.fullServerUrl(),k.host),de=new cs(H,"DELETE",function _e(xe,Xe){},k.maxOperationRetryTime);return de.successCodes=[200,204],de.errorHandler=ca(M),de}(k.storage,k._location),[4,k.storage.makeRequestWithTokens(M)];case 1:return[2,L.sent().getPromise()]}})})}(k=(0,Ge.m9)(k))}(this._delegate)},k.prototype._throwIfRoot=function(M){if(""===this._delegate._location.path)throw te(M)},k}(),Bc=function(){function k(M,L){this.app=M,this._delegate=L}return Object.defineProperty(k.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),k.prototype.ref=function(M){if(_o(M))throw en("ref() expected a child path but got a URL, use refFromURL instead.");return new Bi(Qu(this._delegate,M),this)},k.prototype.refFromURL=function(M){if(!_o(M))throw en("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ar.makeFromUrl(M,this._delegate.host)}catch(L){throw en("refFromUrl() expected a valid full URL but got an invalid one.")}return new Bi(Qu(this._delegate,M),this)},k.prototype.setMaxUploadRetryTime=function(M){this._delegate.maxUploadRetryTime=M},k.prototype.setMaxOperationRetryTime=function(M){this._delegate.maxOperationRetryTime=M},k.prototype.useEmulator=function(M,L,H){void 0===H&&(H={}),function Ed(k,M,L,H){void 0===H&&(H={}),function wd(k,M,L,H){void 0===H&&(H={}),k.host="http://"+M+":"+L;var Y=H.mockUserToken;Y&&(k._overrideAuthToken="string"==typeof Y?Y:(0,Ge.Sg)(Y,k.app.options.projectId))}(k,M,L,H)}(this._delegate,M,L,H)},k}();function An(k,M){var L=M.instanceIdentifier,H=k.getProvider("app").getImmediate(),Y=k.getProvider("auth-internal"),ne=k.getProvider("app-check-internal");return new Bc(H,new Ja(H,Y,ne,new yn,L,ge.Z.SDK_VERSION))}!function Xu(k){var M={TaskState:ln,TaskEvent:vn,StringFormat:Oe,Storage:Ja,Reference:Bi};k.INTERNAL.registerComponent(new it.wA("storage",An,"PUBLIC").setServiceProps(M).setMultipleInstances(!0)),k.registerVersion("@firebase/storage","0.7.1")}(ge.Z)},655:(qa,hi,Ft)=>{Ft.d(hi,{ZT:()=>I,pi:()=>Ge,mG:()=>Ei,Jh:()=>ce,XA:()=>Re,CR:()=>Ae,ev:()=>xt});var ge=function(te,ye){return(ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,he){B.__proto__=he}||function(B,he){for(var Oe in he)Object.prototype.hasOwnProperty.call(he,Oe)&&(B[Oe]=he[Oe])})(te,ye)};function I(te,ye){if("function"!=typeof ye&&null!==ye)throw new TypeError("Class extends value "+String(ye)+" is not a constructor or null");function B(){this.constructor=te}ge(te,ye),te.prototype=null===ye?Object.create(ye):(B.prototype=ye.prototype,new B)}var Ge=function(){return Ge=Object.assign||function(ye){for(var B,he=1,Oe=arguments.length;he<Oe;he++)for(var ke in B=arguments[he])Object.prototype.hasOwnProperty.call(B,ke)&&(ye[ke]=B[ke]);return ye},Ge.apply(this,arguments)};function Ei(te,ye,B,he){return new(B||(B=Promise))(function(ke,Qe){function Lt(Qt){try{dt(he.next(Qt))}catch(Ue){Qe(Ue)}}function We(Qt){try{dt(he.throw(Qt))}catch(Ue){Qe(Ue)}}function dt(Qt){Qt.done?ke(Qt.value):function Oe(ke){return ke instanceof B?ke:new B(function(Qe){Qe(ke)})}(Qt.value).then(Lt,We)}dt((he=he.apply(te,ye||[])).next())})}function ce(te,ye){var he,Oe,ke,Qe,B={label:0,sent:function(){if(1&ke[0])throw ke[1];return ke[1]},trys:[],ops:[]};return Qe={next:Lt(0),throw:Lt(1),return:Lt(2)},"function"==typeof Symbol&&(Qe[Symbol.iterator]=function(){return this}),Qe;function Lt(dt){return function(Qt){return function We(dt){if(he)throw new TypeError("Generator is already executing.");for(;B;)try{if(he=1,Oe&&(ke=2&dt[0]?Oe.return:dt[0]?Oe.throw||((ke=Oe.return)&&ke.call(Oe),0):Oe.next)&&!(ke=ke.call(Oe,dt[1])).done)return ke;switch(Oe=0,ke&&(dt=[2&dt[0],ke.value]),dt[0]){case 0:case 1:ke=dt;break;case 4:return B.label++,{value:dt[1],done:!1};case 5:B.label++,Oe=dt[1],dt=[0];continue;case 7:dt=B.ops.pop(),B.trys.pop();continue;default:if(!(ke=(ke=B.trys).length>0&&ke[ke.length-1])&&(6===dt[0]||2===dt[0])){B=0;continue}if(3===dt[0]&&(!ke||dt[1]>ke[0]&&dt[1]<ke[3])){B.label=dt[1];break}if(6===dt[0]&&B.label<ke[1]){B.label=ke[1],ke=dt;break}if(ke&&B.label<ke[2]){B.label=ke[2],B.ops.push(dt);break}ke[2]&&B.ops.pop(),B.trys.pop();continue}dt=ye.call(te,B)}catch(Qt){dt=[6,Qt],Oe=0}finally{he=ke=0}if(5&dt[0])throw dt[1];return{value:dt[0]?dt[1]:void 0,done:!0}}([dt,Qt])}}}function Re(te){var ye="function"==typeof Symbol&&Symbol.iterator,B=ye&&te[ye],he=0;if(B)return B.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&he>=te.length&&(te=void 0),{value:te&&te[he++],done:!te}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ae(te,ye){var B="function"==typeof Symbol&&te[Symbol.iterator];if(!B)return te;var Oe,Qe,he=B.call(te),ke=[];try{for(;(void 0===ye||ye-- >0)&&!(Oe=he.next()).done;)ke.push(Oe.value)}catch(Lt){Qe={error:Lt}}finally{try{Oe&&!Oe.done&&(B=he.return)&&B.call(he)}finally{if(Qe)throw Qe.error}}return ke}function xt(te,ye,B){if(B||2===arguments.length)for(var ke,he=0,Oe=ye.length;he<Oe;he++)(ke||!(he in ye))&&(ke||(ke=Array.prototype.slice.call(ye,0,he)),ke[he]=ye[he]);return te.concat(ke||Array.prototype.slice.call(ye))}}},qa=>{qa(qa.s=400)}]);